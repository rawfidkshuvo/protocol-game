(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))a(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&a(d)}).observe(document,{childList:!0,subtree:!0});function i(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerPolicy&&(c.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?c.credentials="include":l.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function a(l){if(l.ep)return;l.ep=!0;const c=i(l);fetch(l.href,c)}})();var Cd={exports:{}},gl={};var O_;function wb(){if(O_)return gl;O_=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function i(a,l,c){var d=null;if(c!==void 0&&(d=""+c),l.key!==void 0&&(d=""+l.key),"key"in l){c={};for(var p in l)p!=="key"&&(c[p]=l[p])}else c=l;return l=c.ref,{$$typeof:r,type:a,key:d,ref:l!==void 0?l:null,props:c}}return gl.Fragment=t,gl.jsx=i,gl.jsxs=i,gl}var M_;function Rb(){return M_||(M_=1,Cd.exports=wb()),Cd.exports}var N=Rb(),Id={exports:{}},Tt={};var V_;function Cb(){if(V_)return Tt;V_=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),_=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),w=Symbol.for("react.activity"),M=Symbol.iterator;function Q(S){return S===null||typeof S!="object"?null:(S=M&&S[M]||S["@@iterator"],typeof S=="function"?S:null)}var tt={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},it=Object.assign,W={};function dt(S,L,$){this.props=S,this.context=L,this.refs=W,this.updater=$||tt}dt.prototype.isReactComponent={},dt.prototype.setState=function(S,L){if(typeof S!="object"&&typeof S!="function"&&S!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,S,L,"setState")},dt.prototype.forceUpdate=function(S){this.updater.enqueueForceUpdate(this,S,"forceUpdate")};function vt(){}vt.prototype=dt.prototype;function mt(S,L,$){this.props=S,this.context=L,this.refs=W,this.updater=$||tt}var Ht=mt.prototype=new vt;Ht.constructor=mt,it(Ht,dt.prototype),Ht.isPureReactComponent=!0;var zt=Array.isArray;function Ut(){}var x={H:null,A:null,T:null,S:null},A=Object.prototype.hasOwnProperty;function I(S,L,$){var J=$.ref;return{$$typeof:r,type:S,key:L,ref:J!==void 0?J:null,props:$}}function V(S,L){return I(S.type,L,S.props)}function O(S){return typeof S=="object"&&S!==null&&S.$$typeof===r}function U(S){var L={"=":"=0",":":"=2"};return"$"+S.replace(/[=:]/g,function($){return L[$]})}var R=/\/+/g;function ee(S,L){return typeof S=="object"&&S!==null&&S.key!=null?U(""+S.key):L.toString(36)}function fe(S){switch(S.status){case"fulfilled":return S.value;case"rejected":throw S.reason;default:switch(typeof S.status=="string"?S.then(Ut,Ut):(S.status="pending",S.then(function(L){S.status==="pending"&&(S.status="fulfilled",S.value=L)},function(L){S.status==="pending"&&(S.status="rejected",S.reason=L)})),S.status){case"fulfilled":return S.value;case"rejected":throw S.reason}}throw S}function G(S,L,$,J,ct){var at=typeof S;(at==="undefined"||at==="boolean")&&(S=null);var nt=!1;if(S===null)nt=!0;else switch(at){case"bigint":case"string":case"number":nt=!0;break;case"object":switch(S.$$typeof){case r:case t:nt=!0;break;case E:return nt=S._init,G(nt(S._payload),L,$,J,ct)}}if(nt)return ct=ct(S),nt=J===""?"."+ee(S,0):J,zt(ct)?($="",nt!=null&&($=nt.replace(R,"$&/")+"/"),G(ct,L,$,"",function(Oe){return Oe})):ct!=null&&(O(ct)&&(ct=V(ct,$+(ct.key==null||S&&S.key===ct.key?"":(""+ct.key).replace(R,"$&/")+"/")+nt)),L.push(ct)),1;nt=0;var Rt=J===""?".":J+":";if(zt(S))for(var Ct=0;Ct<S.length;Ct++)J=S[Ct],at=Rt+ee(J,Ct),nt+=G(J,L,$,at,ct);else if(Ct=Q(S),typeof Ct=="function")for(S=Ct.call(S),Ct=0;!(J=S.next()).done;)J=J.value,at=Rt+ee(J,Ct++),nt+=G(J,L,$,at,ct);else if(at==="object"){if(typeof S.then=="function")return G(fe(S),L,$,J,ct);throw L=String(S),Error("Objects are not valid as a React child (found: "+(L==="[object Object]"?"object with keys {"+Object.keys(S).join(", ")+"}":L)+"). If you meant to render a collection of children, use an array instead.")}return nt}function st(S,L,$){if(S==null)return S;var J=[],ct=0;return G(S,J,"","",function(at){return L.call($,at,ct++)}),J}function ht(S){if(S._status===-1){var L=S._result;L=L(),L.then(function($){(S._status===0||S._status===-1)&&(S._status=1,S._result=$)},function($){(S._status===0||S._status===-1)&&(S._status=2,S._result=$)}),S._status===-1&&(S._status=0,S._result=L)}if(S._status===1)return S._result.default;throw S._result}var xt=typeof reportError=="function"?reportError:function(S){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var L=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof S=="object"&&S!==null&&typeof S.message=="string"?String(S.message):String(S),error:S});if(!window.dispatchEvent(L))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",S);return}console.error(S)},jt={map:st,forEach:function(S,L,$){st(S,function(){L.apply(this,arguments)},$)},count:function(S){var L=0;return st(S,function(){L++}),L},toArray:function(S){return st(S,function(L){return L})||[]},only:function(S){if(!O(S))throw Error("React.Children.only expected to receive a single React element child.");return S}};return Tt.Activity=w,Tt.Children=jt,Tt.Component=dt,Tt.Fragment=i,Tt.Profiler=l,Tt.PureComponent=mt,Tt.StrictMode=a,Tt.Suspense=_,Tt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=x,Tt.__COMPILER_RUNTIME={__proto__:null,c:function(S){return x.H.useMemoCache(S)}},Tt.cache=function(S){return function(){return S.apply(null,arguments)}},Tt.cacheSignal=function(){return null},Tt.cloneElement=function(S,L,$){if(S==null)throw Error("The argument must be a React element, but you passed "+S+".");var J=it({},S.props),ct=S.key;if(L!=null)for(at in L.key!==void 0&&(ct=""+L.key),L)!A.call(L,at)||at==="key"||at==="__self"||at==="__source"||at==="ref"&&L.ref===void 0||(J[at]=L[at]);var at=arguments.length-2;if(at===1)J.children=$;else if(1<at){for(var nt=Array(at),Rt=0;Rt<at;Rt++)nt[Rt]=arguments[Rt+2];J.children=nt}return I(S.type,ct,J)},Tt.createContext=function(S){return S={$$typeof:d,_currentValue:S,_currentValue2:S,_threadCount:0,Provider:null,Consumer:null},S.Provider=S,S.Consumer={$$typeof:c,_context:S},S},Tt.createElement=function(S,L,$){var J,ct={},at=null;if(L!=null)for(J in L.key!==void 0&&(at=""+L.key),L)A.call(L,J)&&J!=="key"&&J!=="__self"&&J!=="__source"&&(ct[J]=L[J]);var nt=arguments.length-2;if(nt===1)ct.children=$;else if(1<nt){for(var Rt=Array(nt),Ct=0;Ct<nt;Ct++)Rt[Ct]=arguments[Ct+2];ct.children=Rt}if(S&&S.defaultProps)for(J in nt=S.defaultProps,nt)ct[J]===void 0&&(ct[J]=nt[J]);return I(S,at,ct)},Tt.createRef=function(){return{current:null}},Tt.forwardRef=function(S){return{$$typeof:p,render:S}},Tt.isValidElement=O,Tt.lazy=function(S){return{$$typeof:E,_payload:{_status:-1,_result:S},_init:ht}},Tt.memo=function(S,L){return{$$typeof:y,type:S,compare:L===void 0?null:L}},Tt.startTransition=function(S){var L=x.T,$={};x.T=$;try{var J=S(),ct=x.S;ct!==null&&ct($,J),typeof J=="object"&&J!==null&&typeof J.then=="function"&&J.then(Ut,xt)}catch(at){xt(at)}finally{L!==null&&$.types!==null&&(L.types=$.types),x.T=L}},Tt.unstable_useCacheRefresh=function(){return x.H.useCacheRefresh()},Tt.use=function(S){return x.H.use(S)},Tt.useActionState=function(S,L,$){return x.H.useActionState(S,L,$)},Tt.useCallback=function(S,L){return x.H.useCallback(S,L)},Tt.useContext=function(S){return x.H.useContext(S)},Tt.useDebugValue=function(){},Tt.useDeferredValue=function(S,L){return x.H.useDeferredValue(S,L)},Tt.useEffect=function(S,L){return x.H.useEffect(S,L)},Tt.useEffectEvent=function(S){return x.H.useEffectEvent(S)},Tt.useId=function(){return x.H.useId()},Tt.useImperativeHandle=function(S,L,$){return x.H.useImperativeHandle(S,L,$)},Tt.useInsertionEffect=function(S,L){return x.H.useInsertionEffect(S,L)},Tt.useLayoutEffect=function(S,L){return x.H.useLayoutEffect(S,L)},Tt.useMemo=function(S,L){return x.H.useMemo(S,L)},Tt.useOptimistic=function(S,L){return x.H.useOptimistic(S,L)},Tt.useReducer=function(S,L,$){return x.H.useReducer(S,L,$)},Tt.useRef=function(S){return x.H.useRef(S)},Tt.useState=function(S){return x.H.useState(S)},Tt.useSyncExternalStore=function(S,L,$){return x.H.useSyncExternalStore(S,L,$)},Tt.useTransition=function(){return x.H.useTransition()},Tt.version="19.2.3",Tt}var k_;function bm(){return k_||(k_=1,Id.exports=Cb()),Id.exports}var le=bm(),Nd={exports:{}},pl={},xd={exports:{}},Dd={};var U_;function Ib(){return U_||(U_=1,(function(r){function t(G,st){var ht=G.length;G.push(st);t:for(;0<ht;){var xt=ht-1>>>1,jt=G[xt];if(0<l(jt,st))G[xt]=st,G[ht]=jt,ht=xt;else break t}}function i(G){return G.length===0?null:G[0]}function a(G){if(G.length===0)return null;var st=G[0],ht=G.pop();if(ht!==st){G[0]=ht;t:for(var xt=0,jt=G.length,S=jt>>>1;xt<S;){var L=2*(xt+1)-1,$=G[L],J=L+1,ct=G[J];if(0>l($,ht))J<jt&&0>l(ct,$)?(G[xt]=ct,G[J]=ht,xt=J):(G[xt]=$,G[L]=ht,xt=L);else if(J<jt&&0>l(ct,ht))G[xt]=ct,G[J]=ht,xt=J;else break t}}return st}function l(G,st){var ht=G.sortIndex-st.sortIndex;return ht!==0?ht:G.id-st.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;r.unstable_now=function(){return c.now()}}else{var d=Date,p=d.now();r.unstable_now=function(){return d.now()-p}}var _=[],y=[],E=1,w=null,M=3,Q=!1,tt=!1,it=!1,W=!1,dt=typeof setTimeout=="function"?setTimeout:null,vt=typeof clearTimeout=="function"?clearTimeout:null,mt=typeof setImmediate<"u"?setImmediate:null;function Ht(G){for(var st=i(y);st!==null;){if(st.callback===null)a(y);else if(st.startTime<=G)a(y),st.sortIndex=st.expirationTime,t(_,st);else break;st=i(y)}}function zt(G){if(it=!1,Ht(G),!tt)if(i(_)!==null)tt=!0,Ut||(Ut=!0,U());else{var st=i(y);st!==null&&fe(zt,st.startTime-G)}}var Ut=!1,x=-1,A=5,I=-1;function V(){return W?!0:!(r.unstable_now()-I<A)}function O(){if(W=!1,Ut){var G=r.unstable_now();I=G;var st=!0;try{t:{tt=!1,it&&(it=!1,vt(x),x=-1),Q=!0;var ht=M;try{e:{for(Ht(G),w=i(_);w!==null&&!(w.expirationTime>G&&V());){var xt=w.callback;if(typeof xt=="function"){w.callback=null,M=w.priorityLevel;var jt=xt(w.expirationTime<=G);if(G=r.unstable_now(),typeof jt=="function"){w.callback=jt,Ht(G),st=!0;break e}w===i(_)&&a(_),Ht(G)}else a(_);w=i(_)}if(w!==null)st=!0;else{var S=i(y);S!==null&&fe(zt,S.startTime-G),st=!1}}break t}finally{w=null,M=ht,Q=!1}st=void 0}}finally{st?U():Ut=!1}}}var U;if(typeof mt=="function")U=function(){mt(O)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,ee=R.port2;R.port1.onmessage=O,U=function(){ee.postMessage(null)}}else U=function(){dt(O,0)};function fe(G,st){x=dt(function(){G(r.unstable_now())},st)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(G){G.callback=null},r.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<G?Math.floor(1e3/G):5},r.unstable_getCurrentPriorityLevel=function(){return M},r.unstable_next=function(G){switch(M){case 1:case 2:case 3:var st=3;break;default:st=M}var ht=M;M=st;try{return G()}finally{M=ht}},r.unstable_requestPaint=function(){W=!0},r.unstable_runWithPriority=function(G,st){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var ht=M;M=G;try{return st()}finally{M=ht}},r.unstable_scheduleCallback=function(G,st,ht){var xt=r.unstable_now();switch(typeof ht=="object"&&ht!==null?(ht=ht.delay,ht=typeof ht=="number"&&0<ht?xt+ht:xt):ht=xt,G){case 1:var jt=-1;break;case 2:jt=250;break;case 5:jt=1073741823;break;case 4:jt=1e4;break;default:jt=5e3}return jt=ht+jt,G={id:E++,callback:st,priorityLevel:G,startTime:ht,expirationTime:jt,sortIndex:-1},ht>xt?(G.sortIndex=ht,t(y,G),i(_)===null&&G===i(y)&&(it?(vt(x),x=-1):it=!0,fe(zt,ht-xt))):(G.sortIndex=jt,t(_,G),tt||Q||(tt=!0,Ut||(Ut=!0,U()))),G},r.unstable_shouldYield=V,r.unstable_wrapCallback=function(G){var st=M;return function(){var ht=M;M=st;try{return G.apply(this,arguments)}finally{M=ht}}}})(Dd)),Dd}var L_;function Nb(){return L_||(L_=1,xd.exports=Ib()),xd.exports}var Od={exports:{}},Ze={};var P_;function xb(){if(P_)return Ze;P_=1;var r=bm();function t(_){var y="https://react.dev/errors/"+_;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)y+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+_+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var a={d:{f:i,r:function(){throw Error(t(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},l=Symbol.for("react.portal");function c(_,y,E){var w=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:w==null?null:""+w,children:_,containerInfo:y,implementation:E}}var d=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(_,y){if(_==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return Ze.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,Ze.createPortal=function(_,y){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(t(299));return c(_,y,null,E)},Ze.flushSync=function(_){var y=d.T,E=a.p;try{if(d.T=null,a.p=2,_)return _()}finally{d.T=y,a.p=E,a.d.f()}},Ze.preconnect=function(_,y){typeof _=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,a.d.C(_,y))},Ze.prefetchDNS=function(_){typeof _=="string"&&a.d.D(_)},Ze.preinit=function(_,y){if(typeof _=="string"&&y&&typeof y.as=="string"){var E=y.as,w=p(E,y.crossOrigin),M=typeof y.integrity=="string"?y.integrity:void 0,Q=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;E==="style"?a.d.S(_,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:w,integrity:M,fetchPriority:Q}):E==="script"&&a.d.X(_,{crossOrigin:w,integrity:M,fetchPriority:Q,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},Ze.preinitModule=function(_,y){if(typeof _=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var E=p(y.as,y.crossOrigin);a.d.M(_,{crossOrigin:E,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&a.d.M(_)},Ze.preload=function(_,y){if(typeof _=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var E=y.as,w=p(E,y.crossOrigin);a.d.L(_,E,{crossOrigin:w,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},Ze.preloadModule=function(_,y){if(typeof _=="string")if(y){var E=p(y.as,y.crossOrigin);a.d.m(_,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:E,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else a.d.m(_)},Ze.requestFormReset=function(_){a.d.r(_)},Ze.unstable_batchedUpdates=function(_,y){return _(y)},Ze.useFormState=function(_,y,E){return d.H.useFormState(_,y,E)},Ze.useFormStatus=function(){return d.H.useHostTransitionStatus()},Ze.version="19.2.3",Ze}var z_;function Db(){if(z_)return Od.exports;z_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),Od.exports=xb(),Od.exports}var j_;function Ob(){if(j_)return pl;j_=1;var r=Nb(),t=bm(),i=Db();function a(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)n+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function c(e){var n=e,s=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(s=n.return),e=n.return;while(e)}return n.tag===3?s:null}function d(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function p(e){if(e.tag===31){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function _(e){if(c(e)!==e)throw Error(a(188))}function y(e){var n=e.alternate;if(!n){if(n=c(e),n===null)throw Error(a(188));return n!==e?null:e}for(var s=e,o=n;;){var h=s.return;if(h===null)break;var f=h.alternate;if(f===null){if(o=h.return,o!==null){s=o;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===s)return _(h),e;if(f===o)return _(h),n;f=f.sibling}throw Error(a(188))}if(s.return!==o.return)s=h,o=f;else{for(var g=!1,T=h.child;T;){if(T===s){g=!0,s=h,o=f;break}if(T===o){g=!0,o=h,s=f;break}T=T.sibling}if(!g){for(T=f.child;T;){if(T===s){g=!0,s=f,o=h;break}if(T===o){g=!0,o=f,s=h;break}T=T.sibling}if(!g)throw Error(a(189))}}if(s.alternate!==o)throw Error(a(190))}if(s.tag!==3)throw Error(a(188));return s.stateNode.current===s?e:n}function E(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=E(e),n!==null)return n;e=e.sibling}return null}var w=Object.assign,M=Symbol.for("react.element"),Q=Symbol.for("react.transitional.element"),tt=Symbol.for("react.portal"),it=Symbol.for("react.fragment"),W=Symbol.for("react.strict_mode"),dt=Symbol.for("react.profiler"),vt=Symbol.for("react.consumer"),mt=Symbol.for("react.context"),Ht=Symbol.for("react.forward_ref"),zt=Symbol.for("react.suspense"),Ut=Symbol.for("react.suspense_list"),x=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),O=Symbol.iterator;function U(e){return e===null||typeof e!="object"?null:(e=O&&e[O]||e["@@iterator"],typeof e=="function"?e:null)}var R=Symbol.for("react.client.reference");function ee(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===R?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case it:return"Fragment";case dt:return"Profiler";case W:return"StrictMode";case zt:return"Suspense";case Ut:return"SuspenseList";case I:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case tt:return"Portal";case mt:return e.displayName||"Context";case vt:return(e._context.displayName||"Context")+".Consumer";case Ht:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case x:return n=e.displayName||null,n!==null?n:ee(e.type)||"Memo";case A:n=e._payload,e=e._init;try{return ee(e(n))}catch{}}return null}var fe=Array.isArray,G=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,st=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ht={pending:!1,data:null,method:null,action:null},xt=[],jt=-1;function S(e){return{current:e}}function L(e){0>jt||(e.current=xt[jt],xt[jt]=null,jt--)}function $(e,n){jt++,xt[jt]=e.current,e.current=n}var J=S(null),ct=S(null),at=S(null),nt=S(null);function Rt(e,n){switch($(at,n),$(ct,e),$(J,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?e_(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=e_(n),e=n_(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}L(J),$(J,e)}function Ct(){L(J),L(ct),L(at)}function Oe(e){e.memoizedState!==null&&$(nt,e);var n=J.current,s=n_(n,e.type);n!==s&&($(ct,e),$(J,s))}function $t(e){ct.current===e&&(L(J),L(ct)),nt.current===e&&(L(nt),hl._currentValue=ht)}var vn,oi;function Me(e){if(vn===void 0)try{throw Error()}catch(s){var n=s.stack.trim().match(/\n( *(at )?)/);vn=n&&n[1]||"",oi=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+vn+e+oi}var mr=!1;function Pi(e,n){if(!e||mr)return"";mr=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(n){var Y=function(){throw Error()};if(Object.defineProperty(Y.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Y,[])}catch(H){var B=H}Reflect.construct(e,[],Y)}else{try{Y.call()}catch(H){B=H}e.call(Y.prototype)}}else{try{throw Error()}catch(H){B=H}(Y=e())&&typeof Y.catch=="function"&&Y.catch(function(){})}}catch(H){if(H&&B&&typeof H.stack=="string")return[H.stack,B.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=o.DetermineComponentFrameRoot(),g=f[0],T=f[1];if(g&&T){var C=g.split(`
`),j=T.split(`
`);for(h=o=0;o<C.length&&!C[o].includes("DetermineComponentFrameRoot");)o++;for(;h<j.length&&!j[h].includes("DetermineComponentFrameRoot");)h++;if(o===C.length||h===j.length)for(o=C.length-1,h=j.length-1;1<=o&&0<=h&&C[o]!==j[h];)h--;for(;1<=o&&0<=h;o--,h--)if(C[o]!==j[h]){if(o!==1||h!==1)do if(o--,h--,0>h||C[o]!==j[h]){var F=`
`+C[o].replace(" at new "," at ");return e.displayName&&F.includes("<anonymous>")&&(F=F.replace("<anonymous>",e.displayName)),F}while(1<=o&&0<=h);break}}}finally{mr=!1,Error.prepareStackTrace=s}return(s=e?e.displayName||e.name:"")?Me(s):""}function ms(e,n){switch(e.tag){case 26:case 27:case 5:return Me(e.type);case 16:return Me("Lazy");case 13:return e.child!==n&&n!==null?Me("Suspense Fallback"):Me("Suspense");case 19:return Me("SuspenseList");case 0:case 15:return Pi(e.type,!1);case 11:return Pi(e.type.render,!1);case 1:return Pi(e.type,!0);case 31:return Me("Activity");default:return""}}function fo(e){try{var n="",s=null;do n+=ms(e,s),s=e,e=e.return;while(e);return n}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}var Ee=Object.prototype.hasOwnProperty,Ve=r.unstable_scheduleCallback,gs=r.unstable_cancelCallback,Ih=r.unstable_shouldYield,Yl=r.unstable_requestPaint,nn=r.unstable_now,gr=r.unstable_getCurrentPriorityLevel,mo=r.unstable_ImmediatePriority,go=r.unstable_UserBlockingPriority,ps=r.unstable_NormalPriority,Nh=r.unstable_LowPriority,Xl=r.unstable_IdlePriority,$l=r.log,Zl=r.unstable_setDisableYieldValue,Qn=null,qe=null;function xn(e){if(typeof $l=="function"&&Zl(e),qe&&typeof qe.setStrictMode=="function")try{qe.setStrictMode(Qn,e)}catch{}}var ge=Math.clz32?Math.clz32:Wl,Jl=Math.log,ta=Math.LN2;function Wl(e){return e>>>=0,e===0?32:31-(Jl(e)/ta|0)|0}var li=256,pr=262144,Te=4194304;function ui(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function ci(e,n,s){var o=e.pendingLanes;if(o===0)return 0;var h=0,f=e.suspendedLanes,g=e.pingedLanes;e=e.warmLanes;var T=o&134217727;return T!==0?(o=T&~f,o!==0?h=ui(o):(g&=T,g!==0?h=ui(g):s||(s=T&~e,s!==0&&(h=ui(s))))):(T=o&~f,T!==0?h=ui(T):g!==0?h=ui(g):s||(s=o&~e,s!==0&&(h=ui(s)))),h===0?0:n!==0&&n!==h&&(n&f)===0&&(f=h&-h,s=n&-n,f>=s||f===32&&(s&4194048)!==0)?n:h}function Kn(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function xh(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function tu(){var e=Te;return Te<<=1,(Te&62914560)===0&&(Te=4194304),e}function hi(e){for(var n=[],s=0;31>s;s++)n.push(e);return n}function yr(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Dh(e,n,s,o,h,f){var g=e.pendingLanes;e.pendingLanes=s,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=s,e.entangledLanes&=s,e.errorRecoveryDisabledLanes&=s,e.shellSuspendCounter=0;var T=e.entanglements,C=e.expirationTimes,j=e.hiddenUpdates;for(s=g&~s;0<s;){var F=31-ge(s),Y=1<<F;T[F]=0,C[F]=-1;var B=j[F];if(B!==null)for(j[F]=null,F=0;F<B.length;F++){var H=B[F];H!==null&&(H.lane&=-536870913)}s&=~Y}o!==0&&_r(e,o,0),f!==0&&h===0&&e.tag!==0&&(e.suspendedLanes|=f&~(g&~n))}function _r(e,n,s){e.pendingLanes|=n,e.suspendedLanes&=~n;var o=31-ge(n);e.entangledLanes|=n,e.entanglements[o]=e.entanglements[o]|1073741824|s&261930}function po(e,n){var s=e.entangledLanes|=n;for(e=e.entanglements;s;){var o=31-ge(s),h=1<<o;h&n|e[o]&n&&(e[o]|=n),s&=~h}}function yo(e,n){var s=n&-n;return s=(s&42)!==0?1:vr(s),(s&(e.suspendedLanes|n))!==0?0:s}function vr(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function zi(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function eu(){var e=st.p;return e!==0?e:(e=window.event,e===void 0?32:w_(e.type))}function Yn(e,n){var s=st.p;try{return st.p=e,n()}finally{st.p=s}}var Xn=Math.random().toString(36).slice(2),be="__reactFiber$"+Xn,Pe="__reactProps$"+Xn,fi="__reactContainer$"+Xn,ea="__reactEvents$"+Xn,Oh="__reactListeners$"+Xn,nu="__reactHandles$"+Xn,iu="__reactResources$"+Xn,di="__reactMarker$"+Xn;function na(e){delete e[be],delete e[Pe],delete e[ea],delete e[Oh],delete e[nu]}function mi(e){var n=e[be];if(n)return n;for(var s=e.parentNode;s;){if(n=s[fi]||s[be]){if(s=n.alternate,n.child!==null||s!==null&&s.child!==null)for(e=u_(e);e!==null;){if(s=e[be])return s;e=u_(e)}return n}e=s,s=e.parentNode}return null}function Dn(e){if(e=e[be]||e[fi]){var n=e.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return e}return null}function En(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(a(33))}function gi(e){var n=e[iu];return n||(n=e[iu]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function Se(e){e[di]=!0}var _o=new Set,vo={};function pi(e,n){yi(e,n),yi(e+"Capture",n)}function yi(e,n){for(vo[e]=n,e=0;e<n.length;e++)_o.add(n[e])}var Eo=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),To={},bo={};function su(e){return Ee.call(bo,e)?!0:Ee.call(To,e)?!1:Eo.test(e)?bo[e]=!0:(To[e]=!0,!1)}function ia(e,n,s){if(su(n))if(s===null)e.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var o=n.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+s)}}function Tn(e,n,s){if(s===null)e.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+s)}}function Ae(e,n,s,o){if(o===null)e.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(s);return}e.setAttributeNS(n,s,""+o)}}function ze(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function ys(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function So(e,n,s){var o=Object.getOwnPropertyDescriptor(e.constructor.prototype,n);if(!e.hasOwnProperty(n)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var h=o.get,f=o.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return h.call(this)},set:function(g){s=""+g,f.call(this,g)}}),Object.defineProperty(e,n,{enumerable:o.enumerable}),{getValue:function(){return s},setValue:function(g){s=""+g},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function Kt(e){if(!e._valueTracker){var n=ys(e)?"checked":"value";e._valueTracker=So(e,n,""+e[n])}}function Er(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var s=n.getValue(),o="";return e&&(o=ys(e)?e.checked?"true":"false":e.value),e=o,e!==s?(n.setValue(e),!0):!1}function _i(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Tr=/[\n"\\]/g;function un(e){return e.replace(Tr,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function sa(e,n,s,o,h,f,g,T){e.name="",g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"?e.type=g:e.removeAttribute("type"),n!=null?g==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+ze(n)):e.value!==""+ze(n)&&(e.value=""+ze(n)):g!=="submit"&&g!=="reset"||e.removeAttribute("value"),n!=null?Ao(e,g,ze(n)):s!=null?Ao(e,g,ze(s)):o!=null&&e.removeAttribute("value"),h==null&&f!=null&&(e.defaultChecked=!!f),h!=null&&(e.checked=h&&typeof h!="function"&&typeof h!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?e.name=""+ze(T):e.removeAttribute("name")}function ru(e,n,s,o,h,f,g,T){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(e.type=f),n!=null||s!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){Kt(e);return}s=s!=null?""+ze(s):"",n=n!=null?""+ze(n):s,T||n===e.value||(e.value=n),e.defaultValue=n}o=o??h,o=typeof o!="function"&&typeof o!="symbol"&&!!o,e.checked=T?e.checked:!!o,e.defaultChecked=!!o,g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(e.name=g),Kt(e)}function Ao(e,n,s){n==="number"&&_i(e.ownerDocument)===e||e.defaultValue===""+s||(e.defaultValue=""+s)}function _s(e,n,s,o){if(e=e.options,n){n={};for(var h=0;h<s.length;h++)n["$"+s[h]]=!0;for(s=0;s<e.length;s++)h=n.hasOwnProperty("$"+e[s].value),e[s].selected!==h&&(e[s].selected=h),h&&o&&(e[s].defaultSelected=!0)}else{for(s=""+ze(s),n=null,h=0;h<e.length;h++){if(e[h].value===s){e[h].selected=!0,o&&(e[h].defaultSelected=!0);return}n!==null||e[h].disabled||(n=e[h])}n!==null&&(n.selected=!0)}}function au(e,n,s){if(n!=null&&(n=""+ze(n),n!==e.value&&(e.value=n),s==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=s!=null?""+ze(s):""}function vs(e,n,s,o){if(n==null){if(o!=null){if(s!=null)throw Error(a(92));if(fe(o)){if(1<o.length)throw Error(a(93));o=o[0]}s=o}s==null&&(s=""),n=s}s=ze(n),e.defaultValue=s,o=e.textContent,o===s&&o!==""&&o!==null&&(e.value=o),Kt(e)}function cn(e,n){if(n){var s=e.firstChild;if(s&&s===e.lastChild&&s.nodeType===3){s.nodeValue=n;return}}e.textContent=n}var ou=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function wo(e,n,s){var o=n.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?o?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":o?e.setProperty(n,s):typeof s!="number"||s===0||ou.has(n)?n==="float"?e.cssFloat=s:e[n]=(""+s).trim():e[n]=s+"px"}function Ro(e,n,s){if(n!=null&&typeof n!="object")throw Error(a(62));if(e=e.style,s!=null){for(var o in s)!s.hasOwnProperty(o)||n!=null&&n.hasOwnProperty(o)||(o.indexOf("--")===0?e.setProperty(o,""):o==="float"?e.cssFloat="":e[o]="");for(var h in n)o=n[h],n.hasOwnProperty(h)&&s[h]!==o&&wo(e,h,o)}else for(var f in n)n.hasOwnProperty(f)&&wo(e,f,n[f])}function ra(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var lu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Es=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function aa(e){return Es.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function $n(){}var Co=null;function On(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ts=null,vi=null;function br(e){var n=Dn(e);if(n&&(e=n.stateNode)){var s=e[Pe]||null;t:switch(e=n.stateNode,n.type){case"input":if(sa(e,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),n=s.name,s.type==="radio"&&n!=null){for(s=e;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+un(""+n)+'"][type="radio"]'),n=0;n<s.length;n++){var o=s[n];if(o!==e&&o.form===e.form){var h=o[Pe]||null;if(!h)throw Error(a(90));sa(o,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<s.length;n++)o=s[n],o.form===e.form&&Er(o)}break t;case"textarea":au(e,s.value,s.defaultValue);break t;case"select":n=s.value,n!=null&&_s(e,!!s.multiple,n,!1)}}}var oa=!1;function bs(e,n,s){if(oa)return e(n,s);oa=!0;try{var o=e(n);return o}finally{if(oa=!1,(Ts!==null||vi!==null)&&(ec(),Ts&&(n=Ts,e=vi,vi=Ts=null,br(n),e)))for(n=0;n<e.length;n++)br(e[n])}}function Zn(e,n){var s=e.stateNode;if(s===null)return null;var o=s[Pe]||null;if(o===null)return null;s=o[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(e=e.type,o=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!o;break t;default:e=!1}if(e)return null;if(s&&typeof s!="function")throw Error(a(231,n,typeof s));return s}var Mn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Sr=!1;if(Mn)try{var Zt={};Object.defineProperty(Zt,"passive",{get:function(){Sr=!0}}),window.addEventListener("test",Zt,Zt),window.removeEventListener("test",Zt,Zt)}catch{Sr=!1}var Ei=null,Io=null,Ar=null;function No(){if(Ar)return Ar;var e,n=Io,s=n.length,o,h="value"in Ei?Ei.value:Ei.textContent,f=h.length;for(e=0;e<s&&n[e]===h[e];e++);var g=s-e;for(o=1;o<=g&&n[s-o]===h[f-o];o++);return Ar=h.slice(e,1<o?1-o:void 0)}function wr(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function ji(){return!0}function Jn(){return!1}function He(e){function n(s,o,h,f,g){this._reactName=s,this._targetInst=h,this.type=o,this.nativeEvent=f,this.target=g,this.currentTarget=null;for(var T in e)e.hasOwnProperty(T)&&(s=e[T],this[T]=s?s(f):f[T]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?ji:Jn,this.isPropagationStopped=Jn,this}return w(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=ji)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=ji)},persist:function(){},isPersistent:ji}),n}var Bi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ti=He(Bi),Ss=w({},Bi,{view:0,detail:0}),xo=He(Ss),As,la,bi,ua=w({},Ss,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ws,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==bi&&(bi&&e.type==="mousemove"?(As=e.screenX-bi.screenX,la=e.screenY-bi.screenY):la=As=0,bi=e),As)},movementY:function(e){return"movementY"in e?e.movementY:la}}),Do=He(ua),Rr=w({},ua,{dataTransfer:0}),uu=He(Rr),cu=w({},Ss,{relatedTarget:0}),Cr=He(cu),Oo=w({},Bi,{animationName:0,elapsedTime:0,pseudoElement:0}),hu=He(Oo),ca=w({},Bi,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),fu=He(ca),du=w({},Bi,{data:0}),Si=He(du),mu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},gu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},pu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function yu(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=pu[e])?!!n[e]:!1}function ws(){return yu}var sn=w({},Ss,{key:function(e){if(e.key){var n=mu[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=wr(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?gu[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ws,charCode:function(e){return e.type==="keypress"?wr(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?wr(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),_u=He(sn),vu=w({},ua,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),qi=He(vu),u=w({},Ss,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ws}),m=He(u),v=w({},Bi,{propertyName:0,elapsedTime:0,pseudoElement:0}),b=He(v),P=w({},ua,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),q=He(P),et=w({},Bi,{newState:0,oldState:0}),St=He(et),pe=[9,13,27,32],Gt=Mn&&"CompositionEvent"in window,ae=null;Mn&&"documentMode"in document&&(ae=document.documentMode);var Vn=Mn&&"TextEvent"in window&&!ae,Ai=Mn&&(!Gt||ae&&8<ae&&11>=ae),Wn=" ",ti=!1;function Ir(e,n){switch(e){case"keyup":return pe.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ha(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var fa=!1;function XT(e,n){switch(e){case"compositionend":return ha(n);case"keypress":return n.which!==32?null:(ti=!0,Wn);case"textInput":return e=n.data,e===Wn&&ti?null:e;default:return null}}function $T(e,n){if(fa)return e==="compositionend"||!Gt&&Ir(e,n)?(e=No(),Ar=Io=Ei=null,fa=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return Ai&&n.locale!=="ko"?null:n.data;default:return null}}var ZT={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function fg(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!ZT[e.type]:n==="textarea"}function dg(e,n,s,o){Ts?vi?vi.push(o):vi=[o]:Ts=o,n=lc(n,"onChange"),0<n.length&&(s=new Ti("onChange","change",null,s,o),e.push({event:s,listeners:n}))}var Mo=null,Vo=null;function JT(e){Xy(e,0)}function Eu(e){var n=En(e);if(Er(n))return e}function mg(e,n){if(e==="change")return n}var gg=!1;if(Mn){var Mh;if(Mn){var Vh="oninput"in document;if(!Vh){var pg=document.createElement("div");pg.setAttribute("oninput","return;"),Vh=typeof pg.oninput=="function"}Mh=Vh}else Mh=!1;gg=Mh&&(!document.documentMode||9<document.documentMode)}function yg(){Mo&&(Mo.detachEvent("onpropertychange",_g),Vo=Mo=null)}function _g(e){if(e.propertyName==="value"&&Eu(Vo)){var n=[];dg(n,Vo,e,On(e)),bs(JT,n)}}function WT(e,n,s){e==="focusin"?(yg(),Mo=n,Vo=s,Mo.attachEvent("onpropertychange",_g)):e==="focusout"&&yg()}function t1(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Eu(Vo)}function e1(e,n){if(e==="click")return Eu(n)}function n1(e,n){if(e==="input"||e==="change")return Eu(n)}function i1(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var bn=typeof Object.is=="function"?Object.is:i1;function ko(e,n){if(bn(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var s=Object.keys(e),o=Object.keys(n);if(s.length!==o.length)return!1;for(o=0;o<s.length;o++){var h=s[o];if(!Ee.call(n,h)||!bn(e[h],n[h]))return!1}return!0}function vg(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Eg(e,n){var s=vg(e);e=0;for(var o;s;){if(s.nodeType===3){if(o=e+s.textContent.length,e<=n&&o>=n)return{node:s,offset:n-e};e=o}t:{for(;s;){if(s.nextSibling){s=s.nextSibling;break t}s=s.parentNode}s=void 0}s=vg(s)}}function Tg(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?Tg(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function bg(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=_i(e.document);n instanceof e.HTMLIFrameElement;){try{var s=typeof n.contentWindow.location.href=="string"}catch{s=!1}if(s)e=n.contentWindow;else break;n=_i(e.document)}return n}function kh(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var s1=Mn&&"documentMode"in document&&11>=document.documentMode,da=null,Uh=null,Uo=null,Lh=!1;function Sg(e,n,s){var o=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;Lh||da==null||da!==_i(o)||(o=da,"selectionStart"in o&&kh(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),Uo&&ko(Uo,o)||(Uo=o,o=lc(Uh,"onSelect"),0<o.length&&(n=new Ti("onSelect","select",null,n,s),e.push({event:n,listeners:o}),n.target=da)))}function Nr(e,n){var s={};return s[e.toLowerCase()]=n.toLowerCase(),s["Webkit"+e]="webkit"+n,s["Moz"+e]="moz"+n,s}var ma={animationend:Nr("Animation","AnimationEnd"),animationiteration:Nr("Animation","AnimationIteration"),animationstart:Nr("Animation","AnimationStart"),transitionrun:Nr("Transition","TransitionRun"),transitionstart:Nr("Transition","TransitionStart"),transitioncancel:Nr("Transition","TransitionCancel"),transitionend:Nr("Transition","TransitionEnd")},Ph={},Ag={};Mn&&(Ag=document.createElement("div").style,"AnimationEvent"in window||(delete ma.animationend.animation,delete ma.animationiteration.animation,delete ma.animationstart.animation),"TransitionEvent"in window||delete ma.transitionend.transition);function xr(e){if(Ph[e])return Ph[e];if(!ma[e])return e;var n=ma[e],s;for(s in n)if(n.hasOwnProperty(s)&&s in Ag)return Ph[e]=n[s];return e}var wg=xr("animationend"),Rg=xr("animationiteration"),Cg=xr("animationstart"),r1=xr("transitionrun"),a1=xr("transitionstart"),o1=xr("transitioncancel"),Ig=xr("transitionend"),Ng=new Map,zh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");zh.push("scrollEnd");function ei(e,n){Ng.set(e,n),pi(n,[e])}var Tu=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},kn=[],ga=0,jh=0;function bu(){for(var e=ga,n=jh=ga=0;n<e;){var s=kn[n];kn[n++]=null;var o=kn[n];kn[n++]=null;var h=kn[n];kn[n++]=null;var f=kn[n];if(kn[n++]=null,o!==null&&h!==null){var g=o.pending;g===null?h.next=h:(h.next=g.next,g.next=h),o.pending=h}f!==0&&xg(s,h,f)}}function Su(e,n,s,o){kn[ga++]=e,kn[ga++]=n,kn[ga++]=s,kn[ga++]=o,jh|=o,e.lanes|=o,e=e.alternate,e!==null&&(e.lanes|=o)}function Bh(e,n,s,o){return Su(e,n,s,o),Au(e)}function Dr(e,n){return Su(e,null,null,n),Au(e)}function xg(e,n,s){e.lanes|=s;var o=e.alternate;o!==null&&(o.lanes|=s);for(var h=!1,f=e.return;f!==null;)f.childLanes|=s,o=f.alternate,o!==null&&(o.childLanes|=s),f.tag===22&&(e=f.stateNode,e===null||e._visibility&1||(h=!0)),e=f,f=f.return;return e.tag===3?(f=e.stateNode,h&&n!==null&&(h=31-ge(s),e=f.hiddenUpdates,o=e[h],o===null?e[h]=[n]:o.push(n),n.lane=s|536870912),f):null}function Au(e){if(50<sl)throw sl=0,Zf=null,Error(a(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var pa={};function l1(e,n,s,o){this.tag=e,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Sn(e,n,s,o){return new l1(e,n,s,o)}function qh(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Hi(e,n){var s=e.alternate;return s===null?(s=Sn(e.tag,n,e.key,e.mode),s.elementType=e.elementType,s.type=e.type,s.stateNode=e.stateNode,s.alternate=e,e.alternate=s):(s.pendingProps=n,s.type=e.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=e.flags&65011712,s.childLanes=e.childLanes,s.lanes=e.lanes,s.child=e.child,s.memoizedProps=e.memoizedProps,s.memoizedState=e.memoizedState,s.updateQueue=e.updateQueue,n=e.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},s.sibling=e.sibling,s.index=e.index,s.ref=e.ref,s.refCleanup=e.refCleanup,s}function Dg(e,n){e.flags&=65011714;var s=e.alternate;return s===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=s.childLanes,e.lanes=s.lanes,e.child=s.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=s.memoizedProps,e.memoizedState=s.memoizedState,e.updateQueue=s.updateQueue,e.type=s.type,n=s.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function wu(e,n,s,o,h,f){var g=0;if(o=e,typeof e=="function")qh(e)&&(g=1);else if(typeof e=="string")g=db(e,s,J.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case I:return e=Sn(31,s,n,h),e.elementType=I,e.lanes=f,e;case it:return Or(s.children,h,f,n);case W:g=8,h|=24;break;case dt:return e=Sn(12,s,n,h|2),e.elementType=dt,e.lanes=f,e;case zt:return e=Sn(13,s,n,h),e.elementType=zt,e.lanes=f,e;case Ut:return e=Sn(19,s,n,h),e.elementType=Ut,e.lanes=f,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case mt:g=10;break t;case vt:g=9;break t;case Ht:g=11;break t;case x:g=14;break t;case A:g=16,o=null;break t}g=29,s=Error(a(130,e===null?"null":typeof e,"")),o=null}return n=Sn(g,s,n,h),n.elementType=e,n.type=o,n.lanes=f,n}function Or(e,n,s,o){return e=Sn(7,e,o,n),e.lanes=s,e}function Hh(e,n,s){return e=Sn(6,e,null,n),e.lanes=s,e}function Og(e){var n=Sn(18,null,null,0);return n.stateNode=e,n}function Gh(e,n,s){return n=Sn(4,e.children!==null?e.children:[],e.key,n),n.lanes=s,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var Mg=new WeakMap;function Un(e,n){if(typeof e=="object"&&e!==null){var s=Mg.get(e);return s!==void 0?s:(n={value:e,source:n,stack:fo(n)},Mg.set(e,n),n)}return{value:e,source:n,stack:fo(n)}}var ya=[],_a=0,Ru=null,Lo=0,Ln=[],Pn=0,Rs=null,wi=1,Ri="";function Gi(e,n){ya[_a++]=Lo,ya[_a++]=Ru,Ru=e,Lo=n}function Vg(e,n,s){Ln[Pn++]=wi,Ln[Pn++]=Ri,Ln[Pn++]=Rs,Rs=e;var o=wi;e=Ri;var h=32-ge(o)-1;o&=~(1<<h),s+=1;var f=32-ge(n)+h;if(30<f){var g=h-h%5;f=(o&(1<<g)-1).toString(32),o>>=g,h-=g,wi=1<<32-ge(n)+h|s<<h|o,Ri=f+e}else wi=1<<f|s<<h|o,Ri=e}function Fh(e){e.return!==null&&(Gi(e,1),Vg(e,1,0))}function Qh(e){for(;e===Ru;)Ru=ya[--_a],ya[_a]=null,Lo=ya[--_a],ya[_a]=null;for(;e===Rs;)Rs=Ln[--Pn],Ln[Pn]=null,Ri=Ln[--Pn],Ln[Pn]=null,wi=Ln[--Pn],Ln[Pn]=null}function kg(e,n){Ln[Pn++]=wi,Ln[Pn++]=Ri,Ln[Pn++]=Rs,wi=n.id,Ri=n.overflow,Rs=e}var Ge=null,ie=null,Lt=!1,Cs=null,zn=!1,Kh=Error(a(519));function Is(e){var n=Error(a(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Po(Un(n,e)),Kh}function Ug(e){var n=e.stateNode,s=e.type,o=e.memoizedProps;switch(n[be]=e,n[Pe]=o,s){case"dialog":Nt("cancel",n),Nt("close",n);break;case"iframe":case"object":case"embed":Nt("load",n);break;case"video":case"audio":for(s=0;s<al.length;s++)Nt(al[s],n);break;case"source":Nt("error",n);break;case"img":case"image":case"link":Nt("error",n),Nt("load",n);break;case"details":Nt("toggle",n);break;case"input":Nt("invalid",n),ru(n,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0);break;case"select":Nt("invalid",n);break;case"textarea":Nt("invalid",n),vs(n,o.value,o.defaultValue,o.children)}s=o.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||n.textContent===""+s||o.suppressHydrationWarning===!0||Wy(n.textContent,s)?(o.popover!=null&&(Nt("beforetoggle",n),Nt("toggle",n)),o.onScroll!=null&&Nt("scroll",n),o.onScrollEnd!=null&&Nt("scrollend",n),o.onClick!=null&&(n.onclick=$n),n=!0):n=!1,n||Is(e,!0)}function Lg(e){for(Ge=e.return;Ge;)switch(Ge.tag){case 5:case 31:case 13:zn=!1;return;case 27:case 3:zn=!0;return;default:Ge=Ge.return}}function va(e){if(e!==Ge)return!1;if(!Lt)return Lg(e),Lt=!0,!1;var n=e.tag,s;if((s=n!==3&&n!==27)&&((s=n===5)&&(s=e.type,s=!(s!=="form"&&s!=="button")||fd(e.type,e.memoizedProps)),s=!s),s&&ie&&Is(e),Lg(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));ie=l_(e)}else if(n===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));ie=l_(e)}else n===27?(n=ie,qs(e.type)?(e=yd,yd=null,ie=e):ie=n):ie=Ge?Bn(e.stateNode.nextSibling):null;return!0}function Mr(){ie=Ge=null,Lt=!1}function Yh(){var e=Cs;return e!==null&&(mn===null?mn=e:mn.push.apply(mn,e),Cs=null),e}function Po(e){Cs===null?Cs=[e]:Cs.push(e)}var Xh=S(null),Vr=null,Fi=null;function Ns(e,n,s){$(Xh,n._currentValue),n._currentValue=s}function Qi(e){e._currentValue=Xh.current,L(Xh)}function $h(e,n,s){for(;e!==null;){var o=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,o!==null&&(o.childLanes|=n)):o!==null&&(o.childLanes&n)!==n&&(o.childLanes|=n),e===s)break;e=e.return}}function Zh(e,n,s,o){var h=e.child;for(h!==null&&(h.return=e);h!==null;){var f=h.dependencies;if(f!==null){var g=h.child;f=f.firstContext;t:for(;f!==null;){var T=f;f=h;for(var C=0;C<n.length;C++)if(T.context===n[C]){f.lanes|=s,T=f.alternate,T!==null&&(T.lanes|=s),$h(f.return,s,e),o||(g=null);break t}f=T.next}}else if(h.tag===18){if(g=h.return,g===null)throw Error(a(341));g.lanes|=s,f=g.alternate,f!==null&&(f.lanes|=s),$h(g,s,e),g=null}else g=h.child;if(g!==null)g.return=h;else for(g=h;g!==null;){if(g===e){g=null;break}if(h=g.sibling,h!==null){h.return=g.return,g=h;break}g=g.return}h=g}}function Ea(e,n,s,o){e=null;for(var h=n,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var g=h.alternate;if(g===null)throw Error(a(387));if(g=g.memoizedProps,g!==null){var T=h.type;bn(h.pendingProps.value,g.value)||(e!==null?e.push(T):e=[T])}}else if(h===nt.current){if(g=h.alternate,g===null)throw Error(a(387));g.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(e!==null?e.push(hl):e=[hl])}h=h.return}e!==null&&Zh(n,e,s,o),n.flags|=262144}function Cu(e){for(e=e.firstContext;e!==null;){if(!bn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function kr(e){Vr=e,Fi=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Fe(e){return Pg(Vr,e)}function Iu(e,n){return Vr===null&&kr(e),Pg(e,n)}function Pg(e,n){var s=n._currentValue;if(n={context:n,memoizedValue:s,next:null},Fi===null){if(e===null)throw Error(a(308));Fi=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else Fi=Fi.next=n;return s}var u1=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(s,o){e.push(o)}};this.abort=function(){n.aborted=!0,e.forEach(function(s){return s()})}},c1=r.unstable_scheduleCallback,h1=r.unstable_NormalPriority,we={$$typeof:mt,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Jh(){return{controller:new u1,data:new Map,refCount:0}}function zo(e){e.refCount--,e.refCount===0&&c1(h1,function(){e.controller.abort()})}var jo=null,Wh=0,Ta=0,ba=null;function f1(e,n){if(jo===null){var s=jo=[];Wh=0,Ta=id(),ba={status:"pending",value:void 0,then:function(o){s.push(o)}}}return Wh++,n.then(zg,zg),n}function zg(){if(--Wh===0&&jo!==null){ba!==null&&(ba.status="fulfilled");var e=jo;jo=null,Ta=0,ba=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function d1(e,n){var s=[],o={status:"pending",value:null,reason:null,then:function(h){s.push(h)}};return e.then(function(){o.status="fulfilled",o.value=n;for(var h=0;h<s.length;h++)(0,s[h])(n)},function(h){for(o.status="rejected",o.reason=h,h=0;h<s.length;h++)(0,s[h])(void 0)}),o}var jg=G.S;G.S=function(e,n){Sy=nn(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&f1(e,n),jg!==null&&jg(e,n)};var Ur=S(null);function tf(){var e=Ur.current;return e!==null?e:ne.pooledCache}function Nu(e,n){n===null?$(Ur,Ur.current):$(Ur,n.pool)}function Bg(){var e=tf();return e===null?null:{parent:we._currentValue,pool:e}}var Sa=Error(a(460)),ef=Error(a(474)),xu=Error(a(542)),Du={then:function(){}};function qg(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Hg(e,n,s){switch(s=e[s],s===void 0?e.push(n):s!==n&&(n.then($n,$n),n=s),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,Fg(e),e;default:if(typeof n.status=="string")n.then($n,$n);else{if(e=ne,e!==null&&100<e.shellSuspendCounter)throw Error(a(482));e=n,e.status="pending",e.then(function(o){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=o}},function(o){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=o}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,Fg(e),e}throw Pr=n,Sa}}function Lr(e){try{var n=e._init;return n(e._payload)}catch(s){throw s!==null&&typeof s=="object"&&typeof s.then=="function"?(Pr=s,Sa):s}}var Pr=null;function Gg(){if(Pr===null)throw Error(a(459));var e=Pr;return Pr=null,e}function Fg(e){if(e===Sa||e===xu)throw Error(a(483))}var Aa=null,Bo=0;function Ou(e){var n=Bo;return Bo+=1,Aa===null&&(Aa=[]),Hg(Aa,e,n)}function qo(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function Mu(e,n){throw n.$$typeof===M?Error(a(525)):(e=Object.prototype.toString.call(n),Error(a(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function Qg(e){function n(k,D){if(e){var z=k.deletions;z===null?(k.deletions=[D],k.flags|=16):z.push(D)}}function s(k,D){if(!e)return null;for(;D!==null;)n(k,D),D=D.sibling;return null}function o(k){for(var D=new Map;k!==null;)k.key!==null?D.set(k.key,k):D.set(k.index,k),k=k.sibling;return D}function h(k,D){return k=Hi(k,D),k.index=0,k.sibling=null,k}function f(k,D,z){return k.index=z,e?(z=k.alternate,z!==null?(z=z.index,z<D?(k.flags|=67108866,D):z):(k.flags|=67108866,D)):(k.flags|=1048576,D)}function g(k){return e&&k.alternate===null&&(k.flags|=67108866),k}function T(k,D,z,K){return D===null||D.tag!==6?(D=Hh(z,k.mode,K),D.return=k,D):(D=h(D,z),D.return=k,D)}function C(k,D,z,K){var ft=z.type;return ft===it?F(k,D,z.props.children,K,z.key):D!==null&&(D.elementType===ft||typeof ft=="object"&&ft!==null&&ft.$$typeof===A&&Lr(ft)===D.type)?(D=h(D,z.props),qo(D,z),D.return=k,D):(D=wu(z.type,z.key,z.props,null,k.mode,K),qo(D,z),D.return=k,D)}function j(k,D,z,K){return D===null||D.tag!==4||D.stateNode.containerInfo!==z.containerInfo||D.stateNode.implementation!==z.implementation?(D=Gh(z,k.mode,K),D.return=k,D):(D=h(D,z.children||[]),D.return=k,D)}function F(k,D,z,K,ft){return D===null||D.tag!==7?(D=Or(z,k.mode,K,ft),D.return=k,D):(D=h(D,z),D.return=k,D)}function Y(k,D,z){if(typeof D=="string"&&D!==""||typeof D=="number"||typeof D=="bigint")return D=Hh(""+D,k.mode,z),D.return=k,D;if(typeof D=="object"&&D!==null){switch(D.$$typeof){case Q:return z=wu(D.type,D.key,D.props,null,k.mode,z),qo(z,D),z.return=k,z;case tt:return D=Gh(D,k.mode,z),D.return=k,D;case A:return D=Lr(D),Y(k,D,z)}if(fe(D)||U(D))return D=Or(D,k.mode,z,null),D.return=k,D;if(typeof D.then=="function")return Y(k,Ou(D),z);if(D.$$typeof===mt)return Y(k,Iu(k,D),z);Mu(k,D)}return null}function B(k,D,z,K){var ft=D!==null?D.key:null;if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return ft!==null?null:T(k,D,""+z,K);if(typeof z=="object"&&z!==null){switch(z.$$typeof){case Q:return z.key===ft?C(k,D,z,K):null;case tt:return z.key===ft?j(k,D,z,K):null;case A:return z=Lr(z),B(k,D,z,K)}if(fe(z)||U(z))return ft!==null?null:F(k,D,z,K,null);if(typeof z.then=="function")return B(k,D,Ou(z),K);if(z.$$typeof===mt)return B(k,D,Iu(k,z),K);Mu(k,z)}return null}function H(k,D,z,K,ft){if(typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint")return k=k.get(z)||null,T(D,k,""+K,ft);if(typeof K=="object"&&K!==null){switch(K.$$typeof){case Q:return k=k.get(K.key===null?z:K.key)||null,C(D,k,K,ft);case tt:return k=k.get(K.key===null?z:K.key)||null,j(D,k,K,ft);case A:return K=Lr(K),H(k,D,z,K,ft)}if(fe(K)||U(K))return k=k.get(z)||null,F(D,k,K,ft,null);if(typeof K.then=="function")return H(k,D,z,Ou(K),ft);if(K.$$typeof===mt)return H(k,D,z,Iu(D,K),ft);Mu(D,K)}return null}function ot(k,D,z,K){for(var ft=null,Bt=null,lt=D,wt=D=0,Ot=null;lt!==null&&wt<z.length;wt++){lt.index>wt?(Ot=lt,lt=null):Ot=lt.sibling;var qt=B(k,lt,z[wt],K);if(qt===null){lt===null&&(lt=Ot);break}e&&lt&&qt.alternate===null&&n(k,lt),D=f(qt,D,wt),Bt===null?ft=qt:Bt.sibling=qt,Bt=qt,lt=Ot}if(wt===z.length)return s(k,lt),Lt&&Gi(k,wt),ft;if(lt===null){for(;wt<z.length;wt++)lt=Y(k,z[wt],K),lt!==null&&(D=f(lt,D,wt),Bt===null?ft=lt:Bt.sibling=lt,Bt=lt);return Lt&&Gi(k,wt),ft}for(lt=o(lt);wt<z.length;wt++)Ot=H(lt,k,wt,z[wt],K),Ot!==null&&(e&&Ot.alternate!==null&&lt.delete(Ot.key===null?wt:Ot.key),D=f(Ot,D,wt),Bt===null?ft=Ot:Bt.sibling=Ot,Bt=Ot);return e&&lt.forEach(function(Ks){return n(k,Ks)}),Lt&&Gi(k,wt),ft}function pt(k,D,z,K){if(z==null)throw Error(a(151));for(var ft=null,Bt=null,lt=D,wt=D=0,Ot=null,qt=z.next();lt!==null&&!qt.done;wt++,qt=z.next()){lt.index>wt?(Ot=lt,lt=null):Ot=lt.sibling;var Ks=B(k,lt,qt.value,K);if(Ks===null){lt===null&&(lt=Ot);break}e&&lt&&Ks.alternate===null&&n(k,lt),D=f(Ks,D,wt),Bt===null?ft=Ks:Bt.sibling=Ks,Bt=Ks,lt=Ot}if(qt.done)return s(k,lt),Lt&&Gi(k,wt),ft;if(lt===null){for(;!qt.done;wt++,qt=z.next())qt=Y(k,qt.value,K),qt!==null&&(D=f(qt,D,wt),Bt===null?ft=qt:Bt.sibling=qt,Bt=qt);return Lt&&Gi(k,wt),ft}for(lt=o(lt);!qt.done;wt++,qt=z.next())qt=H(lt,k,wt,qt.value,K),qt!==null&&(e&&qt.alternate!==null&&lt.delete(qt.key===null?wt:qt.key),D=f(qt,D,wt),Bt===null?ft=qt:Bt.sibling=qt,Bt=qt);return e&&lt.forEach(function(Ab){return n(k,Ab)}),Lt&&Gi(k,wt),ft}function te(k,D,z,K){if(typeof z=="object"&&z!==null&&z.type===it&&z.key===null&&(z=z.props.children),typeof z=="object"&&z!==null){switch(z.$$typeof){case Q:t:{for(var ft=z.key;D!==null;){if(D.key===ft){if(ft=z.type,ft===it){if(D.tag===7){s(k,D.sibling),K=h(D,z.props.children),K.return=k,k=K;break t}}else if(D.elementType===ft||typeof ft=="object"&&ft!==null&&ft.$$typeof===A&&Lr(ft)===D.type){s(k,D.sibling),K=h(D,z.props),qo(K,z),K.return=k,k=K;break t}s(k,D);break}else n(k,D);D=D.sibling}z.type===it?(K=Or(z.props.children,k.mode,K,z.key),K.return=k,k=K):(K=wu(z.type,z.key,z.props,null,k.mode,K),qo(K,z),K.return=k,k=K)}return g(k);case tt:t:{for(ft=z.key;D!==null;){if(D.key===ft)if(D.tag===4&&D.stateNode.containerInfo===z.containerInfo&&D.stateNode.implementation===z.implementation){s(k,D.sibling),K=h(D,z.children||[]),K.return=k,k=K;break t}else{s(k,D);break}else n(k,D);D=D.sibling}K=Gh(z,k.mode,K),K.return=k,k=K}return g(k);case A:return z=Lr(z),te(k,D,z,K)}if(fe(z))return ot(k,D,z,K);if(U(z)){if(ft=U(z),typeof ft!="function")throw Error(a(150));return z=ft.call(z),pt(k,D,z,K)}if(typeof z.then=="function")return te(k,D,Ou(z),K);if(z.$$typeof===mt)return te(k,D,Iu(k,z),K);Mu(k,z)}return typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint"?(z=""+z,D!==null&&D.tag===6?(s(k,D.sibling),K=h(D,z),K.return=k,k=K):(s(k,D),K=Hh(z,k.mode,K),K.return=k,k=K),g(k)):s(k,D)}return function(k,D,z,K){try{Bo=0;var ft=te(k,D,z,K);return Aa=null,ft}catch(lt){if(lt===Sa||lt===xu)throw lt;var Bt=Sn(29,lt,null,k.mode);return Bt.lanes=K,Bt.return=k,Bt}}}var zr=Qg(!0),Kg=Qg(!1),xs=!1;function nf(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function sf(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Ds(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Os(e,n,s){var o=e.updateQueue;if(o===null)return null;if(o=o.shared,(Ft&2)!==0){var h=o.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),o.pending=n,n=Au(e),xg(e,null,s),n}return Su(e,o,n,s),Au(e)}function Ho(e,n,s){if(n=n.updateQueue,n!==null&&(n=n.shared,(s&4194048)!==0)){var o=n.lanes;o&=e.pendingLanes,s|=o,n.lanes=s,po(e,s)}}function rf(e,n){var s=e.updateQueue,o=e.alternate;if(o!==null&&(o=o.updateQueue,s===o)){var h=null,f=null;if(s=s.firstBaseUpdate,s!==null){do{var g={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};f===null?h=f=g:f=f.next=g,s=s.next}while(s!==null);f===null?h=f=n:f=f.next=n}else h=f=n;s={baseState:o.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:o.shared,callbacks:o.callbacks},e.updateQueue=s;return}e=s.lastBaseUpdate,e===null?s.firstBaseUpdate=n:e.next=n,s.lastBaseUpdate=n}var af=!1;function Go(){if(af){var e=ba;if(e!==null)throw e}}function Fo(e,n,s,o){af=!1;var h=e.updateQueue;xs=!1;var f=h.firstBaseUpdate,g=h.lastBaseUpdate,T=h.shared.pending;if(T!==null){h.shared.pending=null;var C=T,j=C.next;C.next=null,g===null?f=j:g.next=j,g=C;var F=e.alternate;F!==null&&(F=F.updateQueue,T=F.lastBaseUpdate,T!==g&&(T===null?F.firstBaseUpdate=j:T.next=j,F.lastBaseUpdate=C))}if(f!==null){var Y=h.baseState;g=0,F=j=C=null,T=f;do{var B=T.lane&-536870913,H=B!==T.lane;if(H?(Dt&B)===B:(o&B)===B){B!==0&&B===Ta&&(af=!0),F!==null&&(F=F.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});t:{var ot=e,pt=T;B=n;var te=s;switch(pt.tag){case 1:if(ot=pt.payload,typeof ot=="function"){Y=ot.call(te,Y,B);break t}Y=ot;break t;case 3:ot.flags=ot.flags&-65537|128;case 0:if(ot=pt.payload,B=typeof ot=="function"?ot.call(te,Y,B):ot,B==null)break t;Y=w({},Y,B);break t;case 2:xs=!0}}B=T.callback,B!==null&&(e.flags|=64,H&&(e.flags|=8192),H=h.callbacks,H===null?h.callbacks=[B]:H.push(B))}else H={lane:B,tag:T.tag,payload:T.payload,callback:T.callback,next:null},F===null?(j=F=H,C=Y):F=F.next=H,g|=B;if(T=T.next,T===null){if(T=h.shared.pending,T===null)break;H=T,T=H.next,H.next=null,h.lastBaseUpdate=H,h.shared.pending=null}}while(!0);F===null&&(C=Y),h.baseState=C,h.firstBaseUpdate=j,h.lastBaseUpdate=F,f===null&&(h.shared.lanes=0),Ls|=g,e.lanes=g,e.memoizedState=Y}}function Yg(e,n){if(typeof e!="function")throw Error(a(191,e));e.call(n)}function Xg(e,n){var s=e.callbacks;if(s!==null)for(e.callbacks=null,e=0;e<s.length;e++)Yg(s[e],n)}var wa=S(null),Vu=S(0);function $g(e,n){e=es,$(Vu,e),$(wa,n),es=e|n.baseLanes}function of(){$(Vu,es),$(wa,wa.current)}function lf(){es=Vu.current,L(wa),L(Vu)}var An=S(null),jn=null;function Ms(e){var n=e.alternate;$(ye,ye.current&1),$(An,e),jn===null&&(n===null||wa.current!==null||n.memoizedState!==null)&&(jn=e)}function uf(e){$(ye,ye.current),$(An,e),jn===null&&(jn=e)}function Zg(e){e.tag===22?($(ye,ye.current),$(An,e),jn===null&&(jn=e)):Vs()}function Vs(){$(ye,ye.current),$(An,An.current)}function wn(e){L(An),jn===e&&(jn=null),L(ye)}var ye=S(0);function ku(e){for(var n=e;n!==null;){if(n.tag===13){var s=n.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||gd(s)||pd(s)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var Ki=0,At=null,Jt=null,Re=null,Uu=!1,Ra=!1,jr=!1,Lu=0,Qo=0,Ca=null,m1=0;function de(){throw Error(a(321))}function cf(e,n){if(n===null)return!1;for(var s=0;s<n.length&&s<e.length;s++)if(!bn(e[s],n[s]))return!1;return!0}function hf(e,n,s,o,h,f){return Ki=f,At=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,G.H=e===null||e.memoizedState===null?Vp:Rf,jr=!1,f=s(o,h),jr=!1,Ra&&(f=Wg(n,s,o,h)),Jg(e),f}function Jg(e){G.H=Xo;var n=Jt!==null&&Jt.next!==null;if(Ki=0,Re=Jt=At=null,Uu=!1,Qo=0,Ca=null,n)throw Error(a(300));e===null||Ce||(e=e.dependencies,e!==null&&Cu(e)&&(Ce=!0))}function Wg(e,n,s,o){At=e;var h=0;do{if(Ra&&(Ca=null),Qo=0,Ra=!1,25<=h)throw Error(a(301));if(h+=1,Re=Jt=null,e.updateQueue!=null){var f=e.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}G.H=kp,f=n(s,o)}while(Ra);return f}function g1(){var e=G.H,n=e.useState()[0];return n=typeof n.then=="function"?Ko(n):n,e=e.useState()[0],(Jt!==null?Jt.memoizedState:null)!==e&&(At.flags|=1024),n}function ff(){var e=Lu!==0;return Lu=0,e}function df(e,n,s){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~s}function mf(e){if(Uu){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}Uu=!1}Ki=0,Re=Jt=At=null,Ra=!1,Qo=Lu=0,Ca=null}function rn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Re===null?At.memoizedState=Re=e:Re=Re.next=e,Re}function _e(){if(Jt===null){var e=At.alternate;e=e!==null?e.memoizedState:null}else e=Jt.next;var n=Re===null?At.memoizedState:Re.next;if(n!==null)Re=n,Jt=e;else{if(e===null)throw At.alternate===null?Error(a(467)):Error(a(310));Jt=e,e={memoizedState:Jt.memoizedState,baseState:Jt.baseState,baseQueue:Jt.baseQueue,queue:Jt.queue,next:null},Re===null?At.memoizedState=Re=e:Re=Re.next=e}return Re}function Pu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ko(e){var n=Qo;return Qo+=1,Ca===null&&(Ca=[]),e=Hg(Ca,e,n),n=At,(Re===null?n.memoizedState:Re.next)===null&&(n=n.alternate,G.H=n===null||n.memoizedState===null?Vp:Rf),e}function zu(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Ko(e);if(e.$$typeof===mt)return Fe(e)}throw Error(a(438,String(e)))}function gf(e){var n=null,s=At.updateQueue;if(s!==null&&(n=s.memoCache),n==null){var o=At.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(n={data:o.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),s===null&&(s=Pu(),At.updateQueue=s),s.memoCache=n,s=n.data[n.index],s===void 0)for(s=n.data[n.index]=Array(e),o=0;o<e;o++)s[o]=V;return n.index++,s}function Yi(e,n){return typeof n=="function"?n(e):n}function ju(e){var n=_e();return pf(n,Jt,e)}function pf(e,n,s){var o=e.queue;if(o===null)throw Error(a(311));o.lastRenderedReducer=s;var h=e.baseQueue,f=o.pending;if(f!==null){if(h!==null){var g=h.next;h.next=f.next,f.next=g}n.baseQueue=h=f,o.pending=null}if(f=e.baseState,h===null)e.memoizedState=f;else{n=h.next;var T=g=null,C=null,j=n,F=!1;do{var Y=j.lane&-536870913;if(Y!==j.lane?(Dt&Y)===Y:(Ki&Y)===Y){var B=j.revertLane;if(B===0)C!==null&&(C=C.next={lane:0,revertLane:0,gesture:null,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null}),Y===Ta&&(F=!0);else if((Ki&B)===B){j=j.next,B===Ta&&(F=!0);continue}else Y={lane:0,revertLane:j.revertLane,gesture:null,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null},C===null?(T=C=Y,g=f):C=C.next=Y,At.lanes|=B,Ls|=B;Y=j.action,jr&&s(f,Y),f=j.hasEagerState?j.eagerState:s(f,Y)}else B={lane:Y,revertLane:j.revertLane,gesture:j.gesture,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null},C===null?(T=C=B,g=f):C=C.next=B,At.lanes|=Y,Ls|=Y;j=j.next}while(j!==null&&j!==n);if(C===null?g=f:C.next=T,!bn(f,e.memoizedState)&&(Ce=!0,F&&(s=ba,s!==null)))throw s;e.memoizedState=f,e.baseState=g,e.baseQueue=C,o.lastRenderedState=f}return h===null&&(o.lanes=0),[e.memoizedState,o.dispatch]}function yf(e){var n=_e(),s=n.queue;if(s===null)throw Error(a(311));s.lastRenderedReducer=e;var o=s.dispatch,h=s.pending,f=n.memoizedState;if(h!==null){s.pending=null;var g=h=h.next;do f=e(f,g.action),g=g.next;while(g!==h);bn(f,n.memoizedState)||(Ce=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),s.lastRenderedState=f}return[f,o]}function tp(e,n,s){var o=At,h=_e(),f=Lt;if(f){if(s===void 0)throw Error(a(407));s=s()}else s=n();var g=!bn((Jt||h).memoizedState,s);if(g&&(h.memoizedState=s,Ce=!0),h=h.queue,Ef(ip.bind(null,o,h,e),[e]),h.getSnapshot!==n||g||Re!==null&&Re.memoizedState.tag&1){if(o.flags|=2048,Ia(9,{destroy:void 0},np.bind(null,o,h,s,n),null),ne===null)throw Error(a(349));f||(Ki&127)!==0||ep(o,n,s)}return s}function ep(e,n,s){e.flags|=16384,e={getSnapshot:n,value:s},n=At.updateQueue,n===null?(n=Pu(),At.updateQueue=n,n.stores=[e]):(s=n.stores,s===null?n.stores=[e]:s.push(e))}function np(e,n,s,o){n.value=s,n.getSnapshot=o,sp(n)&&rp(e)}function ip(e,n,s){return s(function(){sp(n)&&rp(e)})}function sp(e){var n=e.getSnapshot;e=e.value;try{var s=n();return!bn(e,s)}catch{return!0}}function rp(e){var n=Dr(e,2);n!==null&&gn(n,e,2)}function _f(e){var n=rn();if(typeof e=="function"){var s=e;if(e=s(),jr){xn(!0);try{s()}finally{xn(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Yi,lastRenderedState:e},n}function ap(e,n,s,o){return e.baseState=s,pf(e,Jt,typeof o=="function"?o:Yi)}function p1(e,n,s,o,h){if(Hu(e))throw Error(a(485));if(e=n.action,e!==null){var f={payload:h,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(g){f.listeners.push(g)}};G.T!==null?s(!0):f.isTransition=!1,o(f),s=n.pending,s===null?(f.next=n.pending=f,op(n,f)):(f.next=s.next,n.pending=s.next=f)}}function op(e,n){var s=n.action,o=n.payload,h=e.state;if(n.isTransition){var f=G.T,g={};G.T=g;try{var T=s(h,o),C=G.S;C!==null&&C(g,T),lp(e,n,T)}catch(j){vf(e,n,j)}finally{f!==null&&g.types!==null&&(f.types=g.types),G.T=f}}else try{f=s(h,o),lp(e,n,f)}catch(j){vf(e,n,j)}}function lp(e,n,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(o){up(e,n,o)},function(o){return vf(e,n,o)}):up(e,n,s)}function up(e,n,s){n.status="fulfilled",n.value=s,cp(n),e.state=s,n=e.pending,n!==null&&(s=n.next,s===n?e.pending=null:(s=s.next,n.next=s,op(e,s)))}function vf(e,n,s){var o=e.pending;if(e.pending=null,o!==null){o=o.next;do n.status="rejected",n.reason=s,cp(n),n=n.next;while(n!==o)}e.action=null}function cp(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function hp(e,n){return n}function fp(e,n){if(Lt){var s=ne.formState;if(s!==null){t:{var o=At;if(Lt){if(ie){e:{for(var h=ie,f=zn;h.nodeType!==8;){if(!f){h=null;break e}if(h=Bn(h.nextSibling),h===null){h=null;break e}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){ie=Bn(h.nextSibling),o=h.data==="F!";break t}}Is(o)}o=!1}o&&(n=s[0])}}return s=rn(),s.memoizedState=s.baseState=n,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:hp,lastRenderedState:n},s.queue=o,s=Dp.bind(null,At,o),o.dispatch=s,o=_f(!1),f=wf.bind(null,At,!1,o.queue),o=rn(),h={state:n,dispatch:null,action:e,pending:null},o.queue=h,s=p1.bind(null,At,h,f,s),h.dispatch=s,o.memoizedState=e,[n,s,!1]}function dp(e){var n=_e();return mp(n,Jt,e)}function mp(e,n,s){if(n=pf(e,n,hp)[0],e=ju(Yi)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var o=Ko(n)}catch(g){throw g===Sa?xu:g}else o=n;n=_e();var h=n.queue,f=h.dispatch;return s!==n.memoizedState&&(At.flags|=2048,Ia(9,{destroy:void 0},y1.bind(null,h,s),null)),[o,f,e]}function y1(e,n){e.action=n}function gp(e){var n=_e(),s=Jt;if(s!==null)return mp(n,s,e);_e(),n=n.memoizedState,s=_e();var o=s.queue.dispatch;return s.memoizedState=e,[n,o,!1]}function Ia(e,n,s,o){return e={tag:e,create:s,deps:o,inst:n,next:null},n=At.updateQueue,n===null&&(n=Pu(),At.updateQueue=n),s=n.lastEffect,s===null?n.lastEffect=e.next=e:(o=s.next,s.next=e,e.next=o,n.lastEffect=e),e}function pp(){return _e().memoizedState}function Bu(e,n,s,o){var h=rn();At.flags|=e,h.memoizedState=Ia(1|n,{destroy:void 0},s,o===void 0?null:o)}function qu(e,n,s,o){var h=_e();o=o===void 0?null:o;var f=h.memoizedState.inst;Jt!==null&&o!==null&&cf(o,Jt.memoizedState.deps)?h.memoizedState=Ia(n,f,s,o):(At.flags|=e,h.memoizedState=Ia(1|n,f,s,o))}function yp(e,n){Bu(8390656,8,e,n)}function Ef(e,n){qu(2048,8,e,n)}function _1(e){At.flags|=4;var n=At.updateQueue;if(n===null)n=Pu(),At.updateQueue=n,n.events=[e];else{var s=n.events;s===null?n.events=[e]:s.push(e)}}function _p(e){var n=_e().memoizedState;return _1({ref:n,nextImpl:e}),function(){if((Ft&2)!==0)throw Error(a(440));return n.impl.apply(void 0,arguments)}}function vp(e,n){return qu(4,2,e,n)}function Ep(e,n){return qu(4,4,e,n)}function Tp(e,n){if(typeof n=="function"){e=e();var s=n(e);return function(){typeof s=="function"?s():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function bp(e,n,s){s=s!=null?s.concat([e]):null,qu(4,4,Tp.bind(null,n,e),s)}function Tf(){}function Sp(e,n){var s=_e();n=n===void 0?null:n;var o=s.memoizedState;return n!==null&&cf(n,o[1])?o[0]:(s.memoizedState=[e,n],e)}function Ap(e,n){var s=_e();n=n===void 0?null:n;var o=s.memoizedState;if(n!==null&&cf(n,o[1]))return o[0];if(o=e(),jr){xn(!0);try{e()}finally{xn(!1)}}return s.memoizedState=[o,n],o}function bf(e,n,s){return s===void 0||(Ki&1073741824)!==0&&(Dt&261930)===0?e.memoizedState=n:(e.memoizedState=s,e=wy(),At.lanes|=e,Ls|=e,s)}function wp(e,n,s,o){return bn(s,n)?s:wa.current!==null?(e=bf(e,s,o),bn(e,n)||(Ce=!0),e):(Ki&42)===0||(Ki&1073741824)!==0&&(Dt&261930)===0?(Ce=!0,e.memoizedState=s):(e=wy(),At.lanes|=e,Ls|=e,n)}function Rp(e,n,s,o,h){var f=st.p;st.p=f!==0&&8>f?f:8;var g=G.T,T={};G.T=T,wf(e,!1,n,s);try{var C=h(),j=G.S;if(j!==null&&j(T,C),C!==null&&typeof C=="object"&&typeof C.then=="function"){var F=d1(C,o);Yo(e,n,F,In(e))}else Yo(e,n,o,In(e))}catch(Y){Yo(e,n,{then:function(){},status:"rejected",reason:Y},In())}finally{st.p=f,g!==null&&T.types!==null&&(g.types=T.types),G.T=g}}function v1(){}function Sf(e,n,s,o){if(e.tag!==5)throw Error(a(476));var h=Cp(e).queue;Rp(e,h,n,ht,s===null?v1:function(){return Ip(e),s(o)})}function Cp(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:ht,baseState:ht,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Yi,lastRenderedState:ht},next:null};var s={};return n.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Yi,lastRenderedState:s},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function Ip(e){var n=Cp(e);n.next===null&&(n=e.alternate.memoizedState),Yo(e,n.next.queue,{},In())}function Af(){return Fe(hl)}function Np(){return _e().memoizedState}function xp(){return _e().memoizedState}function E1(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var s=In();e=Ds(s);var o=Os(n,e,s);o!==null&&(gn(o,n,s),Ho(o,n,s)),n={cache:Jh()},e.payload=n;return}n=n.return}}function T1(e,n,s){var o=In();s={lane:o,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},Hu(e)?Op(n,s):(s=Bh(e,n,s,o),s!==null&&(gn(s,e,o),Mp(s,n,o)))}function Dp(e,n,s){var o=In();Yo(e,n,s,o)}function Yo(e,n,s,o){var h={lane:o,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null};if(Hu(e))Op(n,h);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var g=n.lastRenderedState,T=f(g,s);if(h.hasEagerState=!0,h.eagerState=T,bn(T,g))return Su(e,n,h,0),ne===null&&bu(),!1}catch{}if(s=Bh(e,n,h,o),s!==null)return gn(s,e,o),Mp(s,n,o),!0}return!1}function wf(e,n,s,o){if(o={lane:2,revertLane:id(),gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},Hu(e)){if(n)throw Error(a(479))}else n=Bh(e,s,o,2),n!==null&&gn(n,e,2)}function Hu(e){var n=e.alternate;return e===At||n!==null&&n===At}function Op(e,n){Ra=Uu=!0;var s=e.pending;s===null?n.next=n:(n.next=s.next,s.next=n),e.pending=n}function Mp(e,n,s){if((s&4194048)!==0){var o=n.lanes;o&=e.pendingLanes,s|=o,n.lanes=s,po(e,s)}}var Xo={readContext:Fe,use:zu,useCallback:de,useContext:de,useEffect:de,useImperativeHandle:de,useLayoutEffect:de,useInsertionEffect:de,useMemo:de,useReducer:de,useRef:de,useState:de,useDebugValue:de,useDeferredValue:de,useTransition:de,useSyncExternalStore:de,useId:de,useHostTransitionStatus:de,useFormState:de,useActionState:de,useOptimistic:de,useMemoCache:de,useCacheRefresh:de};Xo.useEffectEvent=de;var Vp={readContext:Fe,use:zu,useCallback:function(e,n){return rn().memoizedState=[e,n===void 0?null:n],e},useContext:Fe,useEffect:yp,useImperativeHandle:function(e,n,s){s=s!=null?s.concat([e]):null,Bu(4194308,4,Tp.bind(null,n,e),s)},useLayoutEffect:function(e,n){return Bu(4194308,4,e,n)},useInsertionEffect:function(e,n){Bu(4,2,e,n)},useMemo:function(e,n){var s=rn();n=n===void 0?null:n;var o=e();if(jr){xn(!0);try{e()}finally{xn(!1)}}return s.memoizedState=[o,n],o},useReducer:function(e,n,s){var o=rn();if(s!==void 0){var h=s(n);if(jr){xn(!0);try{s(n)}finally{xn(!1)}}}else h=n;return o.memoizedState=o.baseState=h,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:h},o.queue=e,e=e.dispatch=T1.bind(null,At,e),[o.memoizedState,e]},useRef:function(e){var n=rn();return e={current:e},n.memoizedState=e},useState:function(e){e=_f(e);var n=e.queue,s=Dp.bind(null,At,n);return n.dispatch=s,[e.memoizedState,s]},useDebugValue:Tf,useDeferredValue:function(e,n){var s=rn();return bf(s,e,n)},useTransition:function(){var e=_f(!1);return e=Rp.bind(null,At,e.queue,!0,!1),rn().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,s){var o=At,h=rn();if(Lt){if(s===void 0)throw Error(a(407));s=s()}else{if(s=n(),ne===null)throw Error(a(349));(Dt&127)!==0||ep(o,n,s)}h.memoizedState=s;var f={value:s,getSnapshot:n};return h.queue=f,yp(ip.bind(null,o,f,e),[e]),o.flags|=2048,Ia(9,{destroy:void 0},np.bind(null,o,f,s,n),null),s},useId:function(){var e=rn(),n=ne.identifierPrefix;if(Lt){var s=Ri,o=wi;s=(o&~(1<<32-ge(o)-1)).toString(32)+s,n="_"+n+"R_"+s,s=Lu++,0<s&&(n+="H"+s.toString(32)),n+="_"}else s=m1++,n="_"+n+"r_"+s.toString(32)+"_";return e.memoizedState=n},useHostTransitionStatus:Af,useFormState:fp,useActionState:fp,useOptimistic:function(e){var n=rn();n.memoizedState=n.baseState=e;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=s,n=wf.bind(null,At,!0,s),s.dispatch=n,[e,n]},useMemoCache:gf,useCacheRefresh:function(){return rn().memoizedState=E1.bind(null,At)},useEffectEvent:function(e){var n=rn(),s={impl:e};return n.memoizedState=s,function(){if((Ft&2)!==0)throw Error(a(440));return s.impl.apply(void 0,arguments)}}},Rf={readContext:Fe,use:zu,useCallback:Sp,useContext:Fe,useEffect:Ef,useImperativeHandle:bp,useInsertionEffect:vp,useLayoutEffect:Ep,useMemo:Ap,useReducer:ju,useRef:pp,useState:function(){return ju(Yi)},useDebugValue:Tf,useDeferredValue:function(e,n){var s=_e();return wp(s,Jt.memoizedState,e,n)},useTransition:function(){var e=ju(Yi)[0],n=_e().memoizedState;return[typeof e=="boolean"?e:Ko(e),n]},useSyncExternalStore:tp,useId:Np,useHostTransitionStatus:Af,useFormState:dp,useActionState:dp,useOptimistic:function(e,n){var s=_e();return ap(s,Jt,e,n)},useMemoCache:gf,useCacheRefresh:xp};Rf.useEffectEvent=_p;var kp={readContext:Fe,use:zu,useCallback:Sp,useContext:Fe,useEffect:Ef,useImperativeHandle:bp,useInsertionEffect:vp,useLayoutEffect:Ep,useMemo:Ap,useReducer:yf,useRef:pp,useState:function(){return yf(Yi)},useDebugValue:Tf,useDeferredValue:function(e,n){var s=_e();return Jt===null?bf(s,e,n):wp(s,Jt.memoizedState,e,n)},useTransition:function(){var e=yf(Yi)[0],n=_e().memoizedState;return[typeof e=="boolean"?e:Ko(e),n]},useSyncExternalStore:tp,useId:Np,useHostTransitionStatus:Af,useFormState:gp,useActionState:gp,useOptimistic:function(e,n){var s=_e();return Jt!==null?ap(s,Jt,e,n):(s.baseState=e,[e,s.queue.dispatch])},useMemoCache:gf,useCacheRefresh:xp};kp.useEffectEvent=_p;function Cf(e,n,s,o){n=e.memoizedState,s=s(o,n),s=s==null?n:w({},n,s),e.memoizedState=s,e.lanes===0&&(e.updateQueue.baseState=s)}var If={enqueueSetState:function(e,n,s){e=e._reactInternals;var o=In(),h=Ds(o);h.payload=n,s!=null&&(h.callback=s),n=Os(e,h,o),n!==null&&(gn(n,e,o),Ho(n,e,o))},enqueueReplaceState:function(e,n,s){e=e._reactInternals;var o=In(),h=Ds(o);h.tag=1,h.payload=n,s!=null&&(h.callback=s),n=Os(e,h,o),n!==null&&(gn(n,e,o),Ho(n,e,o))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var s=In(),o=Ds(s);o.tag=2,n!=null&&(o.callback=n),n=Os(e,o,s),n!==null&&(gn(n,e,s),Ho(n,e,s))}};function Up(e,n,s,o,h,f,g){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(o,f,g):n.prototype&&n.prototype.isPureReactComponent?!ko(s,o)||!ko(h,f):!0}function Lp(e,n,s,o){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(s,o),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(s,o),n.state!==e&&If.enqueueReplaceState(n,n.state,null)}function Br(e,n){var s=n;if("ref"in n){s={};for(var o in n)o!=="ref"&&(s[o]=n[o])}if(e=e.defaultProps){s===n&&(s=w({},s));for(var h in e)s[h]===void 0&&(s[h]=e[h])}return s}function Pp(e){Tu(e)}function zp(e){console.error(e)}function jp(e){Tu(e)}function Gu(e,n){try{var s=e.onUncaughtError;s(n.value,{componentStack:n.stack})}catch(o){setTimeout(function(){throw o})}}function Bp(e,n,s){try{var o=e.onCaughtError;o(s.value,{componentStack:s.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Nf(e,n,s){return s=Ds(s),s.tag=3,s.payload={element:null},s.callback=function(){Gu(e,n)},s}function qp(e){return e=Ds(e),e.tag=3,e}function Hp(e,n,s,o){var h=s.type.getDerivedStateFromError;if(typeof h=="function"){var f=o.value;e.payload=function(){return h(f)},e.callback=function(){Bp(n,s,o)}}var g=s.stateNode;g!==null&&typeof g.componentDidCatch=="function"&&(e.callback=function(){Bp(n,s,o),typeof h!="function"&&(Ps===null?Ps=new Set([this]):Ps.add(this));var T=o.stack;this.componentDidCatch(o.value,{componentStack:T!==null?T:""})})}function b1(e,n,s,o,h){if(s.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(n=s.alternate,n!==null&&Ea(n,s,h,!0),s=An.current,s!==null){switch(s.tag){case 31:case 13:return jn===null?nc():s.alternate===null&&me===0&&(me=3),s.flags&=-257,s.flags|=65536,s.lanes=h,o===Du?s.flags|=16384:(n=s.updateQueue,n===null?s.updateQueue=new Set([o]):n.add(o),td(e,o,h)),!1;case 22:return s.flags|=65536,o===Du?s.flags|=16384:(n=s.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([o])},s.updateQueue=n):(s=n.retryQueue,s===null?n.retryQueue=new Set([o]):s.add(o)),td(e,o,h)),!1}throw Error(a(435,s.tag))}return td(e,o,h),nc(),!1}if(Lt)return n=An.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,o!==Kh&&(e=Error(a(422),{cause:o}),Po(Un(e,s)))):(o!==Kh&&(n=Error(a(423),{cause:o}),Po(Un(n,s))),e=e.current.alternate,e.flags|=65536,h&=-h,e.lanes|=h,o=Un(o,s),h=Nf(e.stateNode,o,h),rf(e,h),me!==4&&(me=2)),!1;var f=Error(a(520),{cause:o});if(f=Un(f,s),il===null?il=[f]:il.push(f),me!==4&&(me=2),n===null)return!0;o=Un(o,s),s=n;do{switch(s.tag){case 3:return s.flags|=65536,e=h&-h,s.lanes|=e,e=Nf(s.stateNode,o,e),rf(s,e),!1;case 1:if(n=s.type,f=s.stateNode,(s.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Ps===null||!Ps.has(f))))return s.flags|=65536,h&=-h,s.lanes|=h,h=qp(h),Hp(h,e,s,o),rf(s,h),!1}s=s.return}while(s!==null);return!1}var xf=Error(a(461)),Ce=!1;function Qe(e,n,s,o){n.child=e===null?Kg(n,null,s,o):zr(n,e.child,s,o)}function Gp(e,n,s,o,h){s=s.render;var f=n.ref;if("ref"in o){var g={};for(var T in o)T!=="ref"&&(g[T]=o[T])}else g=o;return kr(n),o=hf(e,n,s,g,f,h),T=ff(),e!==null&&!Ce?(df(e,n,h),Xi(e,n,h)):(Lt&&T&&Fh(n),n.flags|=1,Qe(e,n,o,h),n.child)}function Fp(e,n,s,o,h){if(e===null){var f=s.type;return typeof f=="function"&&!qh(f)&&f.defaultProps===void 0&&s.compare===null?(n.tag=15,n.type=f,Qp(e,n,f,o,h)):(e=wu(s.type,null,o,n,n.mode,h),e.ref=n.ref,e.return=n,n.child=e)}if(f=e.child,!Pf(e,h)){var g=f.memoizedProps;if(s=s.compare,s=s!==null?s:ko,s(g,o)&&e.ref===n.ref)return Xi(e,n,h)}return n.flags|=1,e=Hi(f,o),e.ref=n.ref,e.return=n,n.child=e}function Qp(e,n,s,o,h){if(e!==null){var f=e.memoizedProps;if(ko(f,o)&&e.ref===n.ref)if(Ce=!1,n.pendingProps=o=f,Pf(e,h))(e.flags&131072)!==0&&(Ce=!0);else return n.lanes=e.lanes,Xi(e,n,h)}return Df(e,n,s,o,h)}function Kp(e,n,s,o){var h=o.children,f=e!==null?e.memoizedState:null;if(e===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|s:s,e!==null){for(o=n.child=e.child,h=0;o!==null;)h=h|o.lanes|o.childLanes,o=o.sibling;o=h&~f}else o=0,n.child=null;return Yp(e,n,f,s,o)}if((s&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&Nu(n,f!==null?f.cachePool:null),f!==null?$g(n,f):of(),Zg(n);else return o=n.lanes=536870912,Yp(e,n,f!==null?f.baseLanes|s:s,s,o)}else f!==null?(Nu(n,f.cachePool),$g(n,f),Vs(),n.memoizedState=null):(e!==null&&Nu(n,null),of(),Vs());return Qe(e,n,h,s),n.child}function $o(e,n){return e!==null&&e.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function Yp(e,n,s,o,h){var f=tf();return f=f===null?null:{parent:we._currentValue,pool:f},n.memoizedState={baseLanes:s,cachePool:f},e!==null&&Nu(n,null),of(),Zg(n),e!==null&&Ea(e,n,o,!0),n.childLanes=h,null}function Fu(e,n){return n=Ku({mode:n.mode,children:n.children},e.mode),n.ref=e.ref,e.child=n,n.return=e,n}function Xp(e,n,s){return zr(n,e.child,null,s),e=Fu(n,n.pendingProps),e.flags|=2,wn(n),n.memoizedState=null,e}function S1(e,n,s){var o=n.pendingProps,h=(n.flags&128)!==0;if(n.flags&=-129,e===null){if(Lt){if(o.mode==="hidden")return e=Fu(n,o),n.lanes=536870912,$o(null,e);if(uf(n),(e=ie)?(e=o_(e,zn),e=e!==null&&e.data==="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:Rs!==null?{id:wi,overflow:Ri}:null,retryLane:536870912,hydrationErrors:null},s=Og(e),s.return=n,n.child=s,Ge=n,ie=null)):e=null,e===null)throw Is(n);return n.lanes=536870912,null}return Fu(n,o)}var f=e.memoizedState;if(f!==null){var g=f.dehydrated;if(uf(n),h)if(n.flags&256)n.flags&=-257,n=Xp(e,n,s);else if(n.memoizedState!==null)n.child=e.child,n.flags|=128,n=null;else throw Error(a(558));else if(Ce||Ea(e,n,s,!1),h=(s&e.childLanes)!==0,Ce||h){if(o=ne,o!==null&&(g=yo(o,s),g!==0&&g!==f.retryLane))throw f.retryLane=g,Dr(e,g),gn(o,e,g),xf;nc(),n=Xp(e,n,s)}else e=f.treeContext,ie=Bn(g.nextSibling),Ge=n,Lt=!0,Cs=null,zn=!1,e!==null&&kg(n,e),n=Fu(n,o),n.flags|=4096;return n}return e=Hi(e.child,{mode:o.mode,children:o.children}),e.ref=n.ref,n.child=e,e.return=n,e}function Qu(e,n){var s=n.ref;if(s===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(a(284));(e===null||e.ref!==s)&&(n.flags|=4194816)}}function Df(e,n,s,o,h){return kr(n),s=hf(e,n,s,o,void 0,h),o=ff(),e!==null&&!Ce?(df(e,n,h),Xi(e,n,h)):(Lt&&o&&Fh(n),n.flags|=1,Qe(e,n,s,h),n.child)}function $p(e,n,s,o,h,f){return kr(n),n.updateQueue=null,s=Wg(n,o,s,h),Jg(e),o=ff(),e!==null&&!Ce?(df(e,n,f),Xi(e,n,f)):(Lt&&o&&Fh(n),n.flags|=1,Qe(e,n,s,f),n.child)}function Zp(e,n,s,o,h){if(kr(n),n.stateNode===null){var f=pa,g=s.contextType;typeof g=="object"&&g!==null&&(f=Fe(g)),f=new s(o,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=If,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=o,f.state=n.memoizedState,f.refs={},nf(n),g=s.contextType,f.context=typeof g=="object"&&g!==null?Fe(g):pa,f.state=n.memoizedState,g=s.getDerivedStateFromProps,typeof g=="function"&&(Cf(n,s,g,o),f.state=n.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(g=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),g!==f.state&&If.enqueueReplaceState(f,f.state,null),Fo(n,o,f,h),Go(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!0}else if(e===null){f=n.stateNode;var T=n.memoizedProps,C=Br(s,T);f.props=C;var j=f.context,F=s.contextType;g=pa,typeof F=="object"&&F!==null&&(g=Fe(F));var Y=s.getDerivedStateFromProps;F=typeof Y=="function"||typeof f.getSnapshotBeforeUpdate=="function",T=n.pendingProps!==T,F||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(T||j!==g)&&Lp(n,f,o,g),xs=!1;var B=n.memoizedState;f.state=B,Fo(n,o,f,h),Go(),j=n.memoizedState,T||B!==j||xs?(typeof Y=="function"&&(Cf(n,s,Y,o),j=n.memoizedState),(C=xs||Up(n,s,C,o,B,j,g))?(F||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=o,n.memoizedState=j),f.props=o,f.state=j,f.context=g,o=C):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!1)}else{f=n.stateNode,sf(e,n),g=n.memoizedProps,F=Br(s,g),f.props=F,Y=n.pendingProps,B=f.context,j=s.contextType,C=pa,typeof j=="object"&&j!==null&&(C=Fe(j)),T=s.getDerivedStateFromProps,(j=typeof T=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(g!==Y||B!==C)&&Lp(n,f,o,C),xs=!1,B=n.memoizedState,f.state=B,Fo(n,o,f,h),Go();var H=n.memoizedState;g!==Y||B!==H||xs||e!==null&&e.dependencies!==null&&Cu(e.dependencies)?(typeof T=="function"&&(Cf(n,s,T,o),H=n.memoizedState),(F=xs||Up(n,s,F,o,B,H,C)||e!==null&&e.dependencies!==null&&Cu(e.dependencies))?(j||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(o,H,C),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(o,H,C)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||g===e.memoizedProps&&B===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&B===e.memoizedState||(n.flags|=1024),n.memoizedProps=o,n.memoizedState=H),f.props=o,f.state=H,f.context=C,o=F):(typeof f.componentDidUpdate!="function"||g===e.memoizedProps&&B===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&B===e.memoizedState||(n.flags|=1024),o=!1)}return f=o,Qu(e,n),o=(n.flags&128)!==0,f||o?(f=n.stateNode,s=o&&typeof s.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,e!==null&&o?(n.child=zr(n,e.child,null,h),n.child=zr(n,null,s,h)):Qe(e,n,s,h),n.memoizedState=f.state,e=n.child):e=Xi(e,n,h),e}function Jp(e,n,s,o){return Mr(),n.flags|=256,Qe(e,n,s,o),n.child}var Of={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Mf(e){return{baseLanes:e,cachePool:Bg()}}function Vf(e,n,s){return e=e!==null?e.childLanes&~s:0,n&&(e|=Cn),e}function Wp(e,n,s){var o=n.pendingProps,h=!1,f=(n.flags&128)!==0,g;if((g=f)||(g=e!==null&&e.memoizedState===null?!1:(ye.current&2)!==0),g&&(h=!0,n.flags&=-129),g=(n.flags&32)!==0,n.flags&=-33,e===null){if(Lt){if(h?Ms(n):Vs(),(e=ie)?(e=o_(e,zn),e=e!==null&&e.data!=="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:Rs!==null?{id:wi,overflow:Ri}:null,retryLane:536870912,hydrationErrors:null},s=Og(e),s.return=n,n.child=s,Ge=n,ie=null)):e=null,e===null)throw Is(n);return pd(e)?n.lanes=32:n.lanes=536870912,null}var T=o.children;return o=o.fallback,h?(Vs(),h=n.mode,T=Ku({mode:"hidden",children:T},h),o=Or(o,h,s,null),T.return=n,o.return=n,T.sibling=o,n.child=T,o=n.child,o.memoizedState=Mf(s),o.childLanes=Vf(e,g,s),n.memoizedState=Of,$o(null,o)):(Ms(n),kf(n,T))}var C=e.memoizedState;if(C!==null&&(T=C.dehydrated,T!==null)){if(f)n.flags&256?(Ms(n),n.flags&=-257,n=Uf(e,n,s)):n.memoizedState!==null?(Vs(),n.child=e.child,n.flags|=128,n=null):(Vs(),T=o.fallback,h=n.mode,o=Ku({mode:"visible",children:o.children},h),T=Or(T,h,s,null),T.flags|=2,o.return=n,T.return=n,o.sibling=T,n.child=o,zr(n,e.child,null,s),o=n.child,o.memoizedState=Mf(s),o.childLanes=Vf(e,g,s),n.memoizedState=Of,n=$o(null,o));else if(Ms(n),pd(T)){if(g=T.nextSibling&&T.nextSibling.dataset,g)var j=g.dgst;g=j,o=Error(a(419)),o.stack="",o.digest=g,Po({value:o,source:null,stack:null}),n=Uf(e,n,s)}else if(Ce||Ea(e,n,s,!1),g=(s&e.childLanes)!==0,Ce||g){if(g=ne,g!==null&&(o=yo(g,s),o!==0&&o!==C.retryLane))throw C.retryLane=o,Dr(e,o),gn(g,e,o),xf;gd(T)||nc(),n=Uf(e,n,s)}else gd(T)?(n.flags|=192,n.child=e.child,n=null):(e=C.treeContext,ie=Bn(T.nextSibling),Ge=n,Lt=!0,Cs=null,zn=!1,e!==null&&kg(n,e),n=kf(n,o.children),n.flags|=4096);return n}return h?(Vs(),T=o.fallback,h=n.mode,C=e.child,j=C.sibling,o=Hi(C,{mode:"hidden",children:o.children}),o.subtreeFlags=C.subtreeFlags&65011712,j!==null?T=Hi(j,T):(T=Or(T,h,s,null),T.flags|=2),T.return=n,o.return=n,o.sibling=T,n.child=o,$o(null,o),o=n.child,T=e.child.memoizedState,T===null?T=Mf(s):(h=T.cachePool,h!==null?(C=we._currentValue,h=h.parent!==C?{parent:C,pool:C}:h):h=Bg(),T={baseLanes:T.baseLanes|s,cachePool:h}),o.memoizedState=T,o.childLanes=Vf(e,g,s),n.memoizedState=Of,$o(e.child,o)):(Ms(n),s=e.child,e=s.sibling,s=Hi(s,{mode:"visible",children:o.children}),s.return=n,s.sibling=null,e!==null&&(g=n.deletions,g===null?(n.deletions=[e],n.flags|=16):g.push(e)),n.child=s,n.memoizedState=null,s)}function kf(e,n){return n=Ku({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function Ku(e,n){return e=Sn(22,e,null,n),e.lanes=0,e}function Uf(e,n,s){return zr(n,e.child,null,s),e=kf(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function ty(e,n,s){e.lanes|=n;var o=e.alternate;o!==null&&(o.lanes|=n),$h(e.return,n,s)}function Lf(e,n,s,o,h,f){var g=e.memoizedState;g===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:o,tail:s,tailMode:h,treeForkCount:f}:(g.isBackwards=n,g.rendering=null,g.renderingStartTime=0,g.last=o,g.tail=s,g.tailMode=h,g.treeForkCount=f)}function ey(e,n,s){var o=n.pendingProps,h=o.revealOrder,f=o.tail;o=o.children;var g=ye.current,T=(g&2)!==0;if(T?(g=g&1|2,n.flags|=128):g&=1,$(ye,g),Qe(e,n,o,s),o=Lt?Lo:0,!T&&e!==null&&(e.flags&128)!==0)t:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&ty(e,s,n);else if(e.tag===19)ty(e,s,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break t;for(;e.sibling===null;){if(e.return===null||e.return===n)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(h){case"forwards":for(s=n.child,h=null;s!==null;)e=s.alternate,e!==null&&ku(e)===null&&(h=s),s=s.sibling;s=h,s===null?(h=n.child,n.child=null):(h=s.sibling,s.sibling=null),Lf(n,!1,h,s,f,o);break;case"backwards":case"unstable_legacy-backwards":for(s=null,h=n.child,n.child=null;h!==null;){if(e=h.alternate,e!==null&&ku(e)===null){n.child=h;break}e=h.sibling,h.sibling=s,s=h,h=e}Lf(n,!0,s,null,f,o);break;case"together":Lf(n,!1,null,null,void 0,o);break;default:n.memoizedState=null}return n.child}function Xi(e,n,s){if(e!==null&&(n.dependencies=e.dependencies),Ls|=n.lanes,(s&n.childLanes)===0)if(e!==null){if(Ea(e,n,s,!1),(s&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(a(153));if(n.child!==null){for(e=n.child,s=Hi(e,e.pendingProps),n.child=s,s.return=n;e.sibling!==null;)e=e.sibling,s=s.sibling=Hi(e,e.pendingProps),s.return=n;s.sibling=null}return n.child}function Pf(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&Cu(e)))}function A1(e,n,s){switch(n.tag){case 3:Rt(n,n.stateNode.containerInfo),Ns(n,we,e.memoizedState.cache),Mr();break;case 27:case 5:Oe(n);break;case 4:Rt(n,n.stateNode.containerInfo);break;case 10:Ns(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,uf(n),null;break;case 13:var o=n.memoizedState;if(o!==null)return o.dehydrated!==null?(Ms(n),n.flags|=128,null):(s&n.child.childLanes)!==0?Wp(e,n,s):(Ms(n),e=Xi(e,n,s),e!==null?e.sibling:null);Ms(n);break;case 19:var h=(e.flags&128)!==0;if(o=(s&n.childLanes)!==0,o||(Ea(e,n,s,!1),o=(s&n.childLanes)!==0),h){if(o)return ey(e,n,s);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),$(ye,ye.current),o)break;return null;case 22:return n.lanes=0,Kp(e,n,s,n.pendingProps);case 24:Ns(n,we,e.memoizedState.cache)}return Xi(e,n,s)}function ny(e,n,s){if(e!==null)if(e.memoizedProps!==n.pendingProps)Ce=!0;else{if(!Pf(e,s)&&(n.flags&128)===0)return Ce=!1,A1(e,n,s);Ce=(e.flags&131072)!==0}else Ce=!1,Lt&&(n.flags&1048576)!==0&&Vg(n,Lo,n.index);switch(n.lanes=0,n.tag){case 16:t:{var o=n.pendingProps;if(e=Lr(n.elementType),n.type=e,typeof e=="function")qh(e)?(o=Br(e,o),n.tag=1,n=Zp(null,n,e,o,s)):(n.tag=0,n=Df(null,n,e,o,s));else{if(e!=null){var h=e.$$typeof;if(h===Ht){n.tag=11,n=Gp(null,n,e,o,s);break t}else if(h===x){n.tag=14,n=Fp(null,n,e,o,s);break t}}throw n=ee(e)||e,Error(a(306,n,""))}}return n;case 0:return Df(e,n,n.type,n.pendingProps,s);case 1:return o=n.type,h=Br(o,n.pendingProps),Zp(e,n,o,h,s);case 3:t:{if(Rt(n,n.stateNode.containerInfo),e===null)throw Error(a(387));o=n.pendingProps;var f=n.memoizedState;h=f.element,sf(e,n),Fo(n,o,null,s);var g=n.memoizedState;if(o=g.cache,Ns(n,we,o),o!==f.cache&&Zh(n,[we],s,!0),Go(),o=g.element,f.isDehydrated)if(f={element:o,isDehydrated:!1,cache:g.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=Jp(e,n,o,s);break t}else if(o!==h){h=Un(Error(a(424)),n),Po(h),n=Jp(e,n,o,s);break t}else for(e=n.stateNode.containerInfo,e.nodeType===9?e=e.body:e=e.nodeName==="HTML"?e.ownerDocument.body:e,ie=Bn(e.firstChild),Ge=n,Lt=!0,Cs=null,zn=!0,s=Kg(n,null,o,s),n.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling;else{if(Mr(),o===h){n=Xi(e,n,s);break t}Qe(e,n,o,s)}n=n.child}return n;case 26:return Qu(e,n),e===null?(s=d_(n.type,null,n.pendingProps,null))?n.memoizedState=s:Lt||(s=n.type,e=n.pendingProps,o=uc(at.current).createElement(s),o[be]=n,o[Pe]=e,Ke(o,s,e),Se(o),n.stateNode=o):n.memoizedState=d_(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return Oe(n),e===null&&Lt&&(o=n.stateNode=c_(n.type,n.pendingProps,at.current),Ge=n,zn=!0,h=ie,qs(n.type)?(yd=h,ie=Bn(o.firstChild)):ie=h),Qe(e,n,n.pendingProps.children,s),Qu(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&Lt&&((h=o=ie)&&(o=tb(o,n.type,n.pendingProps,zn),o!==null?(n.stateNode=o,Ge=n,ie=Bn(o.firstChild),zn=!1,h=!0):h=!1),h||Is(n)),Oe(n),h=n.type,f=n.pendingProps,g=e!==null?e.memoizedProps:null,o=f.children,fd(h,f)?o=null:g!==null&&fd(h,g)&&(n.flags|=32),n.memoizedState!==null&&(h=hf(e,n,g1,null,null,s),hl._currentValue=h),Qu(e,n),Qe(e,n,o,s),n.child;case 6:return e===null&&Lt&&((e=s=ie)&&(s=eb(s,n.pendingProps,zn),s!==null?(n.stateNode=s,Ge=n,ie=null,e=!0):e=!1),e||Is(n)),null;case 13:return Wp(e,n,s);case 4:return Rt(n,n.stateNode.containerInfo),o=n.pendingProps,e===null?n.child=zr(n,null,o,s):Qe(e,n,o,s),n.child;case 11:return Gp(e,n,n.type,n.pendingProps,s);case 7:return Qe(e,n,n.pendingProps,s),n.child;case 8:return Qe(e,n,n.pendingProps.children,s),n.child;case 12:return Qe(e,n,n.pendingProps.children,s),n.child;case 10:return o=n.pendingProps,Ns(n,n.type,o.value),Qe(e,n,o.children,s),n.child;case 9:return h=n.type._context,o=n.pendingProps.children,kr(n),h=Fe(h),o=o(h),n.flags|=1,Qe(e,n,o,s),n.child;case 14:return Fp(e,n,n.type,n.pendingProps,s);case 15:return Qp(e,n,n.type,n.pendingProps,s);case 19:return ey(e,n,s);case 31:return S1(e,n,s);case 22:return Kp(e,n,s,n.pendingProps);case 24:return kr(n),o=Fe(we),e===null?(h=tf(),h===null&&(h=ne,f=Jh(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=s),h=f),n.memoizedState={parent:o,cache:h},nf(n),Ns(n,we,h)):((e.lanes&s)!==0&&(sf(e,n),Fo(n,null,null,s),Go()),h=e.memoizedState,f=n.memoizedState,h.parent!==o?(h={parent:o,cache:o},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),Ns(n,we,o)):(o=f.cache,Ns(n,we,o),o!==h.cache&&Zh(n,[we],s,!0))),Qe(e,n,n.pendingProps.children,s),n.child;case 29:throw n.pendingProps}throw Error(a(156,n.tag))}function $i(e){e.flags|=4}function zf(e,n,s,o,h){if((n=(e.mode&32)!==0)&&(n=!1),n){if(e.flags|=16777216,(h&335544128)===h)if(e.stateNode.complete)e.flags|=8192;else if(Ny())e.flags|=8192;else throw Pr=Du,ef}else e.flags&=-16777217}function iy(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!__(n))if(Ny())e.flags|=8192;else throw Pr=Du,ef}function Yu(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?tu():536870912,e.lanes|=n,Oa|=n)}function Zo(e,n){if(!Lt)switch(e.tailMode){case"hidden":n=e.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?e.tail=null:s.sibling=null;break;case"collapsed":s=e.tail;for(var o=null;s!==null;)s.alternate!==null&&(o=s),s=s.sibling;o===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:o.sibling=null}}function se(e){var n=e.alternate!==null&&e.alternate.child===e.child,s=0,o=0;if(n)for(var h=e.child;h!==null;)s|=h.lanes|h.childLanes,o|=h.subtreeFlags&65011712,o|=h.flags&65011712,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)s|=h.lanes|h.childLanes,o|=h.subtreeFlags,o|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=o,e.childLanes=s,n}function w1(e,n,s){var o=n.pendingProps;switch(Qh(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return se(n),null;case 1:return se(n),null;case 3:return s=n.stateNode,o=null,e!==null&&(o=e.memoizedState.cache),n.memoizedState.cache!==o&&(n.flags|=2048),Qi(we),Ct(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(e===null||e.child===null)&&(va(n)?$i(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Yh())),se(n),null;case 26:var h=n.type,f=n.memoizedState;return e===null?($i(n),f!==null?(se(n),iy(n,f)):(se(n),zf(n,h,null,o,s))):f?f!==e.memoizedState?($i(n),se(n),iy(n,f)):(se(n),n.flags&=-16777217):(e=e.memoizedProps,e!==o&&$i(n),se(n),zf(n,h,e,o,s)),null;case 27:if($t(n),s=at.current,h=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&$i(n);else{if(!o){if(n.stateNode===null)throw Error(a(166));return se(n),null}e=J.current,va(n)?Ug(n):(e=c_(h,o,s),n.stateNode=e,$i(n))}return se(n),null;case 5:if($t(n),h=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&$i(n);else{if(!o){if(n.stateNode===null)throw Error(a(166));return se(n),null}if(f=J.current,va(n))Ug(n);else{var g=uc(at.current);switch(f){case 1:f=g.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:f=g.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":f=g.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":f=g.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":f=g.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof o.is=="string"?g.createElement("select",{is:o.is}):g.createElement("select"),o.multiple?f.multiple=!0:o.size&&(f.size=o.size);break;default:f=typeof o.is=="string"?g.createElement(h,{is:o.is}):g.createElement(h)}}f[be]=n,f[Pe]=o;t:for(g=n.child;g!==null;){if(g.tag===5||g.tag===6)f.appendChild(g.stateNode);else if(g.tag!==4&&g.tag!==27&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===n)break t;for(;g.sibling===null;){if(g.return===null||g.return===n)break t;g=g.return}g.sibling.return=g.return,g=g.sibling}n.stateNode=f;t:switch(Ke(f,h,o),h){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break t;case"img":o=!0;break t;default:o=!1}o&&$i(n)}}return se(n),zf(n,n.type,e===null?null:e.memoizedProps,n.pendingProps,s),null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==o&&$i(n);else{if(typeof o!="string"&&n.stateNode===null)throw Error(a(166));if(e=at.current,va(n)){if(e=n.stateNode,s=n.memoizedProps,o=null,h=Ge,h!==null)switch(h.tag){case 27:case 5:o=h.memoizedProps}e[be]=n,e=!!(e.nodeValue===s||o!==null&&o.suppressHydrationWarning===!0||Wy(e.nodeValue,s)),e||Is(n,!0)}else e=uc(e).createTextNode(o),e[be]=n,n.stateNode=e}return se(n),null;case 31:if(s=n.memoizedState,e===null||e.memoizedState!==null){if(o=va(n),s!==null){if(e===null){if(!o)throw Error(a(318));if(e=n.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(557));e[be]=n}else Mr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;se(n),e=!1}else s=Yh(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=s),e=!0;if(!e)return n.flags&256?(wn(n),n):(wn(n),null);if((n.flags&128)!==0)throw Error(a(558))}return se(n),null;case 13:if(o=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(h=va(n),o!==null&&o.dehydrated!==null){if(e===null){if(!h)throw Error(a(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(a(317));h[be]=n}else Mr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;se(n),h=!1}else h=Yh(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(wn(n),n):(wn(n),null)}return wn(n),(n.flags&128)!==0?(n.lanes=s,n):(s=o!==null,e=e!==null&&e.memoizedState!==null,s&&(o=n.child,h=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(h=o.alternate.memoizedState.cachePool.pool),f=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),f!==h&&(o.flags|=2048)),s!==e&&s&&(n.child.flags|=8192),Yu(n,n.updateQueue),se(n),null);case 4:return Ct(),e===null&&od(n.stateNode.containerInfo),se(n),null;case 10:return Qi(n.type),se(n),null;case 19:if(L(ye),o=n.memoizedState,o===null)return se(n),null;if(h=(n.flags&128)!==0,f=o.rendering,f===null)if(h)Zo(o,!1);else{if(me!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(f=ku(e),f!==null){for(n.flags|=128,Zo(o,!1),e=f.updateQueue,n.updateQueue=e,Yu(n,e),n.subtreeFlags=0,e=s,s=n.child;s!==null;)Dg(s,e),s=s.sibling;return $(ye,ye.current&1|2),Lt&&Gi(n,o.treeForkCount),n.child}e=e.sibling}o.tail!==null&&nn()>Wu&&(n.flags|=128,h=!0,Zo(o,!1),n.lanes=4194304)}else{if(!h)if(e=ku(f),e!==null){if(n.flags|=128,h=!0,e=e.updateQueue,n.updateQueue=e,Yu(n,e),Zo(o,!0),o.tail===null&&o.tailMode==="hidden"&&!f.alternate&&!Lt)return se(n),null}else 2*nn()-o.renderingStartTime>Wu&&s!==536870912&&(n.flags|=128,h=!0,Zo(o,!1),n.lanes=4194304);o.isBackwards?(f.sibling=n.child,n.child=f):(e=o.last,e!==null?e.sibling=f:n.child=f,o.last=f)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=nn(),e.sibling=null,s=ye.current,$(ye,h?s&1|2:s&1),Lt&&Gi(n,o.treeForkCount),e):(se(n),null);case 22:case 23:return wn(n),lf(),o=n.memoizedState!==null,e!==null?e.memoizedState!==null!==o&&(n.flags|=8192):o&&(n.flags|=8192),o?(s&536870912)!==0&&(n.flags&128)===0&&(se(n),n.subtreeFlags&6&&(n.flags|=8192)):se(n),s=n.updateQueue,s!==null&&Yu(n,s.retryQueue),s=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),o=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),o!==s&&(n.flags|=2048),e!==null&&L(Ur),null;case 24:return s=null,e!==null&&(s=e.memoizedState.cache),n.memoizedState.cache!==s&&(n.flags|=2048),Qi(we),se(n),null;case 25:return null;case 30:return null}throw Error(a(156,n.tag))}function R1(e,n){switch(Qh(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return Qi(we),Ct(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return $t(n),null;case 31:if(n.memoizedState!==null){if(wn(n),n.alternate===null)throw Error(a(340));Mr()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 13:if(wn(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(a(340));Mr()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return L(ye),null;case 4:return Ct(),null;case 10:return Qi(n.type),null;case 22:case 23:return wn(n),lf(),e!==null&&L(Ur),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return Qi(we),null;case 25:return null;default:return null}}function sy(e,n){switch(Qh(n),n.tag){case 3:Qi(we),Ct();break;case 26:case 27:case 5:$t(n);break;case 4:Ct();break;case 31:n.memoizedState!==null&&wn(n);break;case 13:wn(n);break;case 19:L(ye);break;case 10:Qi(n.type);break;case 22:case 23:wn(n),lf(),e!==null&&L(Ur);break;case 24:Qi(we)}}function Jo(e,n){try{var s=n.updateQueue,o=s!==null?s.lastEffect:null;if(o!==null){var h=o.next;s=h;do{if((s.tag&e)===e){o=void 0;var f=s.create,g=s.inst;o=f(),g.destroy=o}s=s.next}while(s!==h)}}catch(T){Xt(n,n.return,T)}}function ks(e,n,s){try{var o=n.updateQueue,h=o!==null?o.lastEffect:null;if(h!==null){var f=h.next;o=f;do{if((o.tag&e)===e){var g=o.inst,T=g.destroy;if(T!==void 0){g.destroy=void 0,h=n;var C=s,j=T;try{j()}catch(F){Xt(h,C,F)}}}o=o.next}while(o!==f)}}catch(F){Xt(n,n.return,F)}}function ry(e){var n=e.updateQueue;if(n!==null){var s=e.stateNode;try{Xg(n,s)}catch(o){Xt(e,e.return,o)}}}function ay(e,n,s){s.props=Br(e.type,e.memoizedProps),s.state=e.memoizedState;try{s.componentWillUnmount()}catch(o){Xt(e,n,o)}}function Wo(e,n){try{var s=e.ref;if(s!==null){switch(e.tag){case 26:case 27:case 5:var o=e.stateNode;break;case 30:o=e.stateNode;break;default:o=e.stateNode}typeof s=="function"?e.refCleanup=s(o):s.current=o}}catch(h){Xt(e,n,h)}}function Ci(e,n){var s=e.ref,o=e.refCleanup;if(s!==null)if(typeof o=="function")try{o()}catch(h){Xt(e,n,h)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(h){Xt(e,n,h)}else s.current=null}function oy(e){var n=e.type,s=e.memoizedProps,o=e.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":s.autoFocus&&o.focus();break t;case"img":s.src?o.src=s.src:s.srcSet&&(o.srcset=s.srcSet)}}catch(h){Xt(e,e.return,h)}}function jf(e,n,s){try{var o=e.stateNode;Y1(o,e.type,s,n),o[Pe]=n}catch(h){Xt(e,e.return,h)}}function ly(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&qs(e.type)||e.tag===4}function Bf(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||ly(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&qs(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function qf(e,n,s){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(e,n):(n=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,n.appendChild(e),s=s._reactRootContainer,s!=null||n.onclick!==null||(n.onclick=$n));else if(o!==4&&(o===27&&qs(e.type)&&(s=e.stateNode,n=null),e=e.child,e!==null))for(qf(e,n,s),e=e.sibling;e!==null;)qf(e,n,s),e=e.sibling}function Xu(e,n,s){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?s.insertBefore(e,n):s.appendChild(e);else if(o!==4&&(o===27&&qs(e.type)&&(s=e.stateNode),e=e.child,e!==null))for(Xu(e,n,s),e=e.sibling;e!==null;)Xu(e,n,s),e=e.sibling}function uy(e){var n=e.stateNode,s=e.memoizedProps;try{for(var o=e.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);Ke(n,o,s),n[be]=e,n[Pe]=s}catch(f){Xt(e,e.return,f)}}var Zi=!1,Ie=!1,Hf=!1,cy=typeof WeakSet=="function"?WeakSet:Set,je=null;function C1(e,n){if(e=e.containerInfo,cd=pc,e=bg(e),kh(e)){if("selectionStart"in e)var s={start:e.selectionStart,end:e.selectionEnd};else t:{s=(s=e.ownerDocument)&&s.defaultView||window;var o=s.getSelection&&s.getSelection();if(o&&o.rangeCount!==0){s=o.anchorNode;var h=o.anchorOffset,f=o.focusNode;o=o.focusOffset;try{s.nodeType,f.nodeType}catch{s=null;break t}var g=0,T=-1,C=-1,j=0,F=0,Y=e,B=null;e:for(;;){for(var H;Y!==s||h!==0&&Y.nodeType!==3||(T=g+h),Y!==f||o!==0&&Y.nodeType!==3||(C=g+o),Y.nodeType===3&&(g+=Y.nodeValue.length),(H=Y.firstChild)!==null;)B=Y,Y=H;for(;;){if(Y===e)break e;if(B===s&&++j===h&&(T=g),B===f&&++F===o&&(C=g),(H=Y.nextSibling)!==null)break;Y=B,B=Y.parentNode}Y=H}s=T===-1||C===-1?null:{start:T,end:C}}else s=null}s=s||{start:0,end:0}}else s=null;for(hd={focusedElem:e,selectionRange:s},pc=!1,je=n;je!==null;)if(n=je,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,je=e;else for(;je!==null;){switch(n=je,f=n.alternate,e=n.flags,n.tag){case 0:if((e&4)!==0&&(e=n.updateQueue,e=e!==null?e.events:null,e!==null))for(s=0;s<e.length;s++)h=e[s],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&f!==null){e=void 0,s=n,h=f.memoizedProps,f=f.memoizedState,o=s.stateNode;try{var ot=Br(s.type,h);e=o.getSnapshotBeforeUpdate(ot,f),o.__reactInternalSnapshotBeforeUpdate=e}catch(pt){Xt(s,s.return,pt)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,s=e.nodeType,s===9)md(e);else if(s===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":md(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(a(163))}if(e=n.sibling,e!==null){e.return=n.return,je=e;break}je=n.return}}function hy(e,n,s){var o=s.flags;switch(s.tag){case 0:case 11:case 15:Wi(e,s),o&4&&Jo(5,s);break;case 1:if(Wi(e,s),o&4)if(e=s.stateNode,n===null)try{e.componentDidMount()}catch(g){Xt(s,s.return,g)}else{var h=Br(s.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(h,n,e.__reactInternalSnapshotBeforeUpdate)}catch(g){Xt(s,s.return,g)}}o&64&&ry(s),o&512&&Wo(s,s.return);break;case 3:if(Wi(e,s),o&64&&(e=s.updateQueue,e!==null)){if(n=null,s.child!==null)switch(s.child.tag){case 27:case 5:n=s.child.stateNode;break;case 1:n=s.child.stateNode}try{Xg(e,n)}catch(g){Xt(s,s.return,g)}}break;case 27:n===null&&o&4&&uy(s);case 26:case 5:Wi(e,s),n===null&&o&4&&oy(s),o&512&&Wo(s,s.return);break;case 12:Wi(e,s);break;case 31:Wi(e,s),o&4&&my(e,s);break;case 13:Wi(e,s),o&4&&gy(e,s),o&64&&(e=s.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(s=U1.bind(null,s),nb(e,s))));break;case 22:if(o=s.memoizedState!==null||Zi,!o){n=n!==null&&n.memoizedState!==null||Ie,h=Zi;var f=Ie;Zi=o,(Ie=n)&&!f?ts(e,s,(s.subtreeFlags&8772)!==0):Wi(e,s),Zi=h,Ie=f}break;case 30:break;default:Wi(e,s)}}function fy(e){var n=e.alternate;n!==null&&(e.alternate=null,fy(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&na(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var oe=null,hn=!1;function Ji(e,n,s){for(s=s.child;s!==null;)dy(e,n,s),s=s.sibling}function dy(e,n,s){if(qe&&typeof qe.onCommitFiberUnmount=="function")try{qe.onCommitFiberUnmount(Qn,s)}catch{}switch(s.tag){case 26:Ie||Ci(s,n),Ji(e,n,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:Ie||Ci(s,n);var o=oe,h=hn;qs(s.type)&&(oe=s.stateNode,hn=!1),Ji(e,n,s),ll(s.stateNode),oe=o,hn=h;break;case 5:Ie||Ci(s,n);case 6:if(o=oe,h=hn,oe=null,Ji(e,n,s),oe=o,hn=h,oe!==null)if(hn)try{(oe.nodeType===9?oe.body:oe.nodeName==="HTML"?oe.ownerDocument.body:oe).removeChild(s.stateNode)}catch(f){Xt(s,n,f)}else try{oe.removeChild(s.stateNode)}catch(f){Xt(s,n,f)}break;case 18:oe!==null&&(hn?(e=oe,r_(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,s.stateNode),ja(e)):r_(oe,s.stateNode));break;case 4:o=oe,h=hn,oe=s.stateNode.containerInfo,hn=!0,Ji(e,n,s),oe=o,hn=h;break;case 0:case 11:case 14:case 15:ks(2,s,n),Ie||ks(4,s,n),Ji(e,n,s);break;case 1:Ie||(Ci(s,n),o=s.stateNode,typeof o.componentWillUnmount=="function"&&ay(s,n,o)),Ji(e,n,s);break;case 21:Ji(e,n,s);break;case 22:Ie=(o=Ie)||s.memoizedState!==null,Ji(e,n,s),Ie=o;break;default:Ji(e,n,s)}}function my(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{ja(e)}catch(s){Xt(n,n.return,s)}}}function gy(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{ja(e)}catch(s){Xt(n,n.return,s)}}function I1(e){switch(e.tag){case 31:case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new cy),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new cy),n;default:throw Error(a(435,e.tag))}}function $u(e,n){var s=I1(e);n.forEach(function(o){if(!s.has(o)){s.add(o);var h=L1.bind(null,e,o);o.then(h,h)}})}function fn(e,n){var s=n.deletions;if(s!==null)for(var o=0;o<s.length;o++){var h=s[o],f=e,g=n,T=g;t:for(;T!==null;){switch(T.tag){case 27:if(qs(T.type)){oe=T.stateNode,hn=!1;break t}break;case 5:oe=T.stateNode,hn=!1;break t;case 3:case 4:oe=T.stateNode.containerInfo,hn=!0;break t}T=T.return}if(oe===null)throw Error(a(160));dy(f,g,h),oe=null,hn=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)py(n,e),n=n.sibling}var ni=null;function py(e,n){var s=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:fn(n,e),dn(e),o&4&&(ks(3,e,e.return),Jo(3,e),ks(5,e,e.return));break;case 1:fn(n,e),dn(e),o&512&&(Ie||s===null||Ci(s,s.return)),o&64&&Zi&&(e=e.updateQueue,e!==null&&(o=e.callbacks,o!==null&&(s=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=s===null?o:s.concat(o))));break;case 26:var h=ni;if(fn(n,e),dn(e),o&512&&(Ie||s===null||Ci(s,s.return)),o&4){var f=s!==null?s.memoizedState:null;if(o=e.memoizedState,s===null)if(o===null)if(e.stateNode===null){t:{o=e.type,s=e.memoizedProps,h=h.ownerDocument||h;e:switch(o){case"title":f=h.getElementsByTagName("title")[0],(!f||f[di]||f[be]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(o),h.head.insertBefore(f,h.querySelector("head > title"))),Ke(f,o,s),f[be]=e,Se(f),o=f;break t;case"link":var g=p_("link","href",h).get(o+(s.href||""));if(g){for(var T=0;T<g.length;T++)if(f=g[T],f.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&f.getAttribute("rel")===(s.rel==null?null:s.rel)&&f.getAttribute("title")===(s.title==null?null:s.title)&&f.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){g.splice(T,1);break e}}f=h.createElement(o),Ke(f,o,s),h.head.appendChild(f);break;case"meta":if(g=p_("meta","content",h).get(o+(s.content||""))){for(T=0;T<g.length;T++)if(f=g[T],f.getAttribute("content")===(s.content==null?null:""+s.content)&&f.getAttribute("name")===(s.name==null?null:s.name)&&f.getAttribute("property")===(s.property==null?null:s.property)&&f.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&f.getAttribute("charset")===(s.charSet==null?null:s.charSet)){g.splice(T,1);break e}}f=h.createElement(o),Ke(f,o,s),h.head.appendChild(f);break;default:throw Error(a(468,o))}f[be]=e,Se(f),o=f}e.stateNode=o}else y_(h,e.type,e.stateNode);else e.stateNode=g_(h,o,e.memoizedProps);else f!==o?(f===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):f.count--,o===null?y_(h,e.type,e.stateNode):g_(h,o,e.memoizedProps)):o===null&&e.stateNode!==null&&jf(e,e.memoizedProps,s.memoizedProps)}break;case 27:fn(n,e),dn(e),o&512&&(Ie||s===null||Ci(s,s.return)),s!==null&&o&4&&jf(e,e.memoizedProps,s.memoizedProps);break;case 5:if(fn(n,e),dn(e),o&512&&(Ie||s===null||Ci(s,s.return)),e.flags&32){h=e.stateNode;try{cn(h,"")}catch(ot){Xt(e,e.return,ot)}}o&4&&e.stateNode!=null&&(h=e.memoizedProps,jf(e,h,s!==null?s.memoizedProps:h)),o&1024&&(Hf=!0);break;case 6:if(fn(n,e),dn(e),o&4){if(e.stateNode===null)throw Error(a(162));o=e.memoizedProps,s=e.stateNode;try{s.nodeValue=o}catch(ot){Xt(e,e.return,ot)}}break;case 3:if(fc=null,h=ni,ni=cc(n.containerInfo),fn(n,e),ni=h,dn(e),o&4&&s!==null&&s.memoizedState.isDehydrated)try{ja(n.containerInfo)}catch(ot){Xt(e,e.return,ot)}Hf&&(Hf=!1,yy(e));break;case 4:o=ni,ni=cc(e.stateNode.containerInfo),fn(n,e),dn(e),ni=o;break;case 12:fn(n,e),dn(e);break;case 31:fn(n,e),dn(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,$u(e,o)));break;case 13:fn(n,e),dn(e),e.child.flags&8192&&e.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(Ju=nn()),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,$u(e,o)));break;case 22:h=e.memoizedState!==null;var C=s!==null&&s.memoizedState!==null,j=Zi,F=Ie;if(Zi=j||h,Ie=F||C,fn(n,e),Ie=F,Zi=j,dn(e),o&8192)t:for(n=e.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(s===null||C||Zi||Ie||qr(e)),s=null,n=e;;){if(n.tag===5||n.tag===26){if(s===null){C=s=n;try{if(f=C.stateNode,h)g=f.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none";else{T=C.stateNode;var Y=C.memoizedProps.style,B=Y!=null&&Y.hasOwnProperty("display")?Y.display:null;T.style.display=B==null||typeof B=="boolean"?"":(""+B).trim()}}catch(ot){Xt(C,C.return,ot)}}}else if(n.tag===6){if(s===null){C=n;try{C.stateNode.nodeValue=h?"":C.memoizedProps}catch(ot){Xt(C,C.return,ot)}}}else if(n.tag===18){if(s===null){C=n;try{var H=C.stateNode;h?a_(H,!0):a_(C.stateNode,!1)}catch(ot){Xt(C,C.return,ot)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break t;for(;n.sibling===null;){if(n.return===null||n.return===e)break t;s===n&&(s=null),n=n.return}s===n&&(s=null),n.sibling.return=n.return,n=n.sibling}o&4&&(o=e.updateQueue,o!==null&&(s=o.retryQueue,s!==null&&(o.retryQueue=null,$u(e,s))));break;case 19:fn(n,e),dn(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,$u(e,o)));break;case 30:break;case 21:break;default:fn(n,e),dn(e)}}function dn(e){var n=e.flags;if(n&2){try{for(var s,o=e.return;o!==null;){if(ly(o)){s=o;break}o=o.return}if(s==null)throw Error(a(160));switch(s.tag){case 27:var h=s.stateNode,f=Bf(e);Xu(e,f,h);break;case 5:var g=s.stateNode;s.flags&32&&(cn(g,""),s.flags&=-33);var T=Bf(e);Xu(e,T,g);break;case 3:case 4:var C=s.stateNode.containerInfo,j=Bf(e);qf(e,j,C);break;default:throw Error(a(161))}}catch(F){Xt(e,e.return,F)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function yy(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;yy(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function Wi(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)hy(e,n.alternate,n),n=n.sibling}function qr(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:ks(4,n,n.return),qr(n);break;case 1:Ci(n,n.return);var s=n.stateNode;typeof s.componentWillUnmount=="function"&&ay(n,n.return,s),qr(n);break;case 27:ll(n.stateNode);case 26:case 5:Ci(n,n.return),qr(n);break;case 22:n.memoizedState===null&&qr(n);break;case 30:qr(n);break;default:qr(n)}e=e.sibling}}function ts(e,n,s){for(s=s&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var o=n.alternate,h=e,f=n,g=f.flags;switch(f.tag){case 0:case 11:case 15:ts(h,f,s),Jo(4,f);break;case 1:if(ts(h,f,s),o=f,h=o.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(j){Xt(o,o.return,j)}if(o=f,h=o.updateQueue,h!==null){var T=o.stateNode;try{var C=h.shared.hiddenCallbacks;if(C!==null)for(h.shared.hiddenCallbacks=null,h=0;h<C.length;h++)Yg(C[h],T)}catch(j){Xt(o,o.return,j)}}s&&g&64&&ry(f),Wo(f,f.return);break;case 27:uy(f);case 26:case 5:ts(h,f,s),s&&o===null&&g&4&&oy(f),Wo(f,f.return);break;case 12:ts(h,f,s);break;case 31:ts(h,f,s),s&&g&4&&my(h,f);break;case 13:ts(h,f,s),s&&g&4&&gy(h,f);break;case 22:f.memoizedState===null&&ts(h,f,s),Wo(f,f.return);break;case 30:break;default:ts(h,f,s)}n=n.sibling}}function Gf(e,n){var s=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==s&&(e!=null&&e.refCount++,s!=null&&zo(s))}function Ff(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&zo(e))}function ii(e,n,s,o){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)_y(e,n,s,o),n=n.sibling}function _y(e,n,s,o){var h=n.flags;switch(n.tag){case 0:case 11:case 15:ii(e,n,s,o),h&2048&&Jo(9,n);break;case 1:ii(e,n,s,o);break;case 3:ii(e,n,s,o),h&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&zo(e)));break;case 12:if(h&2048){ii(e,n,s,o),e=n.stateNode;try{var f=n.memoizedProps,g=f.id,T=f.onPostCommit;typeof T=="function"&&T(g,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(C){Xt(n,n.return,C)}}else ii(e,n,s,o);break;case 31:ii(e,n,s,o);break;case 13:ii(e,n,s,o);break;case 23:break;case 22:f=n.stateNode,g=n.alternate,n.memoizedState!==null?f._visibility&2?ii(e,n,s,o):tl(e,n):f._visibility&2?ii(e,n,s,o):(f._visibility|=2,Na(e,n,s,o,(n.subtreeFlags&10256)!==0||!1)),h&2048&&Gf(g,n);break;case 24:ii(e,n,s,o),h&2048&&Ff(n.alternate,n);break;default:ii(e,n,s,o)}}function Na(e,n,s,o,h){for(h=h&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=e,g=n,T=s,C=o,j=g.flags;switch(g.tag){case 0:case 11:case 15:Na(f,g,T,C,h),Jo(8,g);break;case 23:break;case 22:var F=g.stateNode;g.memoizedState!==null?F._visibility&2?Na(f,g,T,C,h):tl(f,g):(F._visibility|=2,Na(f,g,T,C,h)),h&&j&2048&&Gf(g.alternate,g);break;case 24:Na(f,g,T,C,h),h&&j&2048&&Ff(g.alternate,g);break;default:Na(f,g,T,C,h)}n=n.sibling}}function tl(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var s=e,o=n,h=o.flags;switch(o.tag){case 22:tl(s,o),h&2048&&Gf(o.alternate,o);break;case 24:tl(s,o),h&2048&&Ff(o.alternate,o);break;default:tl(s,o)}n=n.sibling}}var el=8192;function xa(e,n,s){if(e.subtreeFlags&el)for(e=e.child;e!==null;)vy(e,n,s),e=e.sibling}function vy(e,n,s){switch(e.tag){case 26:xa(e,n,s),e.flags&el&&e.memoizedState!==null&&mb(s,ni,e.memoizedState,e.memoizedProps);break;case 5:xa(e,n,s);break;case 3:case 4:var o=ni;ni=cc(e.stateNode.containerInfo),xa(e,n,s),ni=o;break;case 22:e.memoizedState===null&&(o=e.alternate,o!==null&&o.memoizedState!==null?(o=el,el=16777216,xa(e,n,s),el=o):xa(e,n,s));break;default:xa(e,n,s)}}function Ey(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function nl(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var o=n[s];je=o,by(o,e)}Ey(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Ty(e),e=e.sibling}function Ty(e){switch(e.tag){case 0:case 11:case 15:nl(e),e.flags&2048&&ks(9,e,e.return);break;case 3:nl(e);break;case 12:nl(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,Zu(e)):nl(e);break;default:nl(e)}}function Zu(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var o=n[s];je=o,by(o,e)}Ey(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:ks(8,n,n.return),Zu(n);break;case 22:s=n.stateNode,s._visibility&2&&(s._visibility&=-3,Zu(n));break;default:Zu(n)}e=e.sibling}}function by(e,n){for(;je!==null;){var s=je;switch(s.tag){case 0:case 11:case 15:ks(8,s,n);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var o=s.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:zo(s.memoizedState.cache)}if(o=s.child,o!==null)o.return=s,je=o;else t:for(s=e;je!==null;){o=je;var h=o.sibling,f=o.return;if(fy(o),o===s){je=null;break t}if(h!==null){h.return=f,je=h;break t}je=f}}}var N1={getCacheForType:function(e){var n=Fe(we),s=n.data.get(e);return s===void 0&&(s=e(),n.data.set(e,s)),s},cacheSignal:function(){return Fe(we).controller.signal}},x1=typeof WeakMap=="function"?WeakMap:Map,Ft=0,ne=null,It=null,Dt=0,Yt=0,Rn=null,Us=!1,Da=!1,Qf=!1,es=0,me=0,Ls=0,Hr=0,Kf=0,Cn=0,Oa=0,il=null,mn=null,Yf=!1,Ju=0,Sy=0,Wu=1/0,tc=null,Ps=null,ke=0,zs=null,Ma=null,ns=0,Xf=0,$f=null,Ay=null,sl=0,Zf=null;function In(){return(Ft&2)!==0&&Dt!==0?Dt&-Dt:G.T!==null?id():eu()}function wy(){if(Cn===0)if((Dt&536870912)===0||Lt){var e=pr;pr<<=1,(pr&3932160)===0&&(pr=262144),Cn=e}else Cn=536870912;return e=An.current,e!==null&&(e.flags|=32),Cn}function gn(e,n,s){(e===ne&&(Yt===2||Yt===9)||e.cancelPendingCommit!==null)&&(Va(e,0),js(e,Dt,Cn,!1)),yr(e,s),((Ft&2)===0||e!==ne)&&(e===ne&&((Ft&2)===0&&(Hr|=s),me===4&&js(e,Dt,Cn,!1)),Ii(e))}function Ry(e,n,s){if((Ft&6)!==0)throw Error(a(327));var o=!s&&(n&127)===0&&(n&e.expiredLanes)===0||Kn(e,n),h=o?M1(e,n):Wf(e,n,!0),f=o;do{if(h===0){Da&&!o&&js(e,n,0,!1);break}else{if(s=e.current.alternate,f&&!D1(s)){h=Wf(e,n,!1),f=!1;continue}if(h===2){if(f=n,e.errorRecoveryDisabledLanes&f)var g=0;else g=e.pendingLanes&-536870913,g=g!==0?g:g&536870912?536870912:0;if(g!==0){n=g;t:{var T=e;h=il;var C=T.current.memoizedState.isDehydrated;if(C&&(Va(T,g).flags|=256),g=Wf(T,g,!1),g!==2){if(Qf&&!C){T.errorRecoveryDisabledLanes|=f,Hr|=f,h=4;break t}f=mn,mn=h,f!==null&&(mn===null?mn=f:mn.push.apply(mn,f))}h=g}if(f=!1,h!==2)continue}}if(h===1){Va(e,0),js(e,n,0,!0);break}t:{switch(o=e,f=h,f){case 0:case 1:throw Error(a(345));case 4:if((n&4194048)!==n)break;case 6:js(o,n,Cn,!Us);break t;case 2:mn=null;break;case 3:case 5:break;default:throw Error(a(329))}if((n&62914560)===n&&(h=Ju+300-nn(),10<h)){if(js(o,n,Cn,!Us),ci(o,0,!0)!==0)break t;ns=n,o.timeoutHandle=i_(Cy.bind(null,o,s,mn,tc,Yf,n,Cn,Hr,Oa,Us,f,"Throttled",-0,0),h);break t}Cy(o,s,mn,tc,Yf,n,Cn,Hr,Oa,Us,f,null,-0,0)}}break}while(!0);Ii(e)}function Cy(e,n,s,o,h,f,g,T,C,j,F,Y,B,H){if(e.timeoutHandle=-1,Y=n.subtreeFlags,Y&8192||(Y&16785408)===16785408){Y={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:$n},vy(n,f,Y);var ot=(f&62914560)===f?Ju-nn():(f&4194048)===f?Sy-nn():0;if(ot=gb(Y,ot),ot!==null){ns=f,e.cancelPendingCommit=ot(ky.bind(null,e,n,f,s,o,h,g,T,C,F,Y,null,B,H)),js(e,f,g,!j);return}}ky(e,n,f,s,o,h,g,T,C)}function D1(e){for(var n=e;;){var s=n.tag;if((s===0||s===11||s===15)&&n.flags&16384&&(s=n.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var o=0;o<s.length;o++){var h=s[o],f=h.getSnapshot;h=h.value;try{if(!bn(f(),h))return!1}catch{return!1}}if(s=n.child,n.subtreeFlags&16384&&s!==null)s.return=n,n=s;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function js(e,n,s,o){n&=~Kf,n&=~Hr,e.suspendedLanes|=n,e.pingedLanes&=~n,o&&(e.warmLanes|=n),o=e.expirationTimes;for(var h=n;0<h;){var f=31-ge(h),g=1<<f;o[f]=-1,h&=~g}s!==0&&_r(e,s,n)}function ec(){return(Ft&6)===0?(rl(0),!1):!0}function Jf(){if(It!==null){if(Yt===0)var e=It.return;else e=It,Fi=Vr=null,mf(e),Aa=null,Bo=0,e=It;for(;e!==null;)sy(e.alternate,e),e=e.return;It=null}}function Va(e,n){var s=e.timeoutHandle;s!==-1&&(e.timeoutHandle=-1,Z1(s)),s=e.cancelPendingCommit,s!==null&&(e.cancelPendingCommit=null,s()),ns=0,Jf(),ne=e,It=s=Hi(e.current,null),Dt=n,Yt=0,Rn=null,Us=!1,Da=Kn(e,n),Qf=!1,Oa=Cn=Kf=Hr=Ls=me=0,mn=il=null,Yf=!1,(n&8)!==0&&(n|=n&32);var o=e.entangledLanes;if(o!==0)for(e=e.entanglements,o&=n;0<o;){var h=31-ge(o),f=1<<h;n|=e[h],o&=~f}return es=n,bu(),s}function Iy(e,n){At=null,G.H=Xo,n===Sa||n===xu?(n=Gg(),Yt=3):n===ef?(n=Gg(),Yt=4):Yt=n===xf?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,Rn=n,It===null&&(me=1,Gu(e,Un(n,e.current)))}function Ny(){var e=An.current;return e===null?!0:(Dt&4194048)===Dt?jn===null:(Dt&62914560)===Dt||(Dt&536870912)!==0?e===jn:!1}function xy(){var e=G.H;return G.H=Xo,e===null?Xo:e}function Dy(){var e=G.A;return G.A=N1,e}function nc(){me=4,Us||(Dt&4194048)!==Dt&&An.current!==null||(Da=!0),(Ls&134217727)===0&&(Hr&134217727)===0||ne===null||js(ne,Dt,Cn,!1)}function Wf(e,n,s){var o=Ft;Ft|=2;var h=xy(),f=Dy();(ne!==e||Dt!==n)&&(tc=null,Va(e,n)),n=!1;var g=me;t:do try{if(Yt!==0&&It!==null){var T=It,C=Rn;switch(Yt){case 8:Jf(),g=6;break t;case 3:case 2:case 9:case 6:An.current===null&&(n=!0);var j=Yt;if(Yt=0,Rn=null,ka(e,T,C,j),s&&Da){g=0;break t}break;default:j=Yt,Yt=0,Rn=null,ka(e,T,C,j)}}O1(),g=me;break}catch(F){Iy(e,F)}while(!0);return n&&e.shellSuspendCounter++,Fi=Vr=null,Ft=o,G.H=h,G.A=f,It===null&&(ne=null,Dt=0,bu()),g}function O1(){for(;It!==null;)Oy(It)}function M1(e,n){var s=Ft;Ft|=2;var o=xy(),h=Dy();ne!==e||Dt!==n?(tc=null,Wu=nn()+500,Va(e,n)):Da=Kn(e,n);t:do try{if(Yt!==0&&It!==null){n=It;var f=Rn;e:switch(Yt){case 1:Yt=0,Rn=null,ka(e,n,f,1);break;case 2:case 9:if(qg(f)){Yt=0,Rn=null,My(n);break}n=function(){Yt!==2&&Yt!==9||ne!==e||(Yt=7),Ii(e)},f.then(n,n);break t;case 3:Yt=7;break t;case 4:Yt=5;break t;case 7:qg(f)?(Yt=0,Rn=null,My(n)):(Yt=0,Rn=null,ka(e,n,f,7));break;case 5:var g=null;switch(It.tag){case 26:g=It.memoizedState;case 5:case 27:var T=It;if(g?__(g):T.stateNode.complete){Yt=0,Rn=null;var C=T.sibling;if(C!==null)It=C;else{var j=T.return;j!==null?(It=j,ic(j)):It=null}break e}}Yt=0,Rn=null,ka(e,n,f,5);break;case 6:Yt=0,Rn=null,ka(e,n,f,6);break;case 8:Jf(),me=6;break t;default:throw Error(a(462))}}V1();break}catch(F){Iy(e,F)}while(!0);return Fi=Vr=null,G.H=o,G.A=h,Ft=s,It!==null?0:(ne=null,Dt=0,bu(),me)}function V1(){for(;It!==null&&!Ih();)Oy(It)}function Oy(e){var n=ny(e.alternate,e,es);e.memoizedProps=e.pendingProps,n===null?ic(e):It=n}function My(e){var n=e,s=n.alternate;switch(n.tag){case 15:case 0:n=$p(s,n,n.pendingProps,n.type,void 0,Dt);break;case 11:n=$p(s,n,n.pendingProps,n.type.render,n.ref,Dt);break;case 5:mf(n);default:sy(s,n),n=It=Dg(n,es),n=ny(s,n,es)}e.memoizedProps=e.pendingProps,n===null?ic(e):It=n}function ka(e,n,s,o){Fi=Vr=null,mf(n),Aa=null,Bo=0;var h=n.return;try{if(b1(e,h,n,s,Dt)){me=1,Gu(e,Un(s,e.current)),It=null;return}}catch(f){if(h!==null)throw It=h,f;me=1,Gu(e,Un(s,e.current)),It=null;return}n.flags&32768?(Lt||o===1?e=!0:Da||(Dt&536870912)!==0?e=!1:(Us=e=!0,(o===2||o===9||o===3||o===6)&&(o=An.current,o!==null&&o.tag===13&&(o.flags|=16384))),Vy(n,e)):ic(n)}function ic(e){var n=e;do{if((n.flags&32768)!==0){Vy(n,Us);return}e=n.return;var s=w1(n.alternate,n,es);if(s!==null){It=s;return}if(n=n.sibling,n!==null){It=n;return}It=n=e}while(n!==null);me===0&&(me=5)}function Vy(e,n){do{var s=R1(e.alternate,e);if(s!==null){s.flags&=32767,It=s;return}if(s=e.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!n&&(e=e.sibling,e!==null)){It=e;return}It=e=s}while(e!==null);me=6,It=null}function ky(e,n,s,o,h,f,g,T,C){e.cancelPendingCommit=null;do sc();while(ke!==0);if((Ft&6)!==0)throw Error(a(327));if(n!==null){if(n===e.current)throw Error(a(177));if(f=n.lanes|n.childLanes,f|=jh,Dh(e,s,f,g,T,C),e===ne&&(It=ne=null,Dt=0),Ma=n,zs=e,ns=s,Xf=f,$f=h,Ay=o,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,P1(ps,function(){return jy(),null})):(e.callbackNode=null,e.callbackPriority=0),o=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||o){o=G.T,G.T=null,h=st.p,st.p=2,g=Ft,Ft|=4;try{C1(e,n,s)}finally{Ft=g,st.p=h,G.T=o}}ke=1,Uy(),Ly(),Py()}}function Uy(){if(ke===1){ke=0;var e=zs,n=Ma,s=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||s){s=G.T,G.T=null;var o=st.p;st.p=2;var h=Ft;Ft|=4;try{py(n,e);var f=hd,g=bg(e.containerInfo),T=f.focusedElem,C=f.selectionRange;if(g!==T&&T&&T.ownerDocument&&Tg(T.ownerDocument.documentElement,T)){if(C!==null&&kh(T)){var j=C.start,F=C.end;if(F===void 0&&(F=j),"selectionStart"in T)T.selectionStart=j,T.selectionEnd=Math.min(F,T.value.length);else{var Y=T.ownerDocument||document,B=Y&&Y.defaultView||window;if(B.getSelection){var H=B.getSelection(),ot=T.textContent.length,pt=Math.min(C.start,ot),te=C.end===void 0?pt:Math.min(C.end,ot);!H.extend&&pt>te&&(g=te,te=pt,pt=g);var k=Eg(T,pt),D=Eg(T,te);if(k&&D&&(H.rangeCount!==1||H.anchorNode!==k.node||H.anchorOffset!==k.offset||H.focusNode!==D.node||H.focusOffset!==D.offset)){var z=Y.createRange();z.setStart(k.node,k.offset),H.removeAllRanges(),pt>te?(H.addRange(z),H.extend(D.node,D.offset)):(z.setEnd(D.node,D.offset),H.addRange(z))}}}}for(Y=[],H=T;H=H.parentNode;)H.nodeType===1&&Y.push({element:H,left:H.scrollLeft,top:H.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<Y.length;T++){var K=Y[T];K.element.scrollLeft=K.left,K.element.scrollTop=K.top}}pc=!!cd,hd=cd=null}finally{Ft=h,st.p=o,G.T=s}}e.current=n,ke=2}}function Ly(){if(ke===2){ke=0;var e=zs,n=Ma,s=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||s){s=G.T,G.T=null;var o=st.p;st.p=2;var h=Ft;Ft|=4;try{hy(e,n.alternate,n)}finally{Ft=h,st.p=o,G.T=s}}ke=3}}function Py(){if(ke===4||ke===3){ke=0,Yl();var e=zs,n=Ma,s=ns,o=Ay;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?ke=5:(ke=0,Ma=zs=null,zy(e,e.pendingLanes));var h=e.pendingLanes;if(h===0&&(Ps=null),zi(s),n=n.stateNode,qe&&typeof qe.onCommitFiberRoot=="function")try{qe.onCommitFiberRoot(Qn,n,void 0,(n.current.flags&128)===128)}catch{}if(o!==null){n=G.T,h=st.p,st.p=2,G.T=null;try{for(var f=e.onRecoverableError,g=0;g<o.length;g++){var T=o[g];f(T.value,{componentStack:T.stack})}}finally{G.T=n,st.p=h}}(ns&3)!==0&&sc(),Ii(e),h=e.pendingLanes,(s&261930)!==0&&(h&42)!==0?e===Zf?sl++:(sl=0,Zf=e):sl=0,rl(0)}}function zy(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,zo(n)))}function sc(){return Uy(),Ly(),Py(),jy()}function jy(){if(ke!==5)return!1;var e=zs,n=Xf;Xf=0;var s=zi(ns),o=G.T,h=st.p;try{st.p=32>s?32:s,G.T=null,s=$f,$f=null;var f=zs,g=ns;if(ke=0,Ma=zs=null,ns=0,(Ft&6)!==0)throw Error(a(331));var T=Ft;if(Ft|=4,Ty(f.current),_y(f,f.current,g,s),Ft=T,rl(0,!1),qe&&typeof qe.onPostCommitFiberRoot=="function")try{qe.onPostCommitFiberRoot(Qn,f)}catch{}return!0}finally{st.p=h,G.T=o,zy(e,n)}}function By(e,n,s){n=Un(s,n),n=Nf(e.stateNode,n,2),e=Os(e,n,2),e!==null&&(yr(e,2),Ii(e))}function Xt(e,n,s){if(e.tag===3)By(e,e,s);else for(;n!==null;){if(n.tag===3){By(n,e,s);break}else if(n.tag===1){var o=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(Ps===null||!Ps.has(o))){e=Un(s,e),s=qp(2),o=Os(n,s,2),o!==null&&(Hp(s,o,n,e),yr(o,2),Ii(o));break}}n=n.return}}function td(e,n,s){var o=e.pingCache;if(o===null){o=e.pingCache=new x1;var h=new Set;o.set(n,h)}else h=o.get(n),h===void 0&&(h=new Set,o.set(n,h));h.has(s)||(Qf=!0,h.add(s),e=k1.bind(null,e,n,s),n.then(e,e))}function k1(e,n,s){var o=e.pingCache;o!==null&&o.delete(n),e.pingedLanes|=e.suspendedLanes&s,e.warmLanes&=~s,ne===e&&(Dt&s)===s&&(me===4||me===3&&(Dt&62914560)===Dt&&300>nn()-Ju?(Ft&2)===0&&Va(e,0):Kf|=s,Oa===Dt&&(Oa=0)),Ii(e)}function qy(e,n){n===0&&(n=tu()),e=Dr(e,n),e!==null&&(yr(e,n),Ii(e))}function U1(e){var n=e.memoizedState,s=0;n!==null&&(s=n.retryLane),qy(e,s)}function L1(e,n){var s=0;switch(e.tag){case 31:case 13:var o=e.stateNode,h=e.memoizedState;h!==null&&(s=h.retryLane);break;case 19:o=e.stateNode;break;case 22:o=e.stateNode._retryCache;break;default:throw Error(a(314))}o!==null&&o.delete(n),qy(e,s)}function P1(e,n){return Ve(e,n)}var rc=null,Ua=null,ed=!1,ac=!1,nd=!1,Bs=0;function Ii(e){e!==Ua&&e.next===null&&(Ua===null?rc=Ua=e:Ua=Ua.next=e),ac=!0,ed||(ed=!0,j1())}function rl(e,n){if(!nd&&ac){nd=!0;do for(var s=!1,o=rc;o!==null;){if(e!==0){var h=o.pendingLanes;if(h===0)var f=0;else{var g=o.suspendedLanes,T=o.pingedLanes;f=(1<<31-ge(42|e)+1)-1,f&=h&~(g&~T),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(s=!0,Qy(o,f))}else f=Dt,f=ci(o,o===ne?f:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(f&3)===0||Kn(o,f)||(s=!0,Qy(o,f));o=o.next}while(s);nd=!1}}function z1(){Hy()}function Hy(){ac=ed=!1;var e=0;Bs!==0&&$1()&&(e=Bs);for(var n=nn(),s=null,o=rc;o!==null;){var h=o.next,f=Gy(o,n);f===0?(o.next=null,s===null?rc=h:s.next=h,h===null&&(Ua=s)):(s=o,(e!==0||(f&3)!==0)&&(ac=!0)),o=h}ke!==0&&ke!==5||rl(e),Bs!==0&&(Bs=0)}function Gy(e,n){for(var s=e.suspendedLanes,o=e.pingedLanes,h=e.expirationTimes,f=e.pendingLanes&-62914561;0<f;){var g=31-ge(f),T=1<<g,C=h[g];C===-1?((T&s)===0||(T&o)!==0)&&(h[g]=xh(T,n)):C<=n&&(e.expiredLanes|=T),f&=~T}if(n=ne,s=Dt,s=ci(e,e===n?s:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o=e.callbackNode,s===0||e===n&&(Yt===2||Yt===9)||e.cancelPendingCommit!==null)return o!==null&&o!==null&&gs(o),e.callbackNode=null,e.callbackPriority=0;if((s&3)===0||Kn(e,s)){if(n=s&-s,n===e.callbackPriority)return n;switch(o!==null&&gs(o),zi(s)){case 2:case 8:s=go;break;case 32:s=ps;break;case 268435456:s=Xl;break;default:s=ps}return o=Fy.bind(null,e),s=Ve(s,o),e.callbackPriority=n,e.callbackNode=s,n}return o!==null&&o!==null&&gs(o),e.callbackPriority=2,e.callbackNode=null,2}function Fy(e,n){if(ke!==0&&ke!==5)return e.callbackNode=null,e.callbackPriority=0,null;var s=e.callbackNode;if(sc()&&e.callbackNode!==s)return null;var o=Dt;return o=ci(e,e===ne?o:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o===0?null:(Ry(e,o,n),Gy(e,nn()),e.callbackNode!=null&&e.callbackNode===s?Fy.bind(null,e):null)}function Qy(e,n){if(sc())return null;Ry(e,n,!0)}function j1(){J1(function(){(Ft&6)!==0?Ve(mo,z1):Hy()})}function id(){if(Bs===0){var e=Ta;e===0&&(e=li,li<<=1,(li&261888)===0&&(li=256)),Bs=e}return Bs}function Ky(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:aa(""+e)}function Yy(e,n){var s=n.ownerDocument.createElement("input");return s.name=n.name,s.value=n.value,e.id&&s.setAttribute("form",e.id),n.parentNode.insertBefore(s,n),e=new FormData(e),s.parentNode.removeChild(s),e}function B1(e,n,s,o,h){if(n==="submit"&&s&&s.stateNode===h){var f=Ky((h[Pe]||null).action),g=o.submitter;g&&(n=(n=g[Pe]||null)?Ky(n.formAction):g.getAttribute("formAction"),n!==null&&(f=n,g=null));var T=new Ti("action","action",null,o,h);e.push({event:T,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(Bs!==0){var C=g?Yy(h,g):new FormData(h);Sf(s,{pending:!0,data:C,method:h.method,action:f},null,C)}}else typeof f=="function"&&(T.preventDefault(),C=g?Yy(h,g):new FormData(h),Sf(s,{pending:!0,data:C,method:h.method,action:f},f,C))},currentTarget:h}]})}}for(var sd=0;sd<zh.length;sd++){var rd=zh[sd],q1=rd.toLowerCase(),H1=rd[0].toUpperCase()+rd.slice(1);ei(q1,"on"+H1)}ei(wg,"onAnimationEnd"),ei(Rg,"onAnimationIteration"),ei(Cg,"onAnimationStart"),ei("dblclick","onDoubleClick"),ei("focusin","onFocus"),ei("focusout","onBlur"),ei(r1,"onTransitionRun"),ei(a1,"onTransitionStart"),ei(o1,"onTransitionCancel"),ei(Ig,"onTransitionEnd"),yi("onMouseEnter",["mouseout","mouseover"]),yi("onMouseLeave",["mouseout","mouseover"]),yi("onPointerEnter",["pointerout","pointerover"]),yi("onPointerLeave",["pointerout","pointerover"]),pi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),pi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),pi("onBeforeInput",["compositionend","keypress","textInput","paste"]),pi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),pi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),pi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var al="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),G1=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(al));function Xy(e,n){n=(n&4)!==0;for(var s=0;s<e.length;s++){var o=e[s],h=o.event;o=o.listeners;t:{var f=void 0;if(n)for(var g=o.length-1;0<=g;g--){var T=o[g],C=T.instance,j=T.currentTarget;if(T=T.listener,C!==f&&h.isPropagationStopped())break t;f=T,h.currentTarget=j;try{f(h)}catch(F){Tu(F)}h.currentTarget=null,f=C}else for(g=0;g<o.length;g++){if(T=o[g],C=T.instance,j=T.currentTarget,T=T.listener,C!==f&&h.isPropagationStopped())break t;f=T,h.currentTarget=j;try{f(h)}catch(F){Tu(F)}h.currentTarget=null,f=C}}}}function Nt(e,n){var s=n[ea];s===void 0&&(s=n[ea]=new Set);var o=e+"__bubble";s.has(o)||($y(n,e,2,!1),s.add(o))}function ad(e,n,s){var o=0;n&&(o|=4),$y(s,e,o,n)}var oc="_reactListening"+Math.random().toString(36).slice(2);function od(e){if(!e[oc]){e[oc]=!0,_o.forEach(function(s){s!=="selectionchange"&&(G1.has(s)||ad(s,!1,e),ad(s,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[oc]||(n[oc]=!0,ad("selectionchange",!1,n))}}function $y(e,n,s,o){switch(w_(n)){case 2:var h=_b;break;case 8:h=vb;break;default:h=bd}s=h.bind(null,n,s,e),h=void 0,!Sr||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),o?h!==void 0?e.addEventListener(n,s,{capture:!0,passive:h}):e.addEventListener(n,s,!0):h!==void 0?e.addEventListener(n,s,{passive:h}):e.addEventListener(n,s,!1)}function ld(e,n,s,o,h){var f=o;if((n&1)===0&&(n&2)===0&&o!==null)t:for(;;){if(o===null)return;var g=o.tag;if(g===3||g===4){var T=o.stateNode.containerInfo;if(T===h)break;if(g===4)for(g=o.return;g!==null;){var C=g.tag;if((C===3||C===4)&&g.stateNode.containerInfo===h)return;g=g.return}for(;T!==null;){if(g=mi(T),g===null)return;if(C=g.tag,C===5||C===6||C===26||C===27){o=f=g;continue t}T=T.parentNode}}o=o.return}bs(function(){var j=f,F=On(s),Y=[];t:{var B=Ng.get(e);if(B!==void 0){var H=Ti,ot=e;switch(e){case"keypress":if(wr(s)===0)break t;case"keydown":case"keyup":H=_u;break;case"focusin":ot="focus",H=Cr;break;case"focusout":ot="blur",H=Cr;break;case"beforeblur":case"afterblur":H=Cr;break;case"click":if(s.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":H=Do;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":H=uu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":H=m;break;case wg:case Rg:case Cg:H=hu;break;case Ig:H=b;break;case"scroll":case"scrollend":H=xo;break;case"wheel":H=q;break;case"copy":case"cut":case"paste":H=fu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":H=qi;break;case"toggle":case"beforetoggle":H=St}var pt=(n&4)!==0,te=!pt&&(e==="scroll"||e==="scrollend"),k=pt?B!==null?B+"Capture":null:B;pt=[];for(var D=j,z;D!==null;){var K=D;if(z=K.stateNode,K=K.tag,K!==5&&K!==26&&K!==27||z===null||k===null||(K=Zn(D,k),K!=null&&pt.push(ol(D,K,z))),te)break;D=D.return}0<pt.length&&(B=new H(B,ot,null,s,F),Y.push({event:B,listeners:pt}))}}if((n&7)===0){t:{if(B=e==="mouseover"||e==="pointerover",H=e==="mouseout"||e==="pointerout",B&&s!==Co&&(ot=s.relatedTarget||s.fromElement)&&(mi(ot)||ot[fi]))break t;if((H||B)&&(B=F.window===F?F:(B=F.ownerDocument)?B.defaultView||B.parentWindow:window,H?(ot=s.relatedTarget||s.toElement,H=j,ot=ot?mi(ot):null,ot!==null&&(te=c(ot),pt=ot.tag,ot!==te||pt!==5&&pt!==27&&pt!==6)&&(ot=null)):(H=null,ot=j),H!==ot)){if(pt=Do,K="onMouseLeave",k="onMouseEnter",D="mouse",(e==="pointerout"||e==="pointerover")&&(pt=qi,K="onPointerLeave",k="onPointerEnter",D="pointer"),te=H==null?B:En(H),z=ot==null?B:En(ot),B=new pt(K,D+"leave",H,s,F),B.target=te,B.relatedTarget=z,K=null,mi(F)===j&&(pt=new pt(k,D+"enter",ot,s,F),pt.target=z,pt.relatedTarget=te,K=pt),te=K,H&&ot)e:{for(pt=F1,k=H,D=ot,z=0,K=k;K;K=pt(K))z++;K=0;for(var ft=D;ft;ft=pt(ft))K++;for(;0<z-K;)k=pt(k),z--;for(;0<K-z;)D=pt(D),K--;for(;z--;){if(k===D||D!==null&&k===D.alternate){pt=k;break e}k=pt(k),D=pt(D)}pt=null}else pt=null;H!==null&&Zy(Y,B,H,pt,!1),ot!==null&&te!==null&&Zy(Y,te,ot,pt,!0)}}t:{if(B=j?En(j):window,H=B.nodeName&&B.nodeName.toLowerCase(),H==="select"||H==="input"&&B.type==="file")var Bt=mg;else if(fg(B))if(gg)Bt=n1;else{Bt=t1;var lt=WT}else H=B.nodeName,!H||H.toLowerCase()!=="input"||B.type!=="checkbox"&&B.type!=="radio"?j&&ra(j.elementType)&&(Bt=mg):Bt=e1;if(Bt&&(Bt=Bt(e,j))){dg(Y,Bt,s,F);break t}lt&&lt(e,B,j),e==="focusout"&&j&&B.type==="number"&&j.memoizedProps.value!=null&&Ao(B,"number",B.value)}switch(lt=j?En(j):window,e){case"focusin":(fg(lt)||lt.contentEditable==="true")&&(da=lt,Uh=j,Uo=null);break;case"focusout":Uo=Uh=da=null;break;case"mousedown":Lh=!0;break;case"contextmenu":case"mouseup":case"dragend":Lh=!1,Sg(Y,s,F);break;case"selectionchange":if(s1)break;case"keydown":case"keyup":Sg(Y,s,F)}var wt;if(Gt)t:{switch(e){case"compositionstart":var Ot="onCompositionStart";break t;case"compositionend":Ot="onCompositionEnd";break t;case"compositionupdate":Ot="onCompositionUpdate";break t}Ot=void 0}else fa?Ir(e,s)&&(Ot="onCompositionEnd"):e==="keydown"&&s.keyCode===229&&(Ot="onCompositionStart");Ot&&(Ai&&s.locale!=="ko"&&(fa||Ot!=="onCompositionStart"?Ot==="onCompositionEnd"&&fa&&(wt=No()):(Ei=F,Io="value"in Ei?Ei.value:Ei.textContent,fa=!0)),lt=lc(j,Ot),0<lt.length&&(Ot=new Si(Ot,e,null,s,F),Y.push({event:Ot,listeners:lt}),wt?Ot.data=wt:(wt=ha(s),wt!==null&&(Ot.data=wt)))),(wt=Vn?XT(e,s):$T(e,s))&&(Ot=lc(j,"onBeforeInput"),0<Ot.length&&(lt=new Si("onBeforeInput","beforeinput",null,s,F),Y.push({event:lt,listeners:Ot}),lt.data=wt)),B1(Y,e,j,s,F)}Xy(Y,n)})}function ol(e,n,s){return{instance:e,listener:n,currentTarget:s}}function lc(e,n){for(var s=n+"Capture",o=[];e!==null;){var h=e,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=Zn(e,s),h!=null&&o.unshift(ol(e,h,f)),h=Zn(e,n),h!=null&&o.push(ol(e,h,f))),e.tag===3)return o;e=e.return}return[]}function F1(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Zy(e,n,s,o,h){for(var f=n._reactName,g=[];s!==null&&s!==o;){var T=s,C=T.alternate,j=T.stateNode;if(T=T.tag,C!==null&&C===o)break;T!==5&&T!==26&&T!==27||j===null||(C=j,h?(j=Zn(s,f),j!=null&&g.unshift(ol(s,j,C))):h||(j=Zn(s,f),j!=null&&g.push(ol(s,j,C)))),s=s.return}g.length!==0&&e.push({event:n,listeners:g})}var Q1=/\r\n?/g,K1=/\u0000|\uFFFD/g;function Jy(e){return(typeof e=="string"?e:""+e).replace(Q1,`
`).replace(K1,"")}function Wy(e,n){return n=Jy(n),Jy(e)===n}function Wt(e,n,s,o,h,f){switch(s){case"children":typeof o=="string"?n==="body"||n==="textarea"&&o===""||cn(e,o):(typeof o=="number"||typeof o=="bigint")&&n!=="body"&&cn(e,""+o);break;case"className":Tn(e,"class",o);break;case"tabIndex":Tn(e,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":Tn(e,s,o);break;case"style":Ro(e,o,f);break;case"data":if(n!=="object"){Tn(e,"data",o);break}case"src":case"href":if(o===""&&(n!=="a"||s!=="href")){e.removeAttribute(s);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(s);break}o=aa(""+o),e.setAttribute(s,o);break;case"action":case"formAction":if(typeof o=="function"){e.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(s==="formAction"?(n!=="input"&&Wt(e,n,"name",h.name,h,null),Wt(e,n,"formEncType",h.formEncType,h,null),Wt(e,n,"formMethod",h.formMethod,h,null),Wt(e,n,"formTarget",h.formTarget,h,null)):(Wt(e,n,"encType",h.encType,h,null),Wt(e,n,"method",h.method,h,null),Wt(e,n,"target",h.target,h,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(s);break}o=aa(""+o),e.setAttribute(s,o);break;case"onClick":o!=null&&(e.onclick=$n);break;case"onScroll":o!=null&&Nt("scroll",e);break;case"onScrollEnd":o!=null&&Nt("scrollend",e);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(a(61));if(s=o.__html,s!=null){if(h.children!=null)throw Error(a(60));e.innerHTML=s}}break;case"multiple":e.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":e.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){e.removeAttribute("xlink:href");break}s=aa(""+o),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(s,""+o):e.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(s,""):e.removeAttribute(s);break;case"capture":case"download":o===!0?e.setAttribute(s,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(s,o):e.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?e.setAttribute(s,o):e.removeAttribute(s);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?e.removeAttribute(s):e.setAttribute(s,o);break;case"popover":Nt("beforetoggle",e),Nt("toggle",e),ia(e,"popover",o);break;case"xlinkActuate":Ae(e,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":Ae(e,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":Ae(e,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":Ae(e,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":Ae(e,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":Ae(e,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":Ae(e,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":Ae(e,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":Ae(e,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":ia(e,"is",o);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=lu.get(s)||s,ia(e,s,o))}}function ud(e,n,s,o,h,f){switch(s){case"style":Ro(e,o,f);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(a(61));if(s=o.__html,s!=null){if(h.children!=null)throw Error(a(60));e.innerHTML=s}}break;case"children":typeof o=="string"?cn(e,o):(typeof o=="number"||typeof o=="bigint")&&cn(e,""+o);break;case"onScroll":o!=null&&Nt("scroll",e);break;case"onScrollEnd":o!=null&&Nt("scrollend",e);break;case"onClick":o!=null&&(e.onclick=$n);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!vo.hasOwnProperty(s))t:{if(s[0]==="o"&&s[1]==="n"&&(h=s.endsWith("Capture"),n=s.slice(2,h?s.length-7:void 0),f=e[Pe]||null,f=f!=null?f[s]:null,typeof f=="function"&&e.removeEventListener(n,f,h),typeof o=="function")){typeof f!="function"&&f!==null&&(s in e?e[s]=null:e.hasAttribute(s)&&e.removeAttribute(s)),e.addEventListener(n,o,h);break t}s in e?e[s]=o:o===!0?e.setAttribute(s,""):ia(e,s,o)}}}function Ke(e,n,s){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Nt("error",e),Nt("load",e);var o=!1,h=!1,f;for(f in s)if(s.hasOwnProperty(f)){var g=s[f];if(g!=null)switch(f){case"src":o=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:Wt(e,n,f,g,s,null)}}h&&Wt(e,n,"srcSet",s.srcSet,s,null),o&&Wt(e,n,"src",s.src,s,null);return;case"input":Nt("invalid",e);var T=f=g=h=null,C=null,j=null;for(o in s)if(s.hasOwnProperty(o)){var F=s[o];if(F!=null)switch(o){case"name":h=F;break;case"type":g=F;break;case"checked":C=F;break;case"defaultChecked":j=F;break;case"value":f=F;break;case"defaultValue":T=F;break;case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(a(137,n));break;default:Wt(e,n,o,F,s,null)}}ru(e,f,T,C,j,g,h,!1);return;case"select":Nt("invalid",e),o=g=f=null;for(h in s)if(s.hasOwnProperty(h)&&(T=s[h],T!=null))switch(h){case"value":f=T;break;case"defaultValue":g=T;break;case"multiple":o=T;default:Wt(e,n,h,T,s,null)}n=f,s=g,e.multiple=!!o,n!=null?_s(e,!!o,n,!1):s!=null&&_s(e,!!o,s,!0);return;case"textarea":Nt("invalid",e),f=h=o=null;for(g in s)if(s.hasOwnProperty(g)&&(T=s[g],T!=null))switch(g){case"value":o=T;break;case"defaultValue":h=T;break;case"children":f=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(a(91));break;default:Wt(e,n,g,T,s,null)}vs(e,o,h,f);return;case"option":for(C in s)s.hasOwnProperty(C)&&(o=s[C],o!=null)&&(C==="selected"?e.selected=o&&typeof o!="function"&&typeof o!="symbol":Wt(e,n,C,o,s,null));return;case"dialog":Nt("beforetoggle",e),Nt("toggle",e),Nt("cancel",e),Nt("close",e);break;case"iframe":case"object":Nt("load",e);break;case"video":case"audio":for(o=0;o<al.length;o++)Nt(al[o],e);break;case"image":Nt("error",e),Nt("load",e);break;case"details":Nt("toggle",e);break;case"embed":case"source":case"link":Nt("error",e),Nt("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(j in s)if(s.hasOwnProperty(j)&&(o=s[j],o!=null))switch(j){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:Wt(e,n,j,o,s,null)}return;default:if(ra(n)){for(F in s)s.hasOwnProperty(F)&&(o=s[F],o!==void 0&&ud(e,n,F,o,s,void 0));return}}for(T in s)s.hasOwnProperty(T)&&(o=s[T],o!=null&&Wt(e,n,T,o,s,null))}function Y1(e,n,s,o){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,g=null,T=null,C=null,j=null,F=null;for(H in s){var Y=s[H];if(s.hasOwnProperty(H)&&Y!=null)switch(H){case"checked":break;case"value":break;case"defaultValue":C=Y;default:o.hasOwnProperty(H)||Wt(e,n,H,null,o,Y)}}for(var B in o){var H=o[B];if(Y=s[B],o.hasOwnProperty(B)&&(H!=null||Y!=null))switch(B){case"type":f=H;break;case"name":h=H;break;case"checked":j=H;break;case"defaultChecked":F=H;break;case"value":g=H;break;case"defaultValue":T=H;break;case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(a(137,n));break;default:H!==Y&&Wt(e,n,B,H,o,Y)}}sa(e,g,T,C,j,F,f,h);return;case"select":H=g=T=B=null;for(f in s)if(C=s[f],s.hasOwnProperty(f)&&C!=null)switch(f){case"value":break;case"multiple":H=C;default:o.hasOwnProperty(f)||Wt(e,n,f,null,o,C)}for(h in o)if(f=o[h],C=s[h],o.hasOwnProperty(h)&&(f!=null||C!=null))switch(h){case"value":B=f;break;case"defaultValue":T=f;break;case"multiple":g=f;default:f!==C&&Wt(e,n,h,f,o,C)}n=T,s=g,o=H,B!=null?_s(e,!!s,B,!1):!!o!=!!s&&(n!=null?_s(e,!!s,n,!0):_s(e,!!s,s?[]:"",!1));return;case"textarea":H=B=null;for(T in s)if(h=s[T],s.hasOwnProperty(T)&&h!=null&&!o.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:Wt(e,n,T,null,o,h)}for(g in o)if(h=o[g],f=s[g],o.hasOwnProperty(g)&&(h!=null||f!=null))switch(g){case"value":B=h;break;case"defaultValue":H=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(a(91));break;default:h!==f&&Wt(e,n,g,h,o,f)}au(e,B,H);return;case"option":for(var ot in s)B=s[ot],s.hasOwnProperty(ot)&&B!=null&&!o.hasOwnProperty(ot)&&(ot==="selected"?e.selected=!1:Wt(e,n,ot,null,o,B));for(C in o)B=o[C],H=s[C],o.hasOwnProperty(C)&&B!==H&&(B!=null||H!=null)&&(C==="selected"?e.selected=B&&typeof B!="function"&&typeof B!="symbol":Wt(e,n,C,B,o,H));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var pt in s)B=s[pt],s.hasOwnProperty(pt)&&B!=null&&!o.hasOwnProperty(pt)&&Wt(e,n,pt,null,o,B);for(j in o)if(B=o[j],H=s[j],o.hasOwnProperty(j)&&B!==H&&(B!=null||H!=null))switch(j){case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(a(137,n));break;default:Wt(e,n,j,B,o,H)}return;default:if(ra(n)){for(var te in s)B=s[te],s.hasOwnProperty(te)&&B!==void 0&&!o.hasOwnProperty(te)&&ud(e,n,te,void 0,o,B);for(F in o)B=o[F],H=s[F],!o.hasOwnProperty(F)||B===H||B===void 0&&H===void 0||ud(e,n,F,B,o,H);return}}for(var k in s)B=s[k],s.hasOwnProperty(k)&&B!=null&&!o.hasOwnProperty(k)&&Wt(e,n,k,null,o,B);for(Y in o)B=o[Y],H=s[Y],!o.hasOwnProperty(Y)||B===H||B==null&&H==null||Wt(e,n,Y,B,o,H)}function t_(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function X1(){if(typeof performance.getEntriesByType=="function"){for(var e=0,n=0,s=performance.getEntriesByType("resource"),o=0;o<s.length;o++){var h=s[o],f=h.transferSize,g=h.initiatorType,T=h.duration;if(f&&T&&t_(g)){for(g=0,T=h.responseEnd,o+=1;o<s.length;o++){var C=s[o],j=C.startTime;if(j>T)break;var F=C.transferSize,Y=C.initiatorType;F&&t_(Y)&&(C=C.responseEnd,g+=F*(C<T?1:(T-j)/(C-j)))}if(--o,n+=8*(f+g)/(h.duration/1e3),e++,10<e)break}}if(0<e)return n/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var cd=null,hd=null;function uc(e){return e.nodeType===9?e:e.ownerDocument}function e_(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function n_(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function fd(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var dd=null;function $1(){var e=window.event;return e&&e.type==="popstate"?e===dd?!1:(dd=e,!0):(dd=null,!1)}var i_=typeof setTimeout=="function"?setTimeout:void 0,Z1=typeof clearTimeout=="function"?clearTimeout:void 0,s_=typeof Promise=="function"?Promise:void 0,J1=typeof queueMicrotask=="function"?queueMicrotask:typeof s_<"u"?function(e){return s_.resolve(null).then(e).catch(W1)}:i_;function W1(e){setTimeout(function(){throw e})}function qs(e){return e==="head"}function r_(e,n){var s=n,o=0;do{var h=s.nextSibling;if(e.removeChild(s),h&&h.nodeType===8)if(s=h.data,s==="/$"||s==="/&"){if(o===0){e.removeChild(h),ja(n);return}o--}else if(s==="$"||s==="$?"||s==="$~"||s==="$!"||s==="&")o++;else if(s==="html")ll(e.ownerDocument.documentElement);else if(s==="head"){s=e.ownerDocument.head,ll(s);for(var f=s.firstChild;f;){var g=f.nextSibling,T=f.nodeName;f[di]||T==="SCRIPT"||T==="STYLE"||T==="LINK"&&f.rel.toLowerCase()==="stylesheet"||s.removeChild(f),f=g}}else s==="body"&&ll(e.ownerDocument.body);s=h}while(s);ja(n)}function a_(e,n){var s=e;e=0;do{var o=s.nextSibling;if(s.nodeType===1?n?(s._stashedDisplay=s.style.display,s.style.display="none"):(s.style.display=s._stashedDisplay||"",s.getAttribute("style")===""&&s.removeAttribute("style")):s.nodeType===3&&(n?(s._stashedText=s.nodeValue,s.nodeValue=""):s.nodeValue=s._stashedText||""),o&&o.nodeType===8)if(s=o.data,s==="/$"){if(e===0)break;e--}else s!=="$"&&s!=="$?"&&s!=="$~"&&s!=="$!"||e++;s=o}while(s)}function md(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var s=n;switch(n=n.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":md(s),na(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}e.removeChild(s)}}function tb(e,n,s,o){for(;e.nodeType===1;){var h=s;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!o&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(o){if(!e[di])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(f=e.getAttribute("rel"),f==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(f!==h.rel||e.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||e.getAttribute("title")!==(h.title==null?null:h.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(f=e.getAttribute("src"),(f!==(h.src==null?null:h.src)||e.getAttribute("type")!==(h.type==null?null:h.type)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&e.getAttribute("name")===f)return e}else return e;if(e=Bn(e.nextSibling),e===null)break}return null}function eb(e,n,s){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!s||(e=Bn(e.nextSibling),e===null))return null;return e}function o_(e,n){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=Bn(e.nextSibling),e===null))return null;return e}function gd(e){return e.data==="$?"||e.data==="$~"}function pd(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function nb(e,n){var s=e.ownerDocument;if(e.data==="$~")e._reactRetry=n;else if(e.data!=="$?"||s.readyState!=="loading")n();else{var o=function(){n(),s.removeEventListener("DOMContentLoaded",o)};s.addEventListener("DOMContentLoaded",o),e._reactRetry=o}}function Bn(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return e}var yd=null;function l_(e){e=e.nextSibling;for(var n=0;e;){if(e.nodeType===8){var s=e.data;if(s==="/$"||s==="/&"){if(n===0)return Bn(e.nextSibling);n--}else s!=="$"&&s!=="$!"&&s!=="$?"&&s!=="$~"&&s!=="&"||n++}e=e.nextSibling}return null}function u_(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var s=e.data;if(s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"){if(n===0)return e;n--}else s!=="/$"&&s!=="/&"||n++}e=e.previousSibling}return null}function c_(e,n,s){switch(n=uc(s),e){case"html":if(e=n.documentElement,!e)throw Error(a(452));return e;case"head":if(e=n.head,!e)throw Error(a(453));return e;case"body":if(e=n.body,!e)throw Error(a(454));return e;default:throw Error(a(451))}}function ll(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);na(e)}var qn=new Map,h_=new Set;function cc(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var is=st.d;st.d={f:ib,r:sb,D:rb,C:ab,L:ob,m:lb,X:cb,S:ub,M:hb};function ib(){var e=is.f(),n=ec();return e||n}function sb(e){var n=Dn(e);n!==null&&n.tag===5&&n.type==="form"?Ip(n):is.r(e)}var La=typeof document>"u"?null:document;function f_(e,n,s){var o=La;if(o&&typeof n=="string"&&n){var h=un(n);h='link[rel="'+e+'"][href="'+h+'"]',typeof s=="string"&&(h+='[crossorigin="'+s+'"]'),h_.has(h)||(h_.add(h),e={rel:e,crossOrigin:s,href:n},o.querySelector(h)===null&&(n=o.createElement("link"),Ke(n,"link",e),Se(n),o.head.appendChild(n)))}}function rb(e){is.D(e),f_("dns-prefetch",e,null)}function ab(e,n){is.C(e,n),f_("preconnect",e,n)}function ob(e,n,s){is.L(e,n,s);var o=La;if(o&&e&&n){var h='link[rel="preload"][as="'+un(n)+'"]';n==="image"&&s&&s.imageSrcSet?(h+='[imagesrcset="'+un(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(h+='[imagesizes="'+un(s.imageSizes)+'"]')):h+='[href="'+un(e)+'"]';var f=h;switch(n){case"style":f=Pa(e);break;case"script":f=za(e)}qn.has(f)||(e=w({rel:"preload",href:n==="image"&&s&&s.imageSrcSet?void 0:e,as:n},s),qn.set(f,e),o.querySelector(h)!==null||n==="style"&&o.querySelector(ul(f))||n==="script"&&o.querySelector(cl(f))||(n=o.createElement("link"),Ke(n,"link",e),Se(n),o.head.appendChild(n)))}}function lb(e,n){is.m(e,n);var s=La;if(s&&e){var o=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+un(o)+'"][href="'+un(e)+'"]',f=h;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=za(e)}if(!qn.has(f)&&(e=w({rel:"modulepreload",href:e},n),qn.set(f,e),s.querySelector(h)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(cl(f)))return}o=s.createElement("link"),Ke(o,"link",e),Se(o),s.head.appendChild(o)}}}function ub(e,n,s){is.S(e,n,s);var o=La;if(o&&e){var h=gi(o).hoistableStyles,f=Pa(e);n=n||"default";var g=h.get(f);if(!g){var T={loading:0,preload:null};if(g=o.querySelector(ul(f)))T.loading=5;else{e=w({rel:"stylesheet",href:e,"data-precedence":n},s),(s=qn.get(f))&&_d(e,s);var C=g=o.createElement("link");Se(C),Ke(C,"link",e),C._p=new Promise(function(j,F){C.onload=j,C.onerror=F}),C.addEventListener("load",function(){T.loading|=1}),C.addEventListener("error",function(){T.loading|=2}),T.loading|=4,hc(g,n,o)}g={type:"stylesheet",instance:g,count:1,state:T},h.set(f,g)}}}function cb(e,n){is.X(e,n);var s=La;if(s&&e){var o=gi(s).hoistableScripts,h=za(e),f=o.get(h);f||(f=s.querySelector(cl(h)),f||(e=w({src:e,async:!0},n),(n=qn.get(h))&&vd(e,n),f=s.createElement("script"),Se(f),Ke(f,"link",e),s.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function hb(e,n){is.M(e,n);var s=La;if(s&&e){var o=gi(s).hoistableScripts,h=za(e),f=o.get(h);f||(f=s.querySelector(cl(h)),f||(e=w({src:e,async:!0,type:"module"},n),(n=qn.get(h))&&vd(e,n),f=s.createElement("script"),Se(f),Ke(f,"link",e),s.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function d_(e,n,s,o){var h=(h=at.current)?cc(h):null;if(!h)throw Error(a(446));switch(e){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(n=Pa(s.href),s=gi(h).hoistableStyles,o=s.get(n),o||(o={type:"style",instance:null,count:0,state:null},s.set(n,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){e=Pa(s.href);var f=gi(h).hoistableStyles,g=f.get(e);if(g||(h=h.ownerDocument||h,g={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(e,g),(f=h.querySelector(ul(e)))&&!f._p&&(g.instance=f,g.state.loading=5),qn.has(e)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},qn.set(e,s),f||fb(h,e,s,g.state))),n&&o===null)throw Error(a(528,""));return g}if(n&&o!==null)throw Error(a(529,""));return null;case"script":return n=s.async,s=s.src,typeof s=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=za(s),s=gi(h).hoistableScripts,o=s.get(n),o||(o={type:"script",instance:null,count:0,state:null},s.set(n,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,e))}}function Pa(e){return'href="'+un(e)+'"'}function ul(e){return'link[rel="stylesheet"]['+e+"]"}function m_(e){return w({},e,{"data-precedence":e.precedence,precedence:null})}function fb(e,n,s,o){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?o.loading=1:(n=e.createElement("link"),o.preload=n,n.addEventListener("load",function(){return o.loading|=1}),n.addEventListener("error",function(){return o.loading|=2}),Ke(n,"link",s),Se(n),e.head.appendChild(n))}function za(e){return'[src="'+un(e)+'"]'}function cl(e){return"script[async]"+e}function g_(e,n,s){if(n.count++,n.instance===null)switch(n.type){case"style":var o=e.querySelector('style[data-href~="'+un(s.href)+'"]');if(o)return n.instance=o,Se(o),o;var h=w({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return o=(e.ownerDocument||e).createElement("style"),Se(o),Ke(o,"style",h),hc(o,s.precedence,e),n.instance=o;case"stylesheet":h=Pa(s.href);var f=e.querySelector(ul(h));if(f)return n.state.loading|=4,n.instance=f,Se(f),f;o=m_(s),(h=qn.get(h))&&_d(o,h),f=(e.ownerDocument||e).createElement("link"),Se(f);var g=f;return g._p=new Promise(function(T,C){g.onload=T,g.onerror=C}),Ke(f,"link",o),n.state.loading|=4,hc(f,s.precedence,e),n.instance=f;case"script":return f=za(s.src),(h=e.querySelector(cl(f)))?(n.instance=h,Se(h),h):(o=s,(h=qn.get(f))&&(o=w({},s),vd(o,h)),e=e.ownerDocument||e,h=e.createElement("script"),Se(h),Ke(h,"link",o),e.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(a(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(o=n.instance,n.state.loading|=4,hc(o,s.precedence,e));return n.instance}function hc(e,n,s){for(var o=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=o.length?o[o.length-1]:null,f=h,g=0;g<o.length;g++){var T=o[g];if(T.dataset.precedence===n)f=T;else if(f!==h)break}f?f.parentNode.insertBefore(e,f.nextSibling):(n=s.nodeType===9?s.head:s,n.insertBefore(e,n.firstChild))}function _d(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function vd(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var fc=null;function p_(e,n,s){if(fc===null){var o=new Map,h=fc=new Map;h.set(s,o)}else h=fc,o=h.get(s),o||(o=new Map,h.set(s,o));if(o.has(e))return o;for(o.set(e,null),s=s.getElementsByTagName(e),h=0;h<s.length;h++){var f=s[h];if(!(f[di]||f[be]||e==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var g=f.getAttribute(n)||"";g=e+g;var T=o.get(g);T?T.push(f):o.set(g,[f])}}return o}function y_(e,n,s){e=e.ownerDocument||e,e.head.insertBefore(s,n==="title"?e.querySelector("head > title"):null)}function db(e,n,s){if(s===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;return n.rel==="stylesheet"?(e=n.disabled,typeof n.precedence=="string"&&e==null):!0;case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function __(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function mb(e,n,s,o){if(s.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var h=Pa(o.href),f=n.querySelector(ul(h));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(e.count++,e=dc.bind(e),n.then(e,e)),s.state.loading|=4,s.instance=f,Se(f);return}f=n.ownerDocument||n,o=m_(o),(h=qn.get(h))&&_d(o,h),f=f.createElement("link"),Se(f);var g=f;g._p=new Promise(function(T,C){g.onload=T,g.onerror=C}),Ke(f,"link",o),s.instance=f}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(s,n),(n=s.state.preload)&&(s.state.loading&3)===0&&(e.count++,s=dc.bind(e),n.addEventListener("load",s),n.addEventListener("error",s))}}var Ed=0;function gb(e,n){return e.stylesheets&&e.count===0&&gc(e,e.stylesheets),0<e.count||0<e.imgCount?function(s){var o=setTimeout(function(){if(e.stylesheets&&gc(e,e.stylesheets),e.unsuspend){var f=e.unsuspend;e.unsuspend=null,f()}},6e4+n);0<e.imgBytes&&Ed===0&&(Ed=62500*X1());var h=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&gc(e,e.stylesheets),e.unsuspend)){var f=e.unsuspend;e.unsuspend=null,f()}},(e.imgBytes>Ed?50:800)+n);return e.unsuspend=s,function(){e.unsuspend=null,clearTimeout(o),clearTimeout(h)}}:null}function dc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)gc(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var mc=null;function gc(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,mc=new Map,n.forEach(pb,e),mc=null,dc.call(e))}function pb(e,n){if(!(n.state.loading&4)){var s=mc.get(e);if(s)var o=s.get(null);else{s=new Map,mc.set(e,s);for(var h=e.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var g=h[f];(g.nodeName==="LINK"||g.getAttribute("media")!=="not all")&&(s.set(g.dataset.precedence,g),o=g)}o&&s.set(null,o)}h=n.instance,g=h.getAttribute("data-precedence"),f=s.get(g)||o,f===o&&s.set(null,h),s.set(g,h),this.count++,o=dc.bind(this),h.addEventListener("load",o),h.addEventListener("error",o),f?f.parentNode.insertBefore(h,f.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(h,e.firstChild)),n.state.loading|=4}}var hl={$$typeof:mt,Provider:null,Consumer:null,_currentValue:ht,_currentValue2:ht,_threadCount:0};function yb(e,n,s,o,h,f,g,T,C){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=hi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=hi(0),this.hiddenUpdates=hi(null),this.identifierPrefix=o,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=g,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=C,this.incompleteTransitions=new Map}function v_(e,n,s,o,h,f,g,T,C,j,F,Y){return e=new yb(e,n,s,g,C,j,F,Y,T),n=1,f===!0&&(n|=24),f=Sn(3,null,null,n),e.current=f,f.stateNode=e,n=Jh(),n.refCount++,e.pooledCache=n,n.refCount++,f.memoizedState={element:o,isDehydrated:s,cache:n},nf(f),e}function E_(e){return e?(e=pa,e):pa}function T_(e,n,s,o,h,f){h=E_(h),o.context===null?o.context=h:o.pendingContext=h,o=Ds(n),o.payload={element:s},f=f===void 0?null:f,f!==null&&(o.callback=f),s=Os(e,o,n),s!==null&&(gn(s,e,n),Ho(s,e,n))}function b_(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var s=e.retryLane;e.retryLane=s!==0&&s<n?s:n}}function Td(e,n){b_(e,n),(e=e.alternate)&&b_(e,n)}function S_(e){if(e.tag===13||e.tag===31){var n=Dr(e,67108864);n!==null&&gn(n,e,67108864),Td(e,67108864)}}function A_(e){if(e.tag===13||e.tag===31){var n=In();n=vr(n);var s=Dr(e,n);s!==null&&gn(s,e,n),Td(e,n)}}var pc=!0;function _b(e,n,s,o){var h=G.T;G.T=null;var f=st.p;try{st.p=2,bd(e,n,s,o)}finally{st.p=f,G.T=h}}function vb(e,n,s,o){var h=G.T;G.T=null;var f=st.p;try{st.p=8,bd(e,n,s,o)}finally{st.p=f,G.T=h}}function bd(e,n,s,o){if(pc){var h=Sd(o);if(h===null)ld(e,n,o,yc,s),R_(e,o);else if(Tb(h,e,n,s,o))o.stopPropagation();else if(R_(e,o),n&4&&-1<Eb.indexOf(e)){for(;h!==null;){var f=Dn(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var g=ui(f.pendingLanes);if(g!==0){var T=f;for(T.pendingLanes|=2,T.entangledLanes|=2;g;){var C=1<<31-ge(g);T.entanglements[1]|=C,g&=~C}Ii(f),(Ft&6)===0&&(Wu=nn()+500,rl(0))}}break;case 31:case 13:T=Dr(f,2),T!==null&&gn(T,f,2),ec(),Td(f,2)}if(f=Sd(o),f===null&&ld(e,n,o,yc,s),f===h)break;h=f}h!==null&&o.stopPropagation()}else ld(e,n,o,null,s)}}function Sd(e){return e=On(e),Ad(e)}var yc=null;function Ad(e){if(yc=null,e=mi(e),e!==null){var n=c(e);if(n===null)e=null;else{var s=n.tag;if(s===13){if(e=d(n),e!==null)return e;e=null}else if(s===31){if(e=p(n),e!==null)return e;e=null}else if(s===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return yc=e,null}function w_(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(gr()){case mo:return 2;case go:return 8;case ps:case Nh:return 32;case Xl:return 268435456;default:return 32}default:return 32}}var wd=!1,Hs=null,Gs=null,Fs=null,fl=new Map,dl=new Map,Qs=[],Eb="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function R_(e,n){switch(e){case"focusin":case"focusout":Hs=null;break;case"dragenter":case"dragleave":Gs=null;break;case"mouseover":case"mouseout":Fs=null;break;case"pointerover":case"pointerout":fl.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":dl.delete(n.pointerId)}}function ml(e,n,s,o,h,f){return e===null||e.nativeEvent!==f?(e={blockedOn:n,domEventName:s,eventSystemFlags:o,nativeEvent:f,targetContainers:[h]},n!==null&&(n=Dn(n),n!==null&&S_(n)),e):(e.eventSystemFlags|=o,n=e.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),e)}function Tb(e,n,s,o,h){switch(n){case"focusin":return Hs=ml(Hs,e,n,s,o,h),!0;case"dragenter":return Gs=ml(Gs,e,n,s,o,h),!0;case"mouseover":return Fs=ml(Fs,e,n,s,o,h),!0;case"pointerover":var f=h.pointerId;return fl.set(f,ml(fl.get(f)||null,e,n,s,o,h)),!0;case"gotpointercapture":return f=h.pointerId,dl.set(f,ml(dl.get(f)||null,e,n,s,o,h)),!0}return!1}function C_(e){var n=mi(e.target);if(n!==null){var s=c(n);if(s!==null){if(n=s.tag,n===13){if(n=d(s),n!==null){e.blockedOn=n,Yn(e.priority,function(){A_(s)});return}}else if(n===31){if(n=p(s),n!==null){e.blockedOn=n,Yn(e.priority,function(){A_(s)});return}}else if(n===3&&s.stateNode.current.memoizedState.isDehydrated){e.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}e.blockedOn=null}function _c(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var s=Sd(e.nativeEvent);if(s===null){s=e.nativeEvent;var o=new s.constructor(s.type,s);Co=o,s.target.dispatchEvent(o),Co=null}else return n=Dn(s),n!==null&&S_(n),e.blockedOn=s,!1;n.shift()}return!0}function I_(e,n,s){_c(e)&&s.delete(n)}function bb(){wd=!1,Hs!==null&&_c(Hs)&&(Hs=null),Gs!==null&&_c(Gs)&&(Gs=null),Fs!==null&&_c(Fs)&&(Fs=null),fl.forEach(I_),dl.forEach(I_)}function vc(e,n){e.blockedOn===n&&(e.blockedOn=null,wd||(wd=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,bb)))}var Ec=null;function N_(e){Ec!==e&&(Ec=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Ec===e&&(Ec=null);for(var n=0;n<e.length;n+=3){var s=e[n],o=e[n+1],h=e[n+2];if(typeof o!="function"){if(Ad(o||s)===null)continue;break}var f=Dn(s);f!==null&&(e.splice(n,3),n-=3,Sf(f,{pending:!0,data:h,method:s.method,action:o},o,h))}}))}function ja(e){function n(C){return vc(C,e)}Hs!==null&&vc(Hs,e),Gs!==null&&vc(Gs,e),Fs!==null&&vc(Fs,e),fl.forEach(n),dl.forEach(n);for(var s=0;s<Qs.length;s++){var o=Qs[s];o.blockedOn===e&&(o.blockedOn=null)}for(;0<Qs.length&&(s=Qs[0],s.blockedOn===null);)C_(s),s.blockedOn===null&&Qs.shift();if(s=(e.ownerDocument||e).$$reactFormReplay,s!=null)for(o=0;o<s.length;o+=3){var h=s[o],f=s[o+1],g=h[Pe]||null;if(typeof f=="function")g||N_(s);else if(g){var T=null;if(f&&f.hasAttribute("formAction")){if(h=f,g=f[Pe]||null)T=g.formAction;else if(Ad(h)!==null)continue}else T=g.action;typeof T=="function"?s[o+1]=T:(s.splice(o,3),o-=3),N_(s)}}}function x_(){function e(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(g){return h=g})},focusReset:"manual",scroll:"manual"})}function n(){h!==null&&(h(),h=null),o||setTimeout(s,20)}function s(){if(!o&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var o=!1,h=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(s,100),function(){o=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),h!==null&&(h(),h=null)}}}function Rd(e){this._internalRoot=e}Tc.prototype.render=Rd.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(a(409));var s=n.current,o=In();T_(s,o,e,n,null,null)},Tc.prototype.unmount=Rd.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;T_(e.current,2,null,e,null,null),ec(),n[fi]=null}};function Tc(e){this._internalRoot=e}Tc.prototype.unstable_scheduleHydration=function(e){if(e){var n=eu();e={blockedOn:null,target:e,priority:n};for(var s=0;s<Qs.length&&n!==0&&n<Qs[s].priority;s++);Qs.splice(s,0,e),s===0&&C_(e)}};var D_=t.version;if(D_!=="19.2.3")throw Error(a(527,D_,"19.2.3"));st.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(a(188)):(e=Object.keys(e).join(","),Error(a(268,e)));return e=y(n),e=e!==null?E(e):null,e=e===null?null:e.stateNode,e};var Sb={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:G,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var bc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!bc.isDisabled&&bc.supportsFiber)try{Qn=bc.inject(Sb),qe=bc}catch{}}return pl.createRoot=function(e,n){if(!l(e))throw Error(a(299));var s=!1,o="",h=Pp,f=zp,g=jp;return n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(g=n.onRecoverableError)),n=v_(e,1,!1,null,null,s,o,null,h,f,g,x_),e[fi]=n.current,od(e),new Rd(n)},pl.hydrateRoot=function(e,n,s){if(!l(e))throw Error(a(299));var o=!1,h="",f=Pp,g=zp,T=jp,C=null;return s!=null&&(s.unstable_strictMode===!0&&(o=!0),s.identifierPrefix!==void 0&&(h=s.identifierPrefix),s.onUncaughtError!==void 0&&(f=s.onUncaughtError),s.onCaughtError!==void 0&&(g=s.onCaughtError),s.onRecoverableError!==void 0&&(T=s.onRecoverableError),s.formState!==void 0&&(C=s.formState)),n=v_(e,1,!0,n,s??null,o,h,C,f,g,T,x_),n.context=E_(null),s=n.current,o=In(),o=vr(o),h=Ds(o),h.callback=null,Os(s,h,o),s=o,n.current.lanes=s,yr(n,s),Ii(n),e[fi]=n.current,od(e),new Tc(n)},pl.version="19.2.3",pl}var B_;function Mb(){if(B_)return Nd.exports;B_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),Nd.exports=Ob(),Nd.exports}var Vb=Mb();const kb=()=>{};var q_={};const Sv=function(r){const t=[];let i=0;for(let a=0;a<r.length;a++){let l=r.charCodeAt(a);l<128?t[i++]=l:l<2048?(t[i++]=l>>6|192,t[i++]=l&63|128):(l&64512)===55296&&a+1<r.length&&(r.charCodeAt(a+1)&64512)===56320?(l=65536+((l&1023)<<10)+(r.charCodeAt(++a)&1023),t[i++]=l>>18|240,t[i++]=l>>12&63|128,t[i++]=l>>6&63|128,t[i++]=l&63|128):(t[i++]=l>>12|224,t[i++]=l>>6&63|128,t[i++]=l&63|128)}return t},Ub=function(r){const t=[];let i=0,a=0;for(;i<r.length;){const l=r[i++];if(l<128)t[a++]=String.fromCharCode(l);else if(l>191&&l<224){const c=r[i++];t[a++]=String.fromCharCode((l&31)<<6|c&63)}else if(l>239&&l<365){const c=r[i++],d=r[i++],p=r[i++],_=((l&7)<<18|(c&63)<<12|(d&63)<<6|p&63)-65536;t[a++]=String.fromCharCode(55296+(_>>10)),t[a++]=String.fromCharCode(56320+(_&1023))}else{const c=r[i++],d=r[i++];t[a++]=String.fromCharCode((l&15)<<12|(c&63)<<6|d&63)}}return t.join("")},Av={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,t){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let l=0;l<r.length;l+=3){const c=r[l],d=l+1<r.length,p=d?r[l+1]:0,_=l+2<r.length,y=_?r[l+2]:0,E=c>>2,w=(c&3)<<4|p>>4;let M=(p&15)<<2|y>>6,Q=y&63;_||(Q=64,d||(M=64)),a.push(i[E],i[w],i[M],i[Q])}return a.join("")},encodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(r):this.encodeByteArray(Sv(r),t)},decodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(r):Ub(this.decodeStringToByteArray(r,t))},decodeStringToByteArray(r,t){this.init_();const i=t?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let l=0;l<r.length;){const c=i[r.charAt(l++)],p=l<r.length?i[r.charAt(l)]:0;++l;const y=l<r.length?i[r.charAt(l)]:64;++l;const w=l<r.length?i[r.charAt(l)]:64;if(++l,c==null||p==null||y==null||w==null)throw new Lb;const M=c<<2|p>>4;if(a.push(M),y!==64){const Q=p<<4&240|y>>2;if(a.push(Q),w!==64){const tt=y<<6&192|w;a.push(tt)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class Lb extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Pb=function(r){const t=Sv(r);return Av.encodeByteArray(t,!0)},Bc=function(r){return Pb(r).replace(/\./g,"")},wv=function(r){try{return Av.decodeString(r,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function zb(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const jb=()=>zb().__FIREBASE_DEFAULTS__,Bb=()=>{if(typeof process>"u"||typeof q_>"u")return;const r=q_.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},qb=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=r&&wv(r[1]);return t&&JSON.parse(t)},oh=()=>{try{return kb()||jb()||Bb()||qb()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},Rv=r=>oh()?.emulatorHosts?.[r],Hb=r=>{const t=Rv(r);if(!t)return;const i=t.lastIndexOf(":");if(i<=0||i+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const a=parseInt(t.substring(i+1),10);return t[0]==="["?[t.substring(1,i-1),a]:[t.substring(0,i),a]},Cv=()=>oh()?.config,Iv=r=>oh()?.[`_${r}`];class Gb{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,i)=>{this.resolve=t,this.reject=i})}wrapCallback(t){return(i,a)=>{i?this.reject(i):this.resolve(a),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(i):t(i,a))}}}function ro(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Nv(r){return(await fetch(r,{credentials:"include"})).ok}function Fb(r,t){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},a=t||"demo-project",l=r.iat||0,c=r.sub||r.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${a}`,aud:a,iat:l,exp:l+3600,auth_time:l,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...r};return[Bc(JSON.stringify(i)),Bc(JSON.stringify(d)),""].join(".")}const Tl={};function Qb(){const r={prod:[],emulator:[]};for(const t of Object.keys(Tl))Tl[t]?r.emulator.push(t):r.prod.push(t);return r}function Kb(r){let t=document.getElementById(r),i=!1;return t||(t=document.createElement("div"),t.setAttribute("id",r),i=!0),{created:i,element:t}}let H_=!1;function xv(r,t){if(typeof window>"u"||typeof document>"u"||!ro(window.location.host)||Tl[r]===t||Tl[r]||H_)return;Tl[r]=t;function i(M){return`__firebase__banner__${M}`}const a="__firebase__banner",c=Qb().prod.length>0;function d(){const M=document.getElementById(a);M&&M.remove()}function p(M){M.style.display="flex",M.style.background="#7faaf0",M.style.position="fixed",M.style.bottom="5px",M.style.left="5px",M.style.padding=".5em",M.style.borderRadius="5px",M.style.alignItems="center"}function _(M,Q){M.setAttribute("width","24"),M.setAttribute("id",Q),M.setAttribute("height","24"),M.setAttribute("viewBox","0 0 24 24"),M.setAttribute("fill","none"),M.style.marginLeft="-6px"}function y(){const M=document.createElement("span");return M.style.cursor="pointer",M.style.marginLeft="16px",M.style.fontSize="24px",M.innerHTML=" &times;",M.onclick=()=>{H_=!0,d()},M}function E(M,Q){M.setAttribute("id",Q),M.innerText="Learn more",M.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",M.setAttribute("target","__blank"),M.style.paddingLeft="5px",M.style.textDecoration="underline"}function w(){const M=Kb(a),Q=i("text"),tt=document.getElementById(Q)||document.createElement("span"),it=i("learnmore"),W=document.getElementById(it)||document.createElement("a"),dt=i("preprendIcon"),vt=document.getElementById(dt)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(M.created){const mt=M.element;p(mt),E(W,it);const Ht=y();_(vt,dt),mt.append(vt,tt,W,Ht),document.body.appendChild(mt)}c?(tt.innerText="Preview backend disconnected.",vt.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(vt.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,tt.innerText="Preview backend running in this workspace."),tt.setAttribute("id",Q)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",w):w()}function en(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Yb(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(en())}function Xb(){const r=oh()?.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function $b(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Zb(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function Jb(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Wb(){const r=en();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function tS(){return!Xb()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function eS(){try{return typeof indexedDB=="object"}catch{return!1}}function nS(){return new Promise((r,t)=>{try{let i=!0;const a="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(a);l.onsuccess=()=>{l.result.close(),i||self.indexedDB.deleteDatabase(a),r(!0)},l.onupgradeneeded=()=>{i=!1},l.onerror=()=>{t(l.error?.message||"")}}catch(i){t(i)}})}const iS="FirebaseError";class ds extends Error{constructor(t,i,a){super(i),this.code=t,this.customData=a,this.name=iS,Object.setPrototypeOf(this,ds.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,kl.prototype.create)}}class kl{constructor(t,i,a){this.service=t,this.serviceName=i,this.errors=a}create(t,...i){const a=i[0]||{},l=`${this.service}/${t}`,c=this.errors[t],d=c?sS(c,a):"Error",p=`${this.serviceName}: ${d} (${l}).`;return new ds(l,p,a)}}function sS(r,t){return r.replace(rS,(i,a)=>{const l=t[a];return l!=null?String(l):`<${a}?>`})}const rS=/\{\$([^}]+)}/g;function aS(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}function rr(r,t){if(r===t)return!0;const i=Object.keys(r),a=Object.keys(t);for(const l of i){if(!a.includes(l))return!1;const c=r[l],d=t[l];if(G_(c)&&G_(d)){if(!rr(c,d))return!1}else if(c!==d)return!1}for(const l of a)if(!i.includes(l))return!1;return!0}function G_(r){return r!==null&&typeof r=="object"}function Ul(r){const t=[];for(const[i,a]of Object.entries(r))Array.isArray(a)?a.forEach(l=>{t.push(encodeURIComponent(i)+"="+encodeURIComponent(l))}):t.push(encodeURIComponent(i)+"="+encodeURIComponent(a));return t.length?"&"+t.join("&"):""}function oS(r,t){const i=new lS(r,t);return i.subscribe.bind(i)}class lS{constructor(t,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{t(this)}).catch(a=>{this.error(a)})}next(t){this.forEachObserver(i=>{i.next(t)})}error(t){this.forEachObserver(i=>{i.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,i,a){let l;if(t===void 0&&i===void 0&&a===void 0)throw new Error("Missing Observer.");uS(t,["next","error","complete"])?l=t:l={next:t,error:i,complete:a},l.next===void 0&&(l.next=Md),l.error===void 0&&(l.error=Md),l.complete===void 0&&(l.complete=Md);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),c}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,t)}sendOne(t,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{i(this.observers[t])}catch(a){typeof console<"u"&&console.error&&console.error(a)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function uS(r,t){if(typeof r!="object"||r===null)return!1;for(const i of t)if(i in r&&typeof r[i]=="function")return!0;return!1}function Md(){}function ln(r){return r&&r._delegate?r._delegate:r}class Kr{constructor(t,i,a){this.name=t,this.instanceFactory=i,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const Gr="[DEFAULT]";class cS{constructor(t,i){this.name=t,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const i=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(i)){const a=new Gb;if(this.instancesDeferred.set(i,a),this.isInitialized(i)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:i});l&&a.resolve(l)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(t){const i=this.normalizeInstanceIdentifier(t?.identifier),a=t?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(l){if(a)return null;throw l}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(fS(t))try{this.getOrInitializeService({instanceIdentifier:Gr})}catch{}for(const[i,a]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);try{const c=this.getOrInitializeService({instanceIdentifier:l});a.resolve(c)}catch{}}}}clearInstance(t=Gr){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...t.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Gr){return this.instances.has(t)}getOptions(t=Gr){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:i={}}=t,a=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:a,options:i});for(const[c,d]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(c);a===p&&d.resolve(l)}return l}onInit(t,i){const a=this.normalizeInstanceIdentifier(i),l=this.onInitCallbacks.get(a)??new Set;l.add(t),this.onInitCallbacks.set(a,l);const c=this.instances.get(a);return c&&t(c,a),()=>{l.delete(t)}}invokeOnInitCallbacks(t,i){const a=this.onInitCallbacks.get(i);if(a)for(const l of a)try{l(t,i)}catch{}}getOrInitializeService({instanceIdentifier:t,options:i={}}){let a=this.instances.get(t);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:hS(t),options:i}),this.instances.set(t,a),this.instancesOptions.set(t,i),this.invokeOnInitCallbacks(a,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,a)}catch{}return a||null}normalizeInstanceIdentifier(t=Gr){return this.component?this.component.multipleInstances?t:Gr:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function hS(r){return r===Gr?void 0:r}function fS(r){return r.instantiationMode==="EAGER"}class dS{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const i=this.getProvider(t.name);if(i.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);i.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const i=new cS(t,this);return this.providers.set(t,i),i}getProviders(){return Array.from(this.providers.values())}}var Mt;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Mt||(Mt={}));const mS={debug:Mt.DEBUG,verbose:Mt.VERBOSE,info:Mt.INFO,warn:Mt.WARN,error:Mt.ERROR,silent:Mt.SILENT},gS=Mt.INFO,pS={[Mt.DEBUG]:"log",[Mt.VERBOSE]:"log",[Mt.INFO]:"info",[Mt.WARN]:"warn",[Mt.ERROR]:"error"},yS=(r,t,...i)=>{if(t<r.logLevel)return;const a=new Date().toISOString(),l=pS[t];if(l)console[l](`[${a}]  ${r.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class Sm{constructor(t){this.name=t,this._logLevel=gS,this._logHandler=yS,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Mt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?mS[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Mt.DEBUG,...t),this._logHandler(this,Mt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Mt.VERBOSE,...t),this._logHandler(this,Mt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Mt.INFO,...t),this._logHandler(this,Mt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Mt.WARN,...t),this._logHandler(this,Mt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Mt.ERROR,...t),this._logHandler(this,Mt.ERROR,...t)}}const _S=(r,t)=>t.some(i=>r instanceof i);let F_,Q_;function vS(){return F_||(F_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function ES(){return Q_||(Q_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Dv=new WeakMap,Yd=new WeakMap,Ov=new WeakMap,Vd=new WeakMap,Am=new WeakMap;function TS(r){const t=new Promise((i,a)=>{const l=()=>{r.removeEventListener("success",c),r.removeEventListener("error",d)},c=()=>{i(tr(r.result)),l()},d=()=>{a(r.error),l()};r.addEventListener("success",c),r.addEventListener("error",d)});return t.then(i=>{i instanceof IDBCursor&&Dv.set(i,r)}).catch(()=>{}),Am.set(t,r),t}function bS(r){if(Yd.has(r))return;const t=new Promise((i,a)=>{const l=()=>{r.removeEventListener("complete",c),r.removeEventListener("error",d),r.removeEventListener("abort",d)},c=()=>{i(),l()},d=()=>{a(r.error||new DOMException("AbortError","AbortError")),l()};r.addEventListener("complete",c),r.addEventListener("error",d),r.addEventListener("abort",d)});Yd.set(r,t)}let Xd={get(r,t,i){if(r instanceof IDBTransaction){if(t==="done")return Yd.get(r);if(t==="objectStoreNames")return r.objectStoreNames||Ov.get(r);if(t==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return tr(r[t])},set(r,t,i){return r[t]=i,!0},has(r,t){return r instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in r}};function SS(r){Xd=r(Xd)}function AS(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...i){const a=r.call(kd(this),t,...i);return Ov.set(a,t.sort?t.sort():[t]),tr(a)}:ES().includes(r)?function(...t){return r.apply(kd(this),t),tr(Dv.get(this))}:function(...t){return tr(r.apply(kd(this),t))}}function wS(r){return typeof r=="function"?AS(r):(r instanceof IDBTransaction&&bS(r),_S(r,vS())?new Proxy(r,Xd):r)}function tr(r){if(r instanceof IDBRequest)return TS(r);if(Vd.has(r))return Vd.get(r);const t=wS(r);return t!==r&&(Vd.set(r,t),Am.set(t,r)),t}const kd=r=>Am.get(r);function RS(r,t,{blocked:i,upgrade:a,blocking:l,terminated:c}={}){const d=indexedDB.open(r,t),p=tr(d);return a&&d.addEventListener("upgradeneeded",_=>{a(tr(d.result),_.oldVersion,_.newVersion,tr(d.transaction),_)}),i&&d.addEventListener("blocked",_=>i(_.oldVersion,_.newVersion,_)),p.then(_=>{c&&_.addEventListener("close",()=>c()),l&&_.addEventListener("versionchange",y=>l(y.oldVersion,y.newVersion,y))}).catch(()=>{}),p}const CS=["get","getKey","getAll","getAllKeys","count"],IS=["put","add","delete","clear"],Ud=new Map;function K_(r,t){if(!(r instanceof IDBDatabase&&!(t in r)&&typeof t=="string"))return;if(Ud.get(t))return Ud.get(t);const i=t.replace(/FromIndex$/,""),a=t!==i,l=IS.includes(i);if(!(i in(a?IDBIndex:IDBObjectStore).prototype)||!(l||CS.includes(i)))return;const c=async function(d,...p){const _=this.transaction(d,l?"readwrite":"readonly");let y=_.store;return a&&(y=y.index(p.shift())),(await Promise.all([y[i](...p),l&&_.done]))[0]};return Ud.set(t,c),c}SS(r=>({...r,get:(t,i,a)=>K_(t,i)||r.get(t,i,a),has:(t,i)=>!!K_(t,i)||r.has(t,i)}));class NS{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(xS(i)){const a=i.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(i=>i).join(" ")}}function xS(r){return r.getComponent()?.type==="VERSION"}const $d="@firebase/app",Y_="0.14.6";const os=new Sm("@firebase/app"),DS="@firebase/app-compat",OS="@firebase/analytics-compat",MS="@firebase/analytics",VS="@firebase/app-check-compat",kS="@firebase/app-check",US="@firebase/auth",LS="@firebase/auth-compat",PS="@firebase/database",zS="@firebase/data-connect",jS="@firebase/database-compat",BS="@firebase/functions",qS="@firebase/functions-compat",HS="@firebase/installations",GS="@firebase/installations-compat",FS="@firebase/messaging",QS="@firebase/messaging-compat",KS="@firebase/performance",YS="@firebase/performance-compat",XS="@firebase/remote-config",$S="@firebase/remote-config-compat",ZS="@firebase/storage",JS="@firebase/storage-compat",WS="@firebase/firestore",tA="@firebase/ai",eA="@firebase/firestore-compat",nA="firebase",iA="12.6.0";const Zd="[DEFAULT]",sA={[$d]:"fire-core",[DS]:"fire-core-compat",[MS]:"fire-analytics",[OS]:"fire-analytics-compat",[kS]:"fire-app-check",[VS]:"fire-app-check-compat",[US]:"fire-auth",[LS]:"fire-auth-compat",[PS]:"fire-rtdb",[zS]:"fire-data-connect",[jS]:"fire-rtdb-compat",[BS]:"fire-fn",[qS]:"fire-fn-compat",[HS]:"fire-iid",[GS]:"fire-iid-compat",[FS]:"fire-fcm",[QS]:"fire-fcm-compat",[KS]:"fire-perf",[YS]:"fire-perf-compat",[XS]:"fire-rc",[$S]:"fire-rc-compat",[ZS]:"fire-gcs",[JS]:"fire-gcs-compat",[WS]:"fire-fst",[eA]:"fire-fst-compat",[tA]:"fire-vertex","fire-js":"fire-js",[nA]:"fire-js-all"};const qc=new Map,rA=new Map,Jd=new Map;function X_(r,t){try{r.container.addComponent(t)}catch(i){os.debug(`Component ${t.name} failed to register with FirebaseApp ${r.name}`,i)}}function Za(r){const t=r.name;if(Jd.has(t))return os.debug(`There were multiple attempts to register component ${t}.`),!1;Jd.set(t,r);for(const i of qc.values())X_(i,r);for(const i of rA.values())X_(i,r);return!0}function wm(r,t){const i=r.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),r.container.getProvider(t)}function Gn(r){return r==null?!1:r.settings!==void 0}const aA={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},er=new kl("app","Firebase",aA);class oA{constructor(t,i,a){this._isDeleted=!1,this._options={...t},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new Kr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw er.create("app-deleted",{appName:this._name})}}const ao=iA;function Mv(r,t={}){let i=r;typeof t!="object"&&(t={name:t});const a={name:Zd,automaticDataCollectionEnabled:!0,...t},l=a.name;if(typeof l!="string"||!l)throw er.create("bad-app-name",{appName:String(l)});if(i||(i=Cv()),!i)throw er.create("no-options");const c=qc.get(l);if(c){if(rr(i,c.options)&&rr(a,c.config))return c;throw er.create("duplicate-app",{appName:l})}const d=new dS(l);for(const _ of Jd.values())d.addComponent(_);const p=new oA(i,a,d);return qc.set(l,p),p}function Vv(r=Zd){const t=qc.get(r);if(!t&&r===Zd&&Cv())return Mv();if(!t)throw er.create("no-app",{appName:r});return t}function nr(r,t,i){let a=sA[r]??r;i&&(a+=`-${i}`);const l=a.match(/\s|\//),c=t.match(/\s|\//);if(l||c){const d=[`Unable to register library "${a}" with version "${t}":`];l&&d.push(`library name "${a}" contains illegal characters (whitespace or "/")`),l&&c&&d.push("and"),c&&d.push(`version name "${t}" contains illegal characters (whitespace or "/")`),os.warn(d.join(" "));return}Za(new Kr(`${a}-version`,()=>({library:a,version:t}),"VERSION"))}const lA="firebase-heartbeat-database",uA=1,Cl="firebase-heartbeat-store";let Ld=null;function kv(){return Ld||(Ld=RS(lA,uA,{upgrade:(r,t)=>{switch(t){case 0:try{r.createObjectStore(Cl)}catch(i){console.warn(i)}}}}).catch(r=>{throw er.create("idb-open",{originalErrorMessage:r.message})})),Ld}async function cA(r){try{const i=(await kv()).transaction(Cl),a=await i.objectStore(Cl).get(Uv(r));return await i.done,a}catch(t){if(t instanceof ds)os.warn(t.message);else{const i=er.create("idb-get",{originalErrorMessage:t?.message});os.warn(i.message)}}}async function $_(r,t){try{const a=(await kv()).transaction(Cl,"readwrite");await a.objectStore(Cl).put(t,Uv(r)),await a.done}catch(i){if(i instanceof ds)os.warn(i.message);else{const a=er.create("idb-set",{originalErrorMessage:i?.message});os.warn(a.message)}}}function Uv(r){return`${r.name}!${r.options.appId}`}const hA=1024,fA=30;class dA{constructor(t){this.container=t,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new gA(i),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=Z_();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(l=>l.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats.length>fA){const l=pA(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){os.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=Z_(),{heartbeatsToSend:i,unsentEntries:a}=mA(this._heartbeatsCache.heartbeats),l=Bc(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(t){return os.warn(t),""}}}function Z_(){return new Date().toISOString().substring(0,10)}function mA(r,t=hA){const i=[];let a=r.slice();for(const l of r){const c=i.find(d=>d.agent===l.agent);if(c){if(c.dates.push(l.date),J_(i)>t){c.dates.pop();break}}else if(i.push({agent:l.agent,dates:[l.date]}),J_(i)>t){i.pop();break}a=a.slice(1)}return{heartbeatsToSend:i,unsentEntries:a}}class gA{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return eS()?nS().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await cA(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const a=await this.read();return $_(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const a=await this.read();return $_(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...t.heartbeats]})}else return}}function J_(r){return Bc(JSON.stringify({version:2,heartbeats:r})).length}function pA(r){if(r.length===0)return-1;let t=0,i=r[0].date;for(let a=1;a<r.length;a++)r[a].date<i&&(i=r[a].date,t=a);return t}function yA(r){Za(new Kr("platform-logger",t=>new NS(t),"PRIVATE")),Za(new Kr("heartbeat",t=>new dA(t),"PRIVATE")),nr($d,Y_,r),nr($d,Y_,"esm2020"),nr("fire-js","")}yA("");var _A="firebase",vA="12.7.0";nr(_A,vA,"app");function Lv(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const EA=Lv,Pv=new kl("auth","Firebase",Lv());const Hc=new Sm("@firebase/auth");function TA(r,...t){Hc.logLevel<=Mt.WARN&&Hc.warn(`Auth (${ao}): ${r}`,...t)}function Dc(r,...t){Hc.logLevel<=Mt.ERROR&&Hc.error(`Auth (${ao}): ${r}`,...t)}function ls(r,...t){throw Rm(r,...t)}function xi(r,...t){return Rm(r,...t)}function zv(r,t,i){const a={...EA(),[t]:i};return new kl("auth","Firebase",a).create(t,{appName:r.name})}function as(r){return zv(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Rm(r,...t){if(typeof r!="string"){const i=t[0],a=[...t.slice(1)];return a[0]&&(a[0].appName=r.name),r._errorFactory.create(i,...a)}return Pv.create(r,...t)}function _t(r,t,...i){if(!r)throw Rm(t,...i)}function ss(r){const t="INTERNAL ASSERTION FAILED: "+r;throw Dc(t),new Error(t)}function us(r,t){r||ss(t)}function Wd(){return typeof self<"u"&&self.location?.href||""}function bA(){return W_()==="http:"||W_()==="https:"}function W_(){return typeof self<"u"&&self.location?.protocol||null}function SA(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(bA()||Zb()||"connection"in navigator)?navigator.onLine:!0}function AA(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}class Ll{constructor(t,i){this.shortDelay=t,this.longDelay=i,us(i>t,"Short delay should be less than long delay!"),this.isMobile=Yb()||Jb()}get(){return SA()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Cm(r,t){us(r.emulator,"Emulator should always be set here");const{url:i}=r.emulator;return t?`${i}${t.startsWith("/")?t.slice(1):t}`:i}class jv{static initialize(t,i,a){this.fetchImpl=t,i&&(this.headersImpl=i),a&&(this.responseImpl=a)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ss("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ss("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ss("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const wA={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const RA=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],CA=new Ll(3e4,6e4);function Pl(r,t){return r.tenantId&&!t.tenantId?{...t,tenantId:r.tenantId}:t}async function oo(r,t,i,a,l={}){return Bv(r,l,async()=>{let c={},d={};a&&(t==="GET"?d=a:c={body:JSON.stringify(a)});const p=Ul({key:r.config.apiKey,...d}).slice(1),_=await r._getAdditionalHeaders();_["Content-Type"]="application/json",r.languageCode&&(_["X-Firebase-Locale"]=r.languageCode);const y={method:t,headers:_,...c};return $b()||(y.referrerPolicy="no-referrer"),r.emulatorConfig&&ro(r.emulatorConfig.host)&&(y.credentials="include"),jv.fetch()(await qv(r,r.config.apiHost,i,p),y)})}async function Bv(r,t,i){r._canInitEmulator=!1;const a={...wA,...t};try{const l=new IA(r),c=await Promise.race([i(),l.promise]);l.clearNetworkTimeout();const d=await c.json();if("needConfirmation"in d)throw Sc(r,"account-exists-with-different-credential",d);if(c.ok&&!("errorMessage"in d))return d;{const p=c.ok?d.errorMessage:d.error.message,[_,y]=p.split(" : ");if(_==="FEDERATED_USER_ID_ALREADY_LINKED")throw Sc(r,"credential-already-in-use",d);if(_==="EMAIL_EXISTS")throw Sc(r,"email-already-in-use",d);if(_==="USER_DISABLED")throw Sc(r,"user-disabled",d);const E=a[_]||_.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw zv(r,E,y);ls(r,E)}}catch(l){if(l instanceof ds)throw l;ls(r,"network-request-failed",{message:String(l)})}}async function Im(r,t,i,a,l={}){const c=await oo(r,t,i,a,l);return"mfaPendingCredential"in c&&ls(r,"multi-factor-auth-required",{_serverResponse:c}),c}async function qv(r,t,i,a){const l=`${t}${i}?${a}`,c=r,d=c.config.emulator?Cm(r.config,l):`${r.config.apiScheme}://${l}`;return RA.includes(i)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(d).toString():d}class IA{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((i,a)=>{this.timer=setTimeout(()=>a(xi(this.auth,"network-request-failed")),CA.get())})}}function Sc(r,t,i){const a={appName:r.name};i.email&&(a.email=i.email),i.phoneNumber&&(a.phoneNumber=i.phoneNumber);const l=xi(r,t,a);return l.customData._tokenResponse=i,l}async function NA(r,t){return oo(r,"POST","/v1/accounts:delete",t)}async function Gc(r,t){return oo(r,"POST","/v1/accounts:lookup",t)}function bl(r){if(r)try{const t=new Date(Number(r));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function xA(r,t=!1){const i=ln(r),a=await i.getIdToken(t),l=Nm(a);_t(l&&l.exp&&l.auth_time&&l.iat,i.auth,"internal-error");const c=typeof l.firebase=="object"?l.firebase:void 0,d=c?.sign_in_provider;return{claims:l,token:a,authTime:bl(Pd(l.auth_time)),issuedAtTime:bl(Pd(l.iat)),expirationTime:bl(Pd(l.exp)),signInProvider:d||null,signInSecondFactor:c?.sign_in_second_factor||null}}function Pd(r){return Number(r)*1e3}function Nm(r){const[t,i,a]=r.split(".");if(t===void 0||i===void 0||a===void 0)return Dc("JWT malformed, contained fewer than 3 sections"),null;try{const l=wv(i);return l?JSON.parse(l):(Dc("Failed to decode base64 JWT payload"),null)}catch(l){return Dc("Caught error parsing JWT payload as JSON",l?.toString()),null}}function t0(r){const t=Nm(r);return _t(t,"internal-error"),_t(typeof t.exp<"u","internal-error"),_t(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}async function Il(r,t,i=!1){if(i)return t;try{return await t}catch(a){throw a instanceof ds&&DA(a)&&r.auth.currentUser===r&&await r.auth.signOut(),a}}function DA({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}class OA{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const a=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,a)}}schedule(t=!1){if(!this.isRunning)return;const i=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class tm{constructor(t,i){this.createdAt=t,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=bl(this.lastLoginAt),this.creationTime=bl(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Fc(r){const t=r.auth,i=await r.getIdToken(),a=await Il(r,Gc(t,{idToken:i}));_t(a?.users.length,t,"internal-error");const l=a.users[0];r._notifyReloadListener(l);const c=l.providerUserInfo?.length?Hv(l.providerUserInfo):[],d=VA(r.providerData,c),p=r.isAnonymous,_=!(r.email&&l.passwordHash)&&!d?.length,y=p?_:!1,E={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:d,metadata:new tm(l.createdAt,l.lastLoginAt),isAnonymous:y};Object.assign(r,E)}async function MA(r){const t=ln(r);await Fc(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function VA(r,t){return[...r.filter(a=>!t.some(l=>l.providerId===a.providerId)),...t]}function Hv(r){return r.map(({providerId:t,...i})=>({providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}))}async function kA(r,t){const i=await Bv(r,{},async()=>{const a=Ul({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:l,apiKey:c}=r.config,d=await qv(r,l,"/v1/token",`key=${c}`),p=await r._getAdditionalHeaders();p["Content-Type"]="application/x-www-form-urlencoded";const _={method:"POST",headers:p,body:a};return r.emulatorConfig&&ro(r.emulatorConfig.host)&&(_.credentials="include"),jv.fetch()(d,_)});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function UA(r,t){return oo(r,"POST","/v2/accounts:revokeToken",Pl(r,t))}class Qa{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){_t(t.idToken,"internal-error"),_t(typeof t.idToken<"u","internal-error"),_t(typeof t.refreshToken<"u","internal-error");const i="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):t0(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,i)}updateFromIdToken(t){_t(t.length!==0,"internal-error");const i=t0(t);this.updateTokensAndExpiration(t,null,i)}async getToken(t,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(_t(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,i){const{accessToken:a,refreshToken:l,expiresIn:c}=await kA(t,i);this.updateTokensAndExpiration(a,l,Number(c))}updateTokensAndExpiration(t,i,a){this.refreshToken=i||null,this.accessToken=t||null,this.expirationTime=Date.now()+a*1e3}static fromJSON(t,i){const{refreshToken:a,accessToken:l,expirationTime:c}=i,d=new Qa;return a&&(_t(typeof a=="string","internal-error",{appName:t}),d.refreshToken=a),l&&(_t(typeof l=="string","internal-error",{appName:t}),d.accessToken=l),c&&(_t(typeof c=="number","internal-error",{appName:t}),d.expirationTime=c),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Qa,this.toJSON())}_performRefresh(){return ss("not implemented")}}function Ys(r,t){_t(typeof r=="string"||typeof r>"u","internal-error",{appName:t})}class si{constructor({uid:t,auth:i,stsTokenManager:a,...l}){this.providerId="firebase",this.proactiveRefresh=new OA(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new tm(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(t){const i=await Il(this,this.stsTokenManager.getToken(this.auth,t));return _t(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(t){return xA(this,t)}reload(){return MA(this)}_assign(t){this!==t&&(_t(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(i=>({...i})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const i=new si({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return i.metadata._copy(this.metadata),i}_onReload(t){_t(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,i=!1){let a=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),a=!0),i&&await Fc(this),await this.auth._persistUserIfCurrent(this),a&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Gn(this.auth.app))return Promise.reject(as(this.auth));const t=await this.getIdToken();return await Il(this,NA(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,i){const a=i.displayName??void 0,l=i.email??void 0,c=i.phoneNumber??void 0,d=i.photoURL??void 0,p=i.tenantId??void 0,_=i._redirectEventId??void 0,y=i.createdAt??void 0,E=i.lastLoginAt??void 0,{uid:w,emailVerified:M,isAnonymous:Q,providerData:tt,stsTokenManager:it}=i;_t(w&&it,t,"internal-error");const W=Qa.fromJSON(this.name,it);_t(typeof w=="string",t,"internal-error"),Ys(a,t.name),Ys(l,t.name),_t(typeof M=="boolean",t,"internal-error"),_t(typeof Q=="boolean",t,"internal-error"),Ys(c,t.name),Ys(d,t.name),Ys(p,t.name),Ys(_,t.name),Ys(y,t.name),Ys(E,t.name);const dt=new si({uid:w,auth:t,email:l,emailVerified:M,displayName:a,isAnonymous:Q,photoURL:d,phoneNumber:c,tenantId:p,stsTokenManager:W,createdAt:y,lastLoginAt:E});return tt&&Array.isArray(tt)&&(dt.providerData=tt.map(vt=>({...vt}))),_&&(dt._redirectEventId=_),dt}static async _fromIdTokenResponse(t,i,a=!1){const l=new Qa;l.updateFromServerResponse(i);const c=new si({uid:i.localId,auth:t,stsTokenManager:l,isAnonymous:a});return await Fc(c),c}static async _fromGetAccountInfoResponse(t,i,a){const l=i.users[0];_t(l.localId!==void 0,"internal-error");const c=l.providerUserInfo!==void 0?Hv(l.providerUserInfo):[],d=!(l.email&&l.passwordHash)&&!c?.length,p=new Qa;p.updateFromIdToken(a);const _=new si({uid:l.localId,auth:t,stsTokenManager:p,isAnonymous:d}),y={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:c,metadata:new tm(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!c?.length};return Object.assign(_,y),_}}const e0=new Map;function rs(r){us(r instanceof Function,"Expected a class definition");let t=e0.get(r);return t?(us(t instanceof r,"Instance stored in cache mismatched with class"),t):(t=new r,e0.set(r,t),t)}class Gv{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,i){this.storage[t]=i}async _get(t){const i=this.storage[t];return i===void 0?null:i}async _remove(t){delete this.storage[t]}_addListener(t,i){}_removeListener(t,i){}}Gv.type="NONE";const n0=Gv;function Oc(r,t,i){return`firebase:${r}:${t}:${i}`}class Ka{constructor(t,i,a){this.persistence=t,this.auth=i,this.userKey=a;const{config:l,name:c}=this.auth;this.fullUserKey=Oc(this.userKey,l.apiKey,c),this.fullPersistenceKey=Oc("persistence",l.apiKey,c),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const i=await Gc(this.auth,{idToken:t}).catch(()=>{});return i?si._fromGetAccountInfoResponse(this.auth,i,t):null}return si._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,i,a="authUser"){if(!i.length)return new Ka(rs(n0),t,a);const l=(await Promise.all(i.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let c=l[0]||rs(n0);const d=Oc(a,t.config.apiKey,t.name);let p=null;for(const y of i)try{const E=await y._get(d);if(E){let w;if(typeof E=="string"){const M=await Gc(t,{idToken:E}).catch(()=>{});if(!M)break;w=await si._fromGetAccountInfoResponse(t,M,E)}else w=si._fromJSON(t,E);y!==c&&(p=w),c=y;break}}catch{}const _=l.filter(y=>y._shouldAllowMigration);return!c._shouldAllowMigration||!_.length?new Ka(c,t,a):(c=_[0],p&&await c._set(d,p.toJSON()),await Promise.all(i.map(async y=>{if(y!==c)try{await y._remove(d)}catch{}})),new Ka(c,t,a))}}function i0(r){const t=r.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(Yv(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(Fv(t))return"Firefox";if(t.includes("silk/"))return"Silk";if($v(t))return"Blackberry";if(Zv(t))return"Webos";if(Qv(t))return"Safari";if((t.includes("chrome/")||Kv(t))&&!t.includes("edge/"))return"Chrome";if(Xv(t))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,a=r.match(i);if(a?.length===2)return a[1]}return"Other"}function Fv(r=en()){return/firefox\//i.test(r)}function Qv(r=en()){const t=r.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function Kv(r=en()){return/crios\//i.test(r)}function Yv(r=en()){return/iemobile/i.test(r)}function Xv(r=en()){return/android/i.test(r)}function $v(r=en()){return/blackberry/i.test(r)}function Zv(r=en()){return/webos/i.test(r)}function xm(r=en()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function LA(r=en()){return xm(r)&&!!window.navigator?.standalone}function PA(){return Wb()&&document.documentMode===10}function Jv(r=en()){return xm(r)||Xv(r)||Zv(r)||$v(r)||/windows phone/i.test(r)||Yv(r)}function Wv(r,t=[]){let i;switch(r){case"Browser":i=i0(en());break;case"Worker":i=`${i0(en())}-${r}`;break;default:i=r}const a=t.length?t.join(","):"FirebaseCore-web";return`${i}/JsCore/${ao}/${a}`}class zA{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,i){const a=c=>new Promise((d,p)=>{try{const _=t(c);d(_)}catch(_){p(_)}});a.onAbort=i,this.queue.push(a);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const i=[];try{for(const a of this.queue)await a(t),a.onAbort&&i.push(a.onAbort)}catch(a){i.reverse();for(const l of i)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:a?.message})}}}async function jA(r,t={}){return oo(r,"GET","/v2/passwordPolicy",Pl(r,t))}const BA=6;class qA{constructor(t){const i=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=i.minPasswordLength??BA,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),i.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),i.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),i.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),i.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const i={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,i),this.validatePasswordCharacterOptions(t,i),i.isValid&&(i.isValid=i.meetsMinPasswordLength??!0),i.isValid&&(i.isValid=i.meetsMaxPasswordLength??!0),i.isValid&&(i.isValid=i.containsLowercaseLetter??!0),i.isValid&&(i.isValid=i.containsUppercaseLetter??!0),i.isValid&&(i.isValid=i.containsNumericCharacter??!0),i.isValid&&(i.isValid=i.containsNonAlphanumericCharacter??!0),i}validatePasswordLengthOptions(t,i){const a=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;a&&(i.meetsMinPasswordLength=t.length>=a),l&&(i.meetsMaxPasswordLength=t.length<=l)}validatePasswordCharacterOptions(t,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let a;for(let l=0;l<t.length;l++)a=t.charAt(l),this.updatePasswordCharacterOptionsStatuses(i,a>="a"&&a<="z",a>="A"&&a<="Z",a>="0"&&a<="9",this.allowedNonAlphanumericCharacters.includes(a))}updatePasswordCharacterOptionsStatuses(t,i,a,l,c){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=a)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=c))}}class HA{constructor(t,i,a,l){this.app=t,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=a,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new s0(this),this.idTokenSubscription=new s0(this),this.beforeStateQueue=new zA(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Pv,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=l.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(t,i){return i&&(this._popupRedirectResolver=rs(i)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Ka.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const i=await Gc(this,{idToken:t}),a=await si._fromGetAccountInfoResponse(this,i,t);await this.directlySetCurrentUser(a)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(Gn(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let a=i,l=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=this.redirectUser?._redirectEventId,d=a?._redirectEventId,p=await this.tryRedirectSignIn(t);(!c||c===d)&&p?.user&&(a=p.user,l=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(a)}catch(c){a=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return _t(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(t){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(t){try{await Fc(t)}catch(i){if(i?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=AA()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(Gn(this.app))return Promise.reject(as(this));const i=t?ln(t):null;return i&&_t(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(t,i=!1){if(!this._deleted)return t&&_t(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return Gn(this.app)?Promise.reject(as(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return Gn(this.app)?Promise.reject(as(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(rs(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await jA(this),i=new qA(t);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new kl("auth","Firebase",t())}onAuthStateChanged(t,i,a){return this.registerStateListener(this.authStateSubscription,t,i,a)}beforeAuthStateChanged(t,i){return this.beforeStateQueue.pushCallback(t,i)}onIdTokenChanged(t,i,a){return this.registerStateListener(this.idTokenSubscription,t,i,a)}authStateReady(){return new Promise((t,i)=>{if(this.currentUser)t();else{const a=this.onAuthStateChanged(()=>{a(),t()},i)}})}async revokeAccessToken(t){if(this.currentUser){const i=await this.currentUser.getIdToken(),a={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:i};this.tenantId!=null&&(a.tenantId=this.tenantId),await UA(this,a)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,i){const a=await this.getOrInitRedirectPersistenceManager(i);return t===null?a.removeCurrentUser():a.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const i=t&&rs(t)||this._popupRedirectResolver;_t(i,this,"argument-error"),this.redirectPersistenceManager=await Ka.create(this,[rs(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,i,a,l){if(this._deleted)return()=>{};const c=typeof i=="function"?i:i.next.bind(i);let d=!1;const p=this._isInitialized?Promise.resolve():this._initializationPromise;if(_t(p,this,"internal-error"),p.then(()=>{d||c(this.currentUser)}),typeof i=="function"){const _=t.addObserver(i,a,l);return()=>{d=!0,_()}}else{const _=t.addObserver(i);return()=>{d=!0,_()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return _t(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=Wv(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const i=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();i&&(t["X-Firebase-Client"]=i);const a=await this._getAppCheckToken();return a&&(t["X-Firebase-AppCheck"]=a),t}async _getAppCheckToken(){if(Gn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&TA(`Error while retrieving App Check token: ${t.error}`),t?.token}}function zl(r){return ln(r)}class s0{constructor(t){this.auth=t,this.observer=null,this.addObserver=oS(i=>this.observer=i)}get next(){return _t(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Dm={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function GA(r){Dm=r}function FA(r){return Dm.loadJS(r)}function QA(){return Dm.gapiScript}function KA(r){return`__${r}${Math.floor(Math.random()*1e6)}`}function YA(r,t){const i=wm(r,"auth");if(i.isInitialized()){const l=i.getImmediate(),c=i.getOptions();if(rr(c,t??{}))return l;ls(l,"already-initialized")}return i.initialize({options:t})}function XA(r,t){const i=t?.persistence||[],a=(Array.isArray(i)?i:[i]).map(rs);t?.errorMap&&r._updateErrorMap(t.errorMap),r._initializeWithPersistence(a,t?.popupRedirectResolver)}function $A(r,t,i){const a=zl(r);_t(/^https?:\/\//.test(t),a,"invalid-emulator-scheme");const l=!1,c=tE(t),{host:d,port:p}=ZA(t),_=p===null?"":`:${p}`,y={url:`${c}//${d}${_}/`},E=Object.freeze({host:d,port:p,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!a._canInitEmulator){_t(a.config.emulator&&a.emulatorConfig,a,"emulator-config-failed"),_t(rr(y,a.config.emulator)&&rr(E,a.emulatorConfig),a,"emulator-config-failed");return}a.config.emulator=y,a.emulatorConfig=E,a.settings.appVerificationDisabledForTesting=!0,ro(d)?(Nv(`${c}//${d}${_}`),xv("Auth",!0)):JA()}function tE(r){const t=r.indexOf(":");return t<0?"":r.substr(0,t+1)}function ZA(r){const t=tE(r),i=/(\/\/)?([^?#/]+)/.exec(r.substr(t.length));if(!i)return{host:"",port:null};const a=i[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(a);if(l){const c=l[1];return{host:c,port:r0(a.substr(c.length+1))}}else{const[c,d]=a.split(":");return{host:c,port:r0(d)}}}function r0(r){if(!r)return null;const t=Number(r);return isNaN(t)?null:t}function JA(){function r(){const t=document.createElement("p"),i=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}class eE{constructor(t,i){this.providerId=t,this.signInMethod=i}toJSON(){return ss("not implemented")}_getIdTokenResponse(t){return ss("not implemented")}_linkToIdToken(t,i){return ss("not implemented")}_getReauthenticationResolver(t){return ss("not implemented")}}async function Ya(r,t){return Im(r,"POST","/v1/accounts:signInWithIdp",Pl(r,t))}const WA="http://localhost";class Yr extends eE{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const i=new Yr(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(i.idToken=t.idToken),t.accessToken&&(i.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(i.nonce=t.nonce),t.pendingToken&&(i.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(i.accessToken=t.oauthToken,i.secret=t.oauthTokenSecret):ls("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const i=typeof t=="string"?JSON.parse(t):t,{providerId:a,signInMethod:l,...c}=i;if(!a||!l)return null;const d=new Yr(a,l);return d.idToken=c.idToken||void 0,d.accessToken=c.accessToken||void 0,d.secret=c.secret,d.nonce=c.nonce,d.pendingToken=c.pendingToken||null,d}_getIdTokenResponse(t){const i=this.buildRequest();return Ya(t,i)}_linkToIdToken(t,i){const a=this.buildRequest();return a.idToken=i,Ya(t,a)}_getReauthenticationResolver(t){const i=this.buildRequest();return i.autoCreate=!1,Ya(t,i)}buildRequest(){const t={requestUri:WA,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),t.postBody=Ul(i)}return t}}class nE{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}class jl extends nE{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}class Xs extends jl{constructor(){super("facebook.com")}static credential(t){return Yr._fromParams({providerId:Xs.PROVIDER_ID,signInMethod:Xs.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Xs.credentialFromTaggedObject(t)}static credentialFromError(t){return Xs.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Xs.credential(t.oauthAccessToken)}catch{return null}}}Xs.FACEBOOK_SIGN_IN_METHOD="facebook.com";Xs.PROVIDER_ID="facebook.com";class $s extends jl{constructor(){super("google.com"),this.addScope("profile")}static credential(t,i){return Yr._fromParams({providerId:$s.PROVIDER_ID,signInMethod:$s.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:i})}static credentialFromResult(t){return $s.credentialFromTaggedObject(t)}static credentialFromError(t){return $s.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:i,oauthAccessToken:a}=t;if(!i&&!a)return null;try{return $s.credential(i,a)}catch{return null}}}$s.GOOGLE_SIGN_IN_METHOD="google.com";$s.PROVIDER_ID="google.com";class Zs extends jl{constructor(){super("github.com")}static credential(t){return Yr._fromParams({providerId:Zs.PROVIDER_ID,signInMethod:Zs.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Zs.credentialFromTaggedObject(t)}static credentialFromError(t){return Zs.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Zs.credential(t.oauthAccessToken)}catch{return null}}}Zs.GITHUB_SIGN_IN_METHOD="github.com";Zs.PROVIDER_ID="github.com";class Js extends jl{constructor(){super("twitter.com")}static credential(t,i){return Yr._fromParams({providerId:Js.PROVIDER_ID,signInMethod:Js.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:i})}static credentialFromResult(t){return Js.credentialFromTaggedObject(t)}static credentialFromError(t){return Js.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:i,oauthTokenSecret:a}=t;if(!i||!a)return null;try{return Js.credential(i,a)}catch{return null}}}Js.TWITTER_SIGN_IN_METHOD="twitter.com";Js.PROVIDER_ID="twitter.com";async function tw(r,t){return Im(r,"POST","/v1/accounts:signUp",Pl(r,t))}class cs{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,i,a,l=!1){const c=await si._fromIdTokenResponse(t,a,l),d=a0(a);return new cs({user:c,providerId:d,_tokenResponse:a,operationType:i})}static async _forOperation(t,i,a){await t._updateTokensIfNecessary(a,!0);const l=a0(a);return new cs({user:t,providerId:l,_tokenResponse:a,operationType:i})}}function a0(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}async function ew(r){if(Gn(r.app))return Promise.reject(as(r));const t=zl(r);if(await t._initializationPromise,t.currentUser?.isAnonymous)return new cs({user:t.currentUser,providerId:null,operationType:"signIn"});const i=await tw(t,{returnSecureToken:!0}),a=await cs._fromIdTokenResponse(t,"signIn",i,!0);return await t._updateCurrentUser(a.user),a}class Qc extends ds{constructor(t,i,a,l){super(i.code,i.message),this.operationType=a,this.user=l,Object.setPrototypeOf(this,Qc.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:i.customData._serverResponse,operationType:a}}static _fromErrorAndOperation(t,i,a,l){return new Qc(t,i,a,l)}}function iE(r,t,i,a){return(t==="reauthenticate"?i._getReauthenticationResolver(r):i._getIdTokenResponse(r)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?Qc._fromErrorAndOperation(r,c,t,a):c})}async function nw(r,t,i=!1){const a=await Il(r,t._linkToIdToken(r.auth,await r.getIdToken()),i);return cs._forOperation(r,"link",a)}async function iw(r,t,i=!1){const{auth:a}=r;if(Gn(a.app))return Promise.reject(as(a));const l="reauthenticate";try{const c=await Il(r,iE(a,l,t,r),i);_t(c.idToken,a,"internal-error");const d=Nm(c.idToken);_t(d,a,"internal-error");const{sub:p}=d;return _t(r.uid===p,a,"user-mismatch"),cs._forOperation(r,l,c)}catch(c){throw c?.code==="auth/user-not-found"&&ls(a,"user-mismatch"),c}}async function sw(r,t,i=!1){if(Gn(r.app))return Promise.reject(as(r));const a="signIn",l=await iE(r,a,t),c=await cs._fromIdTokenResponse(r,a,l);return i||await r._updateCurrentUser(c.user),c}async function rw(r,t){return Im(r,"POST","/v1/accounts:signInWithCustomToken",Pl(r,t))}async function aw(r,t){if(Gn(r.app))return Promise.reject(as(r));const i=zl(r),a=await rw(i,{token:t,returnSecureToken:!0}),l=await cs._fromIdTokenResponse(i,"signIn",a);return await i._updateCurrentUser(l.user),l}function ow(r,t,i,a){return ln(r).onIdTokenChanged(t,i,a)}function lw(r,t,i){return ln(r).beforeAuthStateChanged(t,i)}function uw(r,t,i,a){return ln(r).onAuthStateChanged(t,i,a)}const Kc="__sak";class sE{constructor(t,i){this.storageRetriever=t,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(Kc,"1"),this.storage.removeItem(Kc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,i){return this.storage.setItem(t,JSON.stringify(i)),Promise.resolve()}_get(t){const i=this.storage.getItem(t);return Promise.resolve(i?JSON.parse(i):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}const cw=1e3,hw=10;class rE extends sE{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,i)=>this.onStorageEvent(t,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Jv(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const i of Object.keys(this.listeners)){const a=this.storage.getItem(i),l=this.localCache[i];a!==l&&t(i,l,a)}}onStorageEvent(t,i=!1){if(!t.key){this.forAllChangedKeys((d,p,_)=>{this.notifyListeners(d,_)});return}const a=t.key;i?this.detachListener():this.stopPolling();const l=()=>{const d=this.storage.getItem(a);!i&&this.localCache[a]===d||this.notifyListeners(a,d)},c=this.storage.getItem(a);PA()&&c!==t.newValue&&t.newValue!==t.oldValue?setTimeout(l,hw):l()}notifyListeners(t,i){this.localCache[t]=i;const a=this.listeners[t];if(a)for(const l of Array.from(a))l(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,i,a)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:i,newValue:a}),!0)})},cw)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,i){await super._set(t,i),this.localCache[t]=JSON.stringify(i)}async _get(t){const i=await super._get(t);return this.localCache[t]=JSON.stringify(i),i}async _remove(t){await super._remove(t),delete this.localCache[t]}}rE.type="LOCAL";const fw=rE;class aE extends sE{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,i){}_removeListener(t,i){}}aE.type="SESSION";const oE=aE;function dw(r){return Promise.all(r.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(i){return{fulfilled:!1,reason:i}}}))}class lh{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const i=this.receivers.find(l=>l.isListeningto(t));if(i)return i;const a=new lh(t);return this.receivers.push(a),a}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const i=t,{eventId:a,eventType:l,data:c}=i.data,d=this.handlersMap[l];if(!d?.size)return;i.ports[0].postMessage({status:"ack",eventId:a,eventType:l});const p=Array.from(d).map(async y=>y(i.origin,c)),_=await dw(p);i.ports[0].postMessage({status:"done",eventId:a,eventType:l,response:_})}_subscribe(t,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(i)}_unsubscribe(t,i){this.handlersMap[t]&&i&&this.handlersMap[t].delete(i),(!i||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}lh.receivers=[];function Om(r="",t=10){let i="";for(let a=0;a<t;a++)i+=Math.floor(Math.random()*10);return r+i}class mw{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,i,a=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let c,d;return new Promise((p,_)=>{const y=Om("",20);l.port1.start();const E=setTimeout(()=>{_(new Error("unsupported_event"))},a);d={messageChannel:l,onMessage(w){const M=w;if(M.data.eventId===y)switch(M.data.status){case"ack":clearTimeout(E),c=setTimeout(()=>{_(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),p(M.data.response);break;default:clearTimeout(E),clearTimeout(c),_(new Error("invalid_response"));break}}},this.handlers.add(d),l.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:t,eventId:y,data:i},[l.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}function Di(){return window}function gw(r){Di().location.href=r}function lE(){return typeof Di().WorkerGlobalScope<"u"&&typeof Di().importScripts=="function"}async function pw(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function yw(){return navigator?.serviceWorker?.controller||null}function _w(){return lE()?self:null}const uE="firebaseLocalStorageDb",vw=1,Yc="firebaseLocalStorage",cE="fbase_key";class Bl{constructor(t){this.request=t}toPromise(){return new Promise((t,i)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function uh(r,t){return r.transaction([Yc],t?"readwrite":"readonly").objectStore(Yc)}function Ew(){const r=indexedDB.deleteDatabase(uE);return new Bl(r).toPromise()}function em(){const r=indexedDB.open(uE,vw);return new Promise((t,i)=>{r.addEventListener("error",()=>{i(r.error)}),r.addEventListener("upgradeneeded",()=>{const a=r.result;try{a.createObjectStore(Yc,{keyPath:cE})}catch(l){i(l)}}),r.addEventListener("success",async()=>{const a=r.result;a.objectStoreNames.contains(Yc)?t(a):(a.close(),await Ew(),t(await em()))})})}async function o0(r,t,i){const a=uh(r,!0).put({[cE]:t,value:i});return new Bl(a).toPromise()}async function Tw(r,t){const i=uh(r,!1).get(t),a=await new Bl(i).toPromise();return a===void 0?null:a.value}function l0(r,t){const i=uh(r,!0).delete(t);return new Bl(i).toPromise()}const bw=800,Sw=3;class hE{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await em(),this.db)}async _withRetries(t){let i=0;for(;;)try{const a=await this._openDb();return await t(a)}catch(a){if(i++>Sw)throw a;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return lE()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=lh._getInstance(_w()),this.receiver._subscribe("keyChanged",async(t,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(t,i)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await pw(),!this.activeServiceWorker)return;this.sender=new mw(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||yw()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await em();return await o0(t,Kc,"1"),await l0(t,Kc),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,i){return this._withPendingWrite(async()=>(await this._withRetries(a=>o0(a,t,i)),this.localCache[t]=i,this.notifyServiceWorker(t)))}async _get(t){const i=await this._withRetries(a=>Tw(a,t));return this.localCache[t]=i,i}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(i=>l0(i,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(l=>{const c=uh(l,!1).getAll();return new Bl(c).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const i=[],a=new Set;if(t.length!==0)for(const{fbase_key:l,value:c}of t)a.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(c)&&(this.notifyListeners(l,c),i.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!a.has(l)&&(this.notifyListeners(l,null),i.push(l));return i}notifyListeners(t,i){this.localCache[t]=i;const a=this.listeners[t];if(a)for(const l of Array.from(a))l(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),bw)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}hE.type="LOCAL";const Aw=hE;new Ll(3e4,6e4);function ww(r,t){return t?rs(t):(_t(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}class Mm extends eE{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Ya(t,this._buildIdpRequest())}_linkToIdToken(t,i){return Ya(t,this._buildIdpRequest(i))}_getReauthenticationResolver(t){return Ya(t,this._buildIdpRequest())}_buildIdpRequest(t){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(i.idToken=t),i}}function Rw(r){return sw(r.auth,new Mm(r),r.bypassAuthState)}function Cw(r){const{auth:t,user:i}=r;return _t(i,t,"internal-error"),iw(i,new Mm(r),r.bypassAuthState)}async function Iw(r){const{auth:t,user:i}=r;return _t(i,t,"internal-error"),nw(i,new Mm(r),r.bypassAuthState)}class fE{constructor(t,i,a,l,c=!1){this.auth=t,this.resolver=a,this.user=l,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(t,i)=>{this.pendingPromise={resolve:t,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(a){this.reject(a)}})}async onAuthEvent(t){const{urlResponse:i,sessionId:a,postBody:l,tenantId:c,error:d,type:p}=t;if(d){this.reject(d);return}const _={auth:this.auth,requestUri:i,sessionId:a,tenantId:c||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(p)(_))}catch(y){this.reject(y)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return Rw;case"linkViaPopup":case"linkViaRedirect":return Iw;case"reauthViaPopup":case"reauthViaRedirect":return Cw;default:ls(this.auth,"internal-error")}}resolve(t){us(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){us(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Nw=new Ll(2e3,1e4);class Fa extends fE{constructor(t,i,a,l,c){super(t,i,l,c),this.provider=a,this.authWindow=null,this.pollId=null,Fa.currentPopupAction&&Fa.currentPopupAction.cancel(),Fa.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return _t(t,this.auth,"internal-error"),t}async onExecution(){us(this.filter.length===1,"Popup operations only handle one event");const t=Om();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(xi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(xi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Fa.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(xi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,Nw.get())};t()}}Fa.currentPopupAction=null;const xw="pendingRedirect",Mc=new Map;class Dw extends fE{constructor(t,i,a=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,a),this.eventId=null}async execute(){let t=Mc.get(this.auth._key());if(!t){try{const a=await Ow(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(a)}catch(i){t=()=>Promise.reject(i)}Mc.set(this.auth._key(),t)}return this.bypassAuthState||Mc.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const i=await this.auth._redirectUserForId(t.eventId);if(i)return this.user=i,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Ow(r,t){const i=kw(t),a=Vw(r);if(!await a._isAvailable())return!1;const l=await a._get(i)==="true";return await a._remove(i),l}function Mw(r,t){Mc.set(r._key(),t)}function Vw(r){return rs(r._redirectPersistence)}function kw(r){return Oc(xw,r.config.apiKey,r.name)}async function Uw(r,t,i=!1){if(Gn(r.app))return Promise.reject(as(r));const a=zl(r),l=ww(a,t),d=await new Dw(a,l,i).execute();return d&&!i&&(delete d.user._redirectEventId,await a._persistUserIfCurrent(d.user),await a._setRedirectUser(null,t)),d}const Lw=600*1e3;class Pw{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let i=!1;return this.consumers.forEach(a=>{this.isEventForConsumer(t,a)&&(i=!0,this.sendToConsumer(t,a),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!zw(t)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=t,i=!0)),i}sendToConsumer(t,i){if(t.error&&!dE(t)){const a=t.error.code?.split("auth/")[1]||"internal-error";i.onError(xi(this.auth,a))}else i.onAuthEvent(t)}isEventForConsumer(t,i){const a=i.eventId===null||!!t.eventId&&t.eventId===i.eventId;return i.filter.includes(t.type)&&a}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=Lw&&this.cachedEventUids.clear(),this.cachedEventUids.has(u0(t))}saveEventToCache(t){this.cachedEventUids.add(u0(t)),this.lastProcessedEventTime=Date.now()}}function u0(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(t=>t).join("-")}function dE({type:r,error:t}){return r==="unknown"&&t?.code==="auth/no-auth-event"}function zw(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return dE(r);default:return!1}}async function jw(r,t={}){return oo(r,"GET","/v1/projects",t)}const Bw=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,qw=/^https?/;async function Hw(r){if(r.config.emulator)return;const{authorizedDomains:t}=await jw(r);for(const i of t)try{if(Gw(i))return}catch{}ls(r,"unauthorized-domain")}function Gw(r){const t=Wd(),{protocol:i,hostname:a}=new URL(t);if(r.startsWith("chrome-extension://")){const d=new URL(r);return d.hostname===""&&a===""?i==="chrome-extension:"&&r.replace("chrome-extension://","")===t.replace("chrome-extension://",""):i==="chrome-extension:"&&d.hostname===a}if(!qw.test(i))return!1;if(Bw.test(r))return a===r;const l=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(a)}const Fw=new Ll(3e4,6e4);function c0(){const r=Di().___jsl;if(r?.H){for(const t of Object.keys(r.H))if(r.H[t].r=r.H[t].r||[],r.H[t].L=r.H[t].L||[],r.H[t].r=[...r.H[t].L],r.CP)for(let i=0;i<r.CP.length;i++)r.CP[i]=null}}function Qw(r){return new Promise((t,i)=>{function a(){c0(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{c0(),i(xi(r,"network-request-failed"))},timeout:Fw.get()})}if(Di().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(Di().gapi?.load)a();else{const l=KA("iframefcb");return Di()[l]=()=>{gapi.load?a():i(xi(r,"network-request-failed"))},FA(`${QA()}?onload=${l}`).catch(c=>i(c))}}).catch(t=>{throw Vc=null,t})}let Vc=null;function Kw(r){return Vc=Vc||Qw(r),Vc}const Yw=new Ll(5e3,15e3),Xw="__/auth/iframe",$w="emulator/auth/iframe",Zw={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Jw=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Ww(r){const t=r.config;_t(t.authDomain,r,"auth-domain-config-required");const i=t.emulator?Cm(t,$w):`https://${r.config.authDomain}/${Xw}`,a={apiKey:t.apiKey,appName:r.name,v:ao},l=Jw.get(r.config.apiHost);l&&(a.eid=l);const c=r._getFrameworks();return c.length&&(a.fw=c.join(",")),`${i}?${Ul(a).slice(1)}`}async function t2(r){const t=await Kw(r),i=Di().gapi;return _t(i,r,"internal-error"),t.open({where:document.body,url:Ww(r),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Zw,dontclear:!0},a=>new Promise(async(l,c)=>{await a.restyle({setHideOnLeave:!1});const d=xi(r,"network-request-failed"),p=Di().setTimeout(()=>{c(d)},Yw.get());function _(){Di().clearTimeout(p),l(a)}a.ping(_).then(_,()=>{c(d)})}))}const e2={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},n2=500,i2=600,s2="_blank",r2="http://localhost";class h0{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function a2(r,t,i,a=n2,l=i2){const c=Math.max((window.screen.availHeight-l)/2,0).toString(),d=Math.max((window.screen.availWidth-a)/2,0).toString();let p="";const _={...e2,width:a.toString(),height:l.toString(),top:c,left:d},y=en().toLowerCase();i&&(p=Kv(y)?s2:i),Fv(y)&&(t=t||r2,_.scrollbars="yes");const E=Object.entries(_).reduce((M,[Q,tt])=>`${M}${Q}=${tt},`,"");if(LA(y)&&p!=="_self")return o2(t||"",p),new h0(null);const w=window.open(t||"",p,E);_t(w,r,"popup-blocked");try{w.focus()}catch{}return new h0(w)}function o2(r,t){const i=document.createElement("a");i.href=r,i.target=t;const a=document.createEvent("MouseEvent");a.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(a)}const l2="__/auth/handler",u2="emulator/auth/handler",c2=encodeURIComponent("fac");async function f0(r,t,i,a,l,c){_t(r.config.authDomain,r,"auth-domain-config-required"),_t(r.config.apiKey,r,"invalid-api-key");const d={apiKey:r.config.apiKey,appName:r.name,authType:i,redirectUrl:a,v:ao,eventId:l};if(t instanceof nE){t.setDefaultLanguage(r.languageCode),d.providerId=t.providerId||"",aS(t.getCustomParameters())||(d.customParameters=JSON.stringify(t.getCustomParameters()));for(const[E,w]of Object.entries({}))d[E]=w}if(t instanceof jl){const E=t.getScopes().filter(w=>w!=="");E.length>0&&(d.scopes=E.join(","))}r.tenantId&&(d.tid=r.tenantId);const p=d;for(const E of Object.keys(p))p[E]===void 0&&delete p[E];const _=await r._getAppCheckToken(),y=_?`#${c2}=${encodeURIComponent(_)}`:"";return`${h2(r)}?${Ul(p).slice(1)}${y}`}function h2({config:r}){return r.emulator?Cm(r,u2):`https://${r.authDomain}/${l2}`}const zd="webStorageSupport";class f2{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=oE,this._completeRedirectFn=Uw,this._overrideRedirectResult=Mw}async _openPopup(t,i,a,l){us(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const c=await f0(t,i,a,Wd(),l);return a2(t,c,Om())}async _openRedirect(t,i,a,l){await this._originValidation(t);const c=await f0(t,i,a,Wd(),l);return gw(c),new Promise(()=>{})}_initialize(t){const i=t._key();if(this.eventManagers[i]){const{manager:l,promise:c}=this.eventManagers[i];return l?Promise.resolve(l):(us(c,"If manager is not set, promise should be"),c)}const a=this.initAndGetManager(t);return this.eventManagers[i]={promise:a},a.catch(()=>{delete this.eventManagers[i]}),a}async initAndGetManager(t){const i=await t2(t),a=new Pw(t);return i.register("authEvent",l=>(_t(l?.authEvent,t,"invalid-auth-event"),{status:a.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:a},this.iframes[t._key()]=i,a}_isIframeWebStorageSupported(t,i){this.iframes[t._key()].send(zd,{type:zd},l=>{const c=l?.[0]?.[zd];c!==void 0&&i(!!c),ls(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const i=t._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=Hw(t)),this.originValidationPromises[i]}get _shouldInitProactively(){return Jv()||Qv()||xm()}}const d2=f2;var d0="@firebase/auth",m0="1.12.0";class m2{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const i=this.auth.onIdTokenChanged(a=>{t(a?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,i),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const i=this.internalListeners.get(t);i&&(this.internalListeners.delete(t),i(),this.updateProactiveRefresh())}assertAuthConfigured(){_t(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function g2(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function p2(r){Za(new Kr("auth",(t,{options:i})=>{const a=t.getProvider("app").getImmediate(),l=t.getProvider("heartbeat"),c=t.getProvider("app-check-internal"),{apiKey:d,authDomain:p}=a.options;_t(d&&!d.includes(":"),"invalid-api-key",{appName:a.name});const _={apiKey:d,authDomain:p,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Wv(r)},y=new HA(a,l,c,_);return XA(y,i),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,i,a)=>{t.getProvider("auth-internal").initialize()})),Za(new Kr("auth-internal",t=>{const i=zl(t.getProvider("auth").getImmediate());return(a=>new m2(a))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),nr(d0,m0,g2(r)),nr(d0,m0,"esm2020")}const y2=300,_2=Iv("authIdTokenMaxAge")||y2;let g0=null;const v2=r=>async t=>{const i=t&&await t.getIdTokenResult(),a=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(a&&a>_2)return;const l=i?.token;g0!==l&&(g0=l,await fetch(r,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function E2(r=Vv()){const t=wm(r,"auth");if(t.isInitialized())return t.getImmediate();const i=YA(r,{popupRedirectResolver:d2,persistence:[Aw,fw,oE]}),a=Iv("authTokenSyncURL");if(a&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(a,location.origin);if(location.origin===c.origin){const d=v2(c.toString());lw(i,d,()=>d(i.currentUser)),ow(i,p=>d(p))}}const l=Rv("auth");return l&&$A(i,`http://${l}`),i}function T2(){return document.getElementsByTagName("head")?.[0]??document}GA({loadJS(r){return new Promise((t,i)=>{const a=document.createElement("script");a.setAttribute("src",r),a.onload=t,a.onerror=l=>{const c=xi("internal-error");c.customData=l,i(c)},a.type="text/javascript",a.charset="UTF-8",T2().appendChild(a)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});p2("Browser");var p0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var ir,mE;(function(){var r;function t(x,A){function I(){}I.prototype=A.prototype,x.F=A.prototype,x.prototype=new I,x.prototype.constructor=x,x.D=function(V,O,U){for(var R=Array(arguments.length-2),ee=2;ee<arguments.length;ee++)R[ee-2]=arguments[ee];return A.prototype[O].apply(V,R)}}function i(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(a,i),a.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(x,A,I){I||(I=0);const V=Array(16);if(typeof A=="string")for(var O=0;O<16;++O)V[O]=A.charCodeAt(I++)|A.charCodeAt(I++)<<8|A.charCodeAt(I++)<<16|A.charCodeAt(I++)<<24;else for(O=0;O<16;++O)V[O]=A[I++]|A[I++]<<8|A[I++]<<16|A[I++]<<24;A=x.g[0],I=x.g[1],O=x.g[2];let U=x.g[3],R;R=A+(U^I&(O^U))+V[0]+3614090360&4294967295,A=I+(R<<7&4294967295|R>>>25),R=U+(O^A&(I^O))+V[1]+3905402710&4294967295,U=A+(R<<12&4294967295|R>>>20),R=O+(I^U&(A^I))+V[2]+606105819&4294967295,O=U+(R<<17&4294967295|R>>>15),R=I+(A^O&(U^A))+V[3]+3250441966&4294967295,I=O+(R<<22&4294967295|R>>>10),R=A+(U^I&(O^U))+V[4]+4118548399&4294967295,A=I+(R<<7&4294967295|R>>>25),R=U+(O^A&(I^O))+V[5]+1200080426&4294967295,U=A+(R<<12&4294967295|R>>>20),R=O+(I^U&(A^I))+V[6]+2821735955&4294967295,O=U+(R<<17&4294967295|R>>>15),R=I+(A^O&(U^A))+V[7]+4249261313&4294967295,I=O+(R<<22&4294967295|R>>>10),R=A+(U^I&(O^U))+V[8]+1770035416&4294967295,A=I+(R<<7&4294967295|R>>>25),R=U+(O^A&(I^O))+V[9]+2336552879&4294967295,U=A+(R<<12&4294967295|R>>>20),R=O+(I^U&(A^I))+V[10]+4294925233&4294967295,O=U+(R<<17&4294967295|R>>>15),R=I+(A^O&(U^A))+V[11]+2304563134&4294967295,I=O+(R<<22&4294967295|R>>>10),R=A+(U^I&(O^U))+V[12]+1804603682&4294967295,A=I+(R<<7&4294967295|R>>>25),R=U+(O^A&(I^O))+V[13]+4254626195&4294967295,U=A+(R<<12&4294967295|R>>>20),R=O+(I^U&(A^I))+V[14]+2792965006&4294967295,O=U+(R<<17&4294967295|R>>>15),R=I+(A^O&(U^A))+V[15]+1236535329&4294967295,I=O+(R<<22&4294967295|R>>>10),R=A+(O^U&(I^O))+V[1]+4129170786&4294967295,A=I+(R<<5&4294967295|R>>>27),R=U+(I^O&(A^I))+V[6]+3225465664&4294967295,U=A+(R<<9&4294967295|R>>>23),R=O+(A^I&(U^A))+V[11]+643717713&4294967295,O=U+(R<<14&4294967295|R>>>18),R=I+(U^A&(O^U))+V[0]+3921069994&4294967295,I=O+(R<<20&4294967295|R>>>12),R=A+(O^U&(I^O))+V[5]+3593408605&4294967295,A=I+(R<<5&4294967295|R>>>27),R=U+(I^O&(A^I))+V[10]+38016083&4294967295,U=A+(R<<9&4294967295|R>>>23),R=O+(A^I&(U^A))+V[15]+3634488961&4294967295,O=U+(R<<14&4294967295|R>>>18),R=I+(U^A&(O^U))+V[4]+3889429448&4294967295,I=O+(R<<20&4294967295|R>>>12),R=A+(O^U&(I^O))+V[9]+568446438&4294967295,A=I+(R<<5&4294967295|R>>>27),R=U+(I^O&(A^I))+V[14]+3275163606&4294967295,U=A+(R<<9&4294967295|R>>>23),R=O+(A^I&(U^A))+V[3]+4107603335&4294967295,O=U+(R<<14&4294967295|R>>>18),R=I+(U^A&(O^U))+V[8]+1163531501&4294967295,I=O+(R<<20&4294967295|R>>>12),R=A+(O^U&(I^O))+V[13]+2850285829&4294967295,A=I+(R<<5&4294967295|R>>>27),R=U+(I^O&(A^I))+V[2]+4243563512&4294967295,U=A+(R<<9&4294967295|R>>>23),R=O+(A^I&(U^A))+V[7]+1735328473&4294967295,O=U+(R<<14&4294967295|R>>>18),R=I+(U^A&(O^U))+V[12]+2368359562&4294967295,I=O+(R<<20&4294967295|R>>>12),R=A+(I^O^U)+V[5]+4294588738&4294967295,A=I+(R<<4&4294967295|R>>>28),R=U+(A^I^O)+V[8]+2272392833&4294967295,U=A+(R<<11&4294967295|R>>>21),R=O+(U^A^I)+V[11]+1839030562&4294967295,O=U+(R<<16&4294967295|R>>>16),R=I+(O^U^A)+V[14]+4259657740&4294967295,I=O+(R<<23&4294967295|R>>>9),R=A+(I^O^U)+V[1]+2763975236&4294967295,A=I+(R<<4&4294967295|R>>>28),R=U+(A^I^O)+V[4]+1272893353&4294967295,U=A+(R<<11&4294967295|R>>>21),R=O+(U^A^I)+V[7]+4139469664&4294967295,O=U+(R<<16&4294967295|R>>>16),R=I+(O^U^A)+V[10]+3200236656&4294967295,I=O+(R<<23&4294967295|R>>>9),R=A+(I^O^U)+V[13]+681279174&4294967295,A=I+(R<<4&4294967295|R>>>28),R=U+(A^I^O)+V[0]+3936430074&4294967295,U=A+(R<<11&4294967295|R>>>21),R=O+(U^A^I)+V[3]+3572445317&4294967295,O=U+(R<<16&4294967295|R>>>16),R=I+(O^U^A)+V[6]+76029189&4294967295,I=O+(R<<23&4294967295|R>>>9),R=A+(I^O^U)+V[9]+3654602809&4294967295,A=I+(R<<4&4294967295|R>>>28),R=U+(A^I^O)+V[12]+3873151461&4294967295,U=A+(R<<11&4294967295|R>>>21),R=O+(U^A^I)+V[15]+530742520&4294967295,O=U+(R<<16&4294967295|R>>>16),R=I+(O^U^A)+V[2]+3299628645&4294967295,I=O+(R<<23&4294967295|R>>>9),R=A+(O^(I|~U))+V[0]+4096336452&4294967295,A=I+(R<<6&4294967295|R>>>26),R=U+(I^(A|~O))+V[7]+1126891415&4294967295,U=A+(R<<10&4294967295|R>>>22),R=O+(A^(U|~I))+V[14]+2878612391&4294967295,O=U+(R<<15&4294967295|R>>>17),R=I+(U^(O|~A))+V[5]+4237533241&4294967295,I=O+(R<<21&4294967295|R>>>11),R=A+(O^(I|~U))+V[12]+1700485571&4294967295,A=I+(R<<6&4294967295|R>>>26),R=U+(I^(A|~O))+V[3]+2399980690&4294967295,U=A+(R<<10&4294967295|R>>>22),R=O+(A^(U|~I))+V[10]+4293915773&4294967295,O=U+(R<<15&4294967295|R>>>17),R=I+(U^(O|~A))+V[1]+2240044497&4294967295,I=O+(R<<21&4294967295|R>>>11),R=A+(O^(I|~U))+V[8]+1873313359&4294967295,A=I+(R<<6&4294967295|R>>>26),R=U+(I^(A|~O))+V[15]+4264355552&4294967295,U=A+(R<<10&4294967295|R>>>22),R=O+(A^(U|~I))+V[6]+2734768916&4294967295,O=U+(R<<15&4294967295|R>>>17),R=I+(U^(O|~A))+V[13]+1309151649&4294967295,I=O+(R<<21&4294967295|R>>>11),R=A+(O^(I|~U))+V[4]+4149444226&4294967295,A=I+(R<<6&4294967295|R>>>26),R=U+(I^(A|~O))+V[11]+3174756917&4294967295,U=A+(R<<10&4294967295|R>>>22),R=O+(A^(U|~I))+V[2]+718787259&4294967295,O=U+(R<<15&4294967295|R>>>17),R=I+(U^(O|~A))+V[9]+3951481745&4294967295,x.g[0]=x.g[0]+A&4294967295,x.g[1]=x.g[1]+(O+(R<<21&4294967295|R>>>11))&4294967295,x.g[2]=x.g[2]+O&4294967295,x.g[3]=x.g[3]+U&4294967295}a.prototype.v=function(x,A){A===void 0&&(A=x.length);const I=A-this.blockSize,V=this.C;let O=this.h,U=0;for(;U<A;){if(O==0)for(;U<=I;)l(this,x,U),U+=this.blockSize;if(typeof x=="string"){for(;U<A;)if(V[O++]=x.charCodeAt(U++),O==this.blockSize){l(this,V),O=0;break}}else for(;U<A;)if(V[O++]=x[U++],O==this.blockSize){l(this,V),O=0;break}}this.h=O,this.o+=A},a.prototype.A=function(){var x=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);x[0]=128;for(var A=1;A<x.length-8;++A)x[A]=0;A=this.o*8;for(var I=x.length-8;I<x.length;++I)x[I]=A&255,A/=256;for(this.v(x),x=Array(16),A=0,I=0;I<4;++I)for(let V=0;V<32;V+=8)x[A++]=this.g[I]>>>V&255;return x};function c(x,A){var I=p;return Object.prototype.hasOwnProperty.call(I,x)?I[x]:I[x]=A(x)}function d(x,A){this.h=A;const I=[];let V=!0;for(let O=x.length-1;O>=0;O--){const U=x[O]|0;V&&U==A||(I[O]=U,V=!1)}this.g=I}var p={};function _(x){return-128<=x&&x<128?c(x,function(A){return new d([A|0],A<0?-1:0)}):new d([x|0],x<0?-1:0)}function y(x){if(isNaN(x)||!isFinite(x))return w;if(x<0)return W(y(-x));const A=[];let I=1;for(let V=0;x>=I;V++)A[V]=x/I|0,I*=4294967296;return new d(A,0)}function E(x,A){if(x.length==0)throw Error("number format error: empty string");if(A=A||10,A<2||36<A)throw Error("radix out of range: "+A);if(x.charAt(0)=="-")return W(E(x.substring(1),A));if(x.indexOf("-")>=0)throw Error('number format error: interior "-" character');const I=y(Math.pow(A,8));let V=w;for(let U=0;U<x.length;U+=8){var O=Math.min(8,x.length-U);const R=parseInt(x.substring(U,U+O),A);O<8?(O=y(Math.pow(A,O)),V=V.j(O).add(y(R))):(V=V.j(I),V=V.add(y(R)))}return V}var w=_(0),M=_(1),Q=_(16777216);r=d.prototype,r.m=function(){if(it(this))return-W(this).m();let x=0,A=1;for(let I=0;I<this.g.length;I++){const V=this.i(I);x+=(V>=0?V:4294967296+V)*A,A*=4294967296}return x},r.toString=function(x){if(x=x||10,x<2||36<x)throw Error("radix out of range: "+x);if(tt(this))return"0";if(it(this))return"-"+W(this).toString(x);const A=y(Math.pow(x,6));var I=this;let V="";for(;;){const O=Ht(I,A).g;I=dt(I,O.j(A));let U=((I.g.length>0?I.g[0]:I.h)>>>0).toString(x);if(I=O,tt(I))return U+V;for(;U.length<6;)U="0"+U;V=U+V}},r.i=function(x){return x<0?0:x<this.g.length?this.g[x]:this.h};function tt(x){if(x.h!=0)return!1;for(let A=0;A<x.g.length;A++)if(x.g[A]!=0)return!1;return!0}function it(x){return x.h==-1}r.l=function(x){return x=dt(this,x),it(x)?-1:tt(x)?0:1};function W(x){const A=x.g.length,I=[];for(let V=0;V<A;V++)I[V]=~x.g[V];return new d(I,~x.h).add(M)}r.abs=function(){return it(this)?W(this):this},r.add=function(x){const A=Math.max(this.g.length,x.g.length),I=[];let V=0;for(let O=0;O<=A;O++){let U=V+(this.i(O)&65535)+(x.i(O)&65535),R=(U>>>16)+(this.i(O)>>>16)+(x.i(O)>>>16);V=R>>>16,U&=65535,R&=65535,I[O]=R<<16|U}return new d(I,I[I.length-1]&-2147483648?-1:0)};function dt(x,A){return x.add(W(A))}r.j=function(x){if(tt(this)||tt(x))return w;if(it(this))return it(x)?W(this).j(W(x)):W(W(this).j(x));if(it(x))return W(this.j(W(x)));if(this.l(Q)<0&&x.l(Q)<0)return y(this.m()*x.m());const A=this.g.length+x.g.length,I=[];for(var V=0;V<2*A;V++)I[V]=0;for(V=0;V<this.g.length;V++)for(let O=0;O<x.g.length;O++){const U=this.i(V)>>>16,R=this.i(V)&65535,ee=x.i(O)>>>16,fe=x.i(O)&65535;I[2*V+2*O]+=R*fe,vt(I,2*V+2*O),I[2*V+2*O+1]+=U*fe,vt(I,2*V+2*O+1),I[2*V+2*O+1]+=R*ee,vt(I,2*V+2*O+1),I[2*V+2*O+2]+=U*ee,vt(I,2*V+2*O+2)}for(x=0;x<A;x++)I[x]=I[2*x+1]<<16|I[2*x];for(x=A;x<2*A;x++)I[x]=0;return new d(I,0)};function vt(x,A){for(;(x[A]&65535)!=x[A];)x[A+1]+=x[A]>>>16,x[A]&=65535,A++}function mt(x,A){this.g=x,this.h=A}function Ht(x,A){if(tt(A))throw Error("division by zero");if(tt(x))return new mt(w,w);if(it(x))return A=Ht(W(x),A),new mt(W(A.g),W(A.h));if(it(A))return A=Ht(x,W(A)),new mt(W(A.g),A.h);if(x.g.length>30){if(it(x)||it(A))throw Error("slowDivide_ only works with positive integers.");for(var I=M,V=A;V.l(x)<=0;)I=zt(I),V=zt(V);var O=Ut(I,1),U=Ut(V,1);for(V=Ut(V,2),I=Ut(I,2);!tt(V);){var R=U.add(V);R.l(x)<=0&&(O=O.add(I),U=R),V=Ut(V,1),I=Ut(I,1)}return A=dt(x,O.j(A)),new mt(O,A)}for(O=w;x.l(A)>=0;){for(I=Math.max(1,Math.floor(x.m()/A.m())),V=Math.ceil(Math.log(I)/Math.LN2),V=V<=48?1:Math.pow(2,V-48),U=y(I),R=U.j(A);it(R)||R.l(x)>0;)I-=V,U=y(I),R=U.j(A);tt(U)&&(U=M),O=O.add(U),x=dt(x,R)}return new mt(O,x)}r.B=function(x){return Ht(this,x).h},r.and=function(x){const A=Math.max(this.g.length,x.g.length),I=[];for(let V=0;V<A;V++)I[V]=this.i(V)&x.i(V);return new d(I,this.h&x.h)},r.or=function(x){const A=Math.max(this.g.length,x.g.length),I=[];for(let V=0;V<A;V++)I[V]=this.i(V)|x.i(V);return new d(I,this.h|x.h)},r.xor=function(x){const A=Math.max(this.g.length,x.g.length),I=[];for(let V=0;V<A;V++)I[V]=this.i(V)^x.i(V);return new d(I,this.h^x.h)};function zt(x){const A=x.g.length+1,I=[];for(let V=0;V<A;V++)I[V]=x.i(V)<<1|x.i(V-1)>>>31;return new d(I,x.h)}function Ut(x,A){const I=A>>5;A%=32;const V=x.g.length-I,O=[];for(let U=0;U<V;U++)O[U]=A>0?x.i(U+I)>>>A|x.i(U+I+1)<<32-A:x.i(U+I);return new d(O,x.h)}a.prototype.digest=a.prototype.A,a.prototype.reset=a.prototype.u,a.prototype.update=a.prototype.v,mE=a,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=y,d.fromString=E,ir=d}).apply(typeof p0<"u"?p0:typeof self<"u"?self:typeof window<"u"?window:{});var Ac=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var gE,yl,pE,kc,nm,yE,_E,vE;(function(){var r,t=Object.defineProperty;function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Ac=="object"&&Ac];for(var m=0;m<u.length;++m){var v=u[m];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var a=i(this);function l(u,m){if(m)t:{var v=a;u=u.split(".");for(var b=0;b<u.length-1;b++){var P=u[b];if(!(P in v))break t;v=v[P]}u=u[u.length-1],b=v[u],m=m(b),m!=b&&m!=null&&t(v,u,{configurable:!0,writable:!0,value:m})}}l("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),l("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),l("Object.entries",function(u){return u||function(m){var v=[],b;for(b in m)Object.prototype.hasOwnProperty.call(m,b)&&v.push([b,m[b]]);return v}});var c=c||{},d=this||self;function p(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function _(u,m,v){return u.call.apply(u.bind,arguments)}function y(u,m,v){return y=_,y.apply(null,arguments)}function E(u,m){var v=Array.prototype.slice.call(arguments,1);return function(){var b=v.slice();return b.push.apply(b,arguments),u.apply(this,b)}}function w(u,m){function v(){}v.prototype=m.prototype,u.Z=m.prototype,u.prototype=new v,u.prototype.constructor=u,u.Ob=function(b,P,q){for(var et=Array(arguments.length-2),St=2;St<arguments.length;St++)et[St-2]=arguments[St];return m.prototype[P].apply(b,et)}}var M=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function Q(u){const m=u.length;if(m>0){const v=Array(m);for(let b=0;b<m;b++)v[b]=u[b];return v}return[]}function tt(u,m){for(let b=1;b<arguments.length;b++){const P=arguments[b];var v=typeof P;if(v=v!="object"?v:P?Array.isArray(P)?"array":v:"null",v=="array"||v=="object"&&typeof P.length=="number"){v=u.length||0;const q=P.length||0;u.length=v+q;for(let et=0;et<q;et++)u[v+et]=P[et]}else u.push(P)}}class it{constructor(m,v){this.i=m,this.j=v,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function W(u){d.setTimeout(()=>{throw u},0)}function dt(){var u=x;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class vt{constructor(){this.h=this.g=null}add(m,v){const b=mt.get();b.set(m,v),this.h?this.h.next=b:this.g=b,this.h=b}}var mt=new it(()=>new Ht,u=>u.reset());class Ht{constructor(){this.next=this.g=this.h=null}set(m,v){this.h=m,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let zt,Ut=!1,x=new vt,A=()=>{const u=Promise.resolve(void 0);zt=()=>{u.then(I)}};function I(){for(var u;u=dt();){try{u.h.call(u.g)}catch(v){W(v)}var m=mt;m.j(u),m.h<100&&(m.h++,u.next=m.g,m.g=u)}Ut=!1}function V(){this.u=this.u,this.C=this.C}V.prototype.u=!1,V.prototype.dispose=function(){this.u||(this.u=!0,this.N())},V.prototype[Symbol.dispose]=function(){this.dispose()},V.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function O(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}O.prototype.h=function(){this.defaultPrevented=!0};var U=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const v=()=>{};d.addEventListener("test",v,m),d.removeEventListener("test",v,m)}catch{}return u})();function R(u){return/^[\s\xa0]*$/.test(u)}function ee(u,m){O.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,m)}w(ee,O),ee.prototype.init=function(u,m){const v=this.type=u.type,b=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget,m||(v=="mouseover"?m=u.fromElement:v=="mouseout"&&(m=u.toElement)),this.relatedTarget=m,b?(this.clientX=b.clientX!==void 0?b.clientX:b.pageX,this.clientY=b.clientY!==void 0?b.clientY:b.pageY,this.screenX=b.screenX||0,this.screenY=b.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&ee.Z.h.call(this)},ee.prototype.h=function(){ee.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var fe="closure_listenable_"+(Math.random()*1e6|0),G=0;function st(u,m,v,b,P){this.listener=u,this.proxy=null,this.src=m,this.type=v,this.capture=!!b,this.ha=P,this.key=++G,this.da=this.fa=!1}function ht(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function xt(u,m,v){for(const b in u)m.call(v,u[b],b,u)}function jt(u,m){for(const v in u)m.call(void 0,u[v],v,u)}function S(u){const m={};for(const v in u)m[v]=u[v];return m}const L="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function $(u,m){let v,b;for(let P=1;P<arguments.length;P++){b=arguments[P];for(v in b)u[v]=b[v];for(let q=0;q<L.length;q++)v=L[q],Object.prototype.hasOwnProperty.call(b,v)&&(u[v]=b[v])}}function J(u){this.src=u,this.g={},this.h=0}J.prototype.add=function(u,m,v,b,P){const q=u.toString();u=this.g[q],u||(u=this.g[q]=[],this.h++);const et=at(u,m,b,P);return et>-1?(m=u[et],v||(m.fa=!1)):(m=new st(m,this.src,q,!!b,P),m.fa=v,u.push(m)),m};function ct(u,m){const v=m.type;if(v in u.g){var b=u.g[v],P=Array.prototype.indexOf.call(b,m,void 0),q;(q=P>=0)&&Array.prototype.splice.call(b,P,1),q&&(ht(m),u.g[v].length==0&&(delete u.g[v],u.h--))}}function at(u,m,v,b){for(let P=0;P<u.length;++P){const q=u[P];if(!q.da&&q.listener==m&&q.capture==!!v&&q.ha==b)return P}return-1}var nt="closure_lm_"+(Math.random()*1e6|0),Rt={};function Ct(u,m,v,b,P){if(Array.isArray(m)){for(let q=0;q<m.length;q++)Ct(u,m[q],v,b,P);return null}return v=fo(v),u&&u[fe]?u.J(m,v,p(b)?!!b.capture:!1,P):Oe(u,m,v,!1,b,P)}function Oe(u,m,v,b,P,q){if(!m)throw Error("Invalid event type");const et=p(P)?!!P.capture:!!P;let St=Pi(u);if(St||(u[nt]=St=new J(u)),v=St.add(m,v,b,et,q),v.proxy)return v;if(b=$t(),v.proxy=b,b.src=u,b.listener=v,u.addEventListener)U||(P=et),P===void 0&&(P=!1),u.addEventListener(m.toString(),b,P);else if(u.attachEvent)u.attachEvent(Me(m.toString()),b);else if(u.addListener&&u.removeListener)u.addListener(b);else throw Error("addEventListener and attachEvent are unavailable.");return v}function $t(){function u(v){return m.call(u.src,u.listener,v)}const m=mr;return u}function vn(u,m,v,b,P){if(Array.isArray(m))for(var q=0;q<m.length;q++)vn(u,m[q],v,b,P);else b=p(b)?!!b.capture:!!b,v=fo(v),u&&u[fe]?(u=u.i,q=String(m).toString(),q in u.g&&(m=u.g[q],v=at(m,v,b,P),v>-1&&(ht(m[v]),Array.prototype.splice.call(m,v,1),m.length==0&&(delete u.g[q],u.h--)))):u&&(u=Pi(u))&&(m=u.g[m.toString()],u=-1,m&&(u=at(m,v,b,P)),(v=u>-1?m[u]:null)&&oi(v))}function oi(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[fe])ct(m.i,u);else{var v=u.type,b=u.proxy;m.removeEventListener?m.removeEventListener(v,b,u.capture):m.detachEvent?m.detachEvent(Me(v),b):m.addListener&&m.removeListener&&m.removeListener(b),(v=Pi(m))?(ct(v,u),v.h==0&&(v.src=null,m[nt]=null)):ht(u)}}}function Me(u){return u in Rt?Rt[u]:Rt[u]="on"+u}function mr(u,m){if(u.da)u=!0;else{m=new ee(m,this);const v=u.listener,b=u.ha||u.src;u.fa&&oi(u),u=v.call(b,m)}return u}function Pi(u){return u=u[nt],u instanceof J?u:null}var ms="__closure_events_fn_"+(Math.random()*1e9>>>0);function fo(u){return typeof u=="function"?u:(u[ms]||(u[ms]=function(m){return u.handleEvent(m)}),u[ms])}function Ee(){V.call(this),this.i=new J(this),this.M=this,this.G=null}w(Ee,V),Ee.prototype[fe]=!0,Ee.prototype.removeEventListener=function(u,m,v,b){vn(this,u,m,v,b)};function Ve(u,m){var v,b=u.G;if(b)for(v=[];b;b=b.G)v.push(b);if(u=u.M,b=m.type||m,typeof m=="string")m=new O(m,u);else if(m instanceof O)m.target=m.target||u;else{var P=m;m=new O(b,u),$(m,P)}P=!0;let q,et;if(v)for(et=v.length-1;et>=0;et--)q=m.g=v[et],P=gs(q,b,!0,m)&&P;if(q=m.g=u,P=gs(q,b,!0,m)&&P,P=gs(q,b,!1,m)&&P,v)for(et=0;et<v.length;et++)q=m.g=v[et],P=gs(q,b,!1,m)&&P}Ee.prototype.N=function(){if(Ee.Z.N.call(this),this.i){var u=this.i;for(const m in u.g){const v=u.g[m];for(let b=0;b<v.length;b++)ht(v[b]);delete u.g[m],u.h--}}this.G=null},Ee.prototype.J=function(u,m,v,b){return this.i.add(String(u),m,!1,v,b)},Ee.prototype.K=function(u,m,v,b){return this.i.add(String(u),m,!0,v,b)};function gs(u,m,v,b){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();let P=!0;for(let q=0;q<m.length;++q){const et=m[q];if(et&&!et.da&&et.capture==v){const St=et.listener,pe=et.ha||et.src;et.fa&&ct(u.i,et),P=St.call(pe,b)!==!1&&P}}return P&&!b.defaultPrevented}function Ih(u,m){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=y(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:d.setTimeout(u,m||0)}function Yl(u){u.g=Ih(()=>{u.g=null,u.i&&(u.i=!1,Yl(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class nn extends V{constructor(m,v){super(),this.m=m,this.l=v,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:Yl(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function gr(u){V.call(this),this.h=u,this.g={}}w(gr,V);var mo=[];function go(u){xt(u.g,function(m,v){this.g.hasOwnProperty(v)&&oi(m)},u),u.g={}}gr.prototype.N=function(){gr.Z.N.call(this),go(this)},gr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ps=d.JSON.stringify,Nh=d.JSON.parse,Xl=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function $l(){}function Zl(){}var Qn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function qe(){O.call(this,"d")}w(qe,O);function xn(){O.call(this,"c")}w(xn,O);var ge={},Jl=null;function ta(){return Jl=Jl||new Ee}ge.Ia="serverreachability";function Wl(u){O.call(this,ge.Ia,u)}w(Wl,O);function li(u){const m=ta();Ve(m,new Wl(m))}ge.STAT_EVENT="statevent";function pr(u,m){O.call(this,ge.STAT_EVENT,u),this.stat=m}w(pr,O);function Te(u){const m=ta();Ve(m,new pr(m,u))}ge.Ja="timingevent";function ui(u,m){O.call(this,ge.Ja,u),this.size=m}w(ui,O);function ci(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},m)}function Kn(){this.g=!0}Kn.prototype.ua=function(){this.g=!1};function xh(u,m,v,b,P,q){u.info(function(){if(u.g)if(q){var et="",St=q.split("&");for(let Gt=0;Gt<St.length;Gt++){var pe=St[Gt].split("=");if(pe.length>1){const ae=pe[0];pe=pe[1];const Vn=ae.split("_");et=Vn.length>=2&&Vn[1]=="type"?et+(ae+"="+pe+"&"):et+(ae+"=redacted&")}}}else et=null;else et=q;return"XMLHTTP REQ ("+b+") [attempt "+P+"]: "+m+`
`+v+`
`+et})}function tu(u,m,v,b,P,q,et){u.info(function(){return"XMLHTTP RESP ("+b+") [ attempt "+P+"]: "+m+`
`+v+`
`+q+" "+et})}function hi(u,m,v,b){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+Dh(u,v)+(b?" "+b:"")})}function yr(u,m){u.info(function(){return"TIMEOUT: "+m})}Kn.prototype.info=function(){};function Dh(u,m){if(!u.g)return m;if(!m)return null;try{const q=JSON.parse(m);if(q){for(u=0;u<q.length;u++)if(Array.isArray(q[u])){var v=q[u];if(!(v.length<2)){var b=v[1];if(Array.isArray(b)&&!(b.length<1)){var P=b[0];if(P!="noop"&&P!="stop"&&P!="close")for(let et=1;et<b.length;et++)b[et]=""}}}}return ps(q)}catch{return m}}var _r={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},po={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},yo;function vr(){}w(vr,$l),vr.prototype.g=function(){return new XMLHttpRequest},yo=new vr;function zi(u){return encodeURIComponent(String(u))}function eu(u){var m=1;u=u.split(":");const v=[];for(;m>0&&u.length;)v.push(u.shift()),m--;return u.length&&v.push(u.join(":")),v}function Yn(u,m,v,b){this.j=u,this.i=m,this.l=v,this.S=b||1,this.V=new gr(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Xn}function Xn(){this.i=null,this.g="",this.h=!1}var be={},Pe={};function fi(u,m,v){u.M=1,u.A=Er(Ae(m)),u.u=v,u.R=!0,ea(u,null)}function ea(u,m){u.F=Date.now(),di(u),u.B=Ae(u.A);var v=u.B,b=u.S;Array.isArray(b)||(b=[String(b)]),ra(v.i,"t",b),u.C=0,v=u.j.L,u.h=new Xn,u.g=pu(u.j,v?m:null,!u.u),u.P>0&&(u.O=new nn(y(u.Y,u,u.g),u.P)),m=u.V,v=u.g,b=u.ba;var P="readystatechange";Array.isArray(P)||(P&&(mo[0]=P.toString()),P=mo);for(let q=0;q<P.length;q++){const et=Ct(v,P[q],b||m.handleEvent,!1,m.h||m);if(!et)break;m.g[et.key]=et}m=u.J?S(u.J):{},u.u?(u.v||(u.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,m)):(u.v="GET",u.g.ea(u.B,u.v,null,m)),li(),xh(u.i,u.v,u.B,u.l,u.S,u.u)}Yn.prototype.ba=function(u){u=u.target;const m=this.O;m&&Jn(u)==3?m.j():this.Y(u)},Yn.prototype.Y=function(u){try{if(u==this.g)t:{const St=Jn(this.g),pe=this.g.ya(),Gt=this.g.ca();if(!(St<3)&&(St!=3||this.g&&(this.h.h||this.g.la()||He(this.g)))){this.K||St!=4||pe==7||(pe==8||Gt<=0?li(3):li(2)),mi(this);var m=this.g.ca();this.X=m;var v=Oh(this);if(this.o=m==200,tu(this.i,this.v,this.B,this.l,this.S,St,m),this.o){if(this.U&&!this.L){e:{if(this.g){var b,P=this.g;if((b=P.g?P.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!R(b)){var q=b;break e}}q=null}if(u=q)hi(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,gi(this,u);else{this.o=!1,this.m=3,Te(12),En(this),Dn(this);break t}}if(this.R){u=!0;let ae;for(;!this.K&&this.C<v.length;)if(ae=iu(this,v),ae==Pe){St==4&&(this.m=4,Te(14),u=!1),hi(this.i,this.l,null,"[Incomplete Response]");break}else if(ae==be){this.m=4,Te(15),hi(this.i,this.l,v,"[Invalid Chunk]"),u=!1;break}else hi(this.i,this.l,ae,null),gi(this,ae);if(nu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),St!=4||v.length!=0||this.h.h||(this.m=1,Te(16),u=!1),this.o=this.o&&u,!u)hi(this.i,this.l,v,"[Invalid Chunked Response]"),En(this),Dn(this);else if(v.length>0&&!this.W){this.W=!0;var et=this.j;et.g==this&&et.aa&&!et.P&&(et.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),Oo(et),et.P=!0,Te(11))}}else hi(this.i,this.l,v,null),gi(this,v);St==4&&En(this),this.o&&!this.K&&(St==4?fu(this.j,this):(this.o=!1,di(this)))}else Bi(this.g),m==400&&v.indexOf("Unknown SID")>0?(this.m=3,Te(12)):(this.m=0,Te(13)),En(this),Dn(this)}}}catch{}};function Oh(u){if(!nu(u))return u.g.la();const m=He(u.g);if(m==="")return"";let v="";const b=m.length,P=Jn(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return En(u),Dn(u),"";u.h.i=new d.TextDecoder}for(let q=0;q<b;q++)u.h.h=!0,v+=u.h.i.decode(m[q],{stream:!(P&&q==b-1)});return m.length=0,u.h.g+=v,u.C=0,u.h.g}function nu(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function iu(u,m){var v=u.C,b=m.indexOf(`
`,v);return b==-1?Pe:(v=Number(m.substring(v,b)),isNaN(v)?be:(b+=1,b+v>m.length?Pe:(m=m.slice(b,b+v),u.C=b+v,m)))}Yn.prototype.cancel=function(){this.K=!0,En(this)};function di(u){u.T=Date.now()+u.H,na(u,u.H)}function na(u,m){if(u.D!=null)throw Error("WatchDog timer not null");u.D=ci(y(u.aa,u),m)}function mi(u){u.D&&(d.clearTimeout(u.D),u.D=null)}Yn.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(yr(this.i,this.B),this.M!=2&&(li(),Te(17)),En(this),this.m=2,Dn(this)):na(this,this.T-u)};function Dn(u){u.j.I==0||u.K||fu(u.j,u)}function En(u){mi(u);var m=u.O;m&&typeof m.dispose=="function"&&m.dispose(),u.O=null,go(u.V),u.g&&(m=u.g,u.g=null,m.abort(),m.dispose())}function gi(u,m){try{var v=u.j;if(v.I!=0&&(v.g==u||yi(v.h,u))){if(!u.L&&yi(v.h,u)&&v.I==3){try{var b=v.Ba.g.parse(m)}catch{b=null}if(Array.isArray(b)&&b.length==3){var P=b;if(P[0]==0){t:if(!v.v){if(v.g)if(v.g.F+3e3<u.F)ca(v),As(v);else break t;Cr(v),Te(18)}}else v.xa=P[1],0<v.xa-v.K&&P[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=ci(y(v.Va,v),6e3));pi(v.h)<=1&&v.ta&&(v.ta=void 0)}else Si(v,11)}else if((u.L||v.g==u)&&ca(v),!R(m))for(P=v.Ba.g.parse(m),m=0;m<P.length;m++){let Gt=P[m];const ae=Gt[0];if(!(ae<=v.K))if(v.K=ae,Gt=Gt[1],v.I==2)if(Gt[0]=="c"){v.M=Gt[1],v.ba=Gt[2];const Vn=Gt[3];Vn!=null&&(v.ka=Vn,v.j.info("VER="+v.ka));const Ai=Gt[4];Ai!=null&&(v.za=Ai,v.j.info("SVER="+v.za));const Wn=Gt[5];Wn!=null&&typeof Wn=="number"&&Wn>0&&(b=1.5*Wn,v.O=b,v.j.info("backChannelRequestTimeoutMs_="+b)),b=v;const ti=u.g;if(ti){const Ir=ti.g?ti.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ir){var q=b.h;q.g||Ir.indexOf("spdy")==-1&&Ir.indexOf("quic")==-1&&Ir.indexOf("h2")==-1||(q.j=q.l,q.g=new Set,q.h&&(Eo(q,q.h),q.h=null))}if(b.G){const ha=ti.g?ti.g.getResponseHeader("X-HTTP-Session-Id"):null;ha&&(b.wa=ha,Kt(b.J,b.G,ha))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-u.F,v.j.info("Handshake RTT: "+v.T+"ms")),b=v;var et=u;if(b.na=gu(b,b.L?b.ba:null,b.W),et.L){To(b.h,et);var St=et,pe=b.O;pe&&(St.H=pe),St.D&&(mi(St),di(St)),b.g=et}else cu(b);v.i.length>0&&bi(v)}else Gt[0]!="stop"&&Gt[0]!="close"||Si(v,7);else v.I==3&&(Gt[0]=="stop"||Gt[0]=="close"?Gt[0]=="stop"?Si(v,7):xo(v):Gt[0]!="noop"&&v.l&&v.l.qa(Gt),v.A=0)}}li(4)}catch{}}var Se=class{constructor(u,m){this.g=u,this.map=m}};function _o(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function vo(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function pi(u){return u.h?1:u.g?u.g.size:0}function yi(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function Eo(u,m){u.g?u.g.add(m):u.h=m}function To(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}_o.prototype.cancel=function(){if(this.i=bo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function bo(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const v of u.g.values())m=m.concat(v.G);return m}return Q(u.i)}var su=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ia(u,m){if(u){u=u.split("&");for(let v=0;v<u.length;v++){const b=u[v].indexOf("=");let P,q=null;b>=0?(P=u[v].substring(0,b),q=u[v].substring(b+1)):P=u[v],m(P,q?decodeURIComponent(q.replace(/\+/g," ")):"")}}}function Tn(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;u instanceof Tn?(this.l=u.l,ze(this,u.j),this.o=u.o,this.g=u.g,ys(this,u.u),this.h=u.h,So(this,lu(u.i)),this.m=u.m):u&&(m=String(u).match(su))?(this.l=!1,ze(this,m[1]||"",!0),this.o=_i(m[2]||""),this.g=_i(m[3]||"",!0),ys(this,m[4]),this.h=_i(m[5]||"",!0),So(this,m[6]||"",!0),this.m=_i(m[7]||"")):(this.l=!1,this.i=new vs(null,this.l))}Tn.prototype.toString=function(){const u=[];var m=this.j;m&&u.push(Tr(m,sa,!0),":");var v=this.g;return(v||m=="file")&&(u.push("//"),(m=this.o)&&u.push(Tr(m,sa,!0),"@"),u.push(zi(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&u.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&u.push("/"),u.push(Tr(v,v.charAt(0)=="/"?Ao:ru,!0))),(v=this.i.toString())&&u.push("?",v),(v=this.m)&&u.push("#",Tr(v,au)),u.join("")},Tn.prototype.resolve=function(u){const m=Ae(this);let v=!!u.j;v?ze(m,u.j):v=!!u.o,v?m.o=u.o:v=!!u.g,v?m.g=u.g:v=u.u!=null;var b=u.h;if(v)ys(m,u.u);else if(v=!!u.h){if(b.charAt(0)!="/")if(this.g&&!this.h)b="/"+b;else{var P=m.h.lastIndexOf("/");P!=-1&&(b=m.h.slice(0,P+1)+b)}if(P=b,P==".."||P==".")b="";else if(P.indexOf("./")!=-1||P.indexOf("/.")!=-1){b=P.lastIndexOf("/",0)==0,P=P.split("/");const q=[];for(let et=0;et<P.length;){const St=P[et++];St=="."?b&&et==P.length&&q.push(""):St==".."?((q.length>1||q.length==1&&q[0]!="")&&q.pop(),b&&et==P.length&&q.push("")):(q.push(St),b=!0)}b=q.join("/")}else b=P}return v?m.h=b:v=u.i.toString()!=="",v?So(m,lu(u.i)):v=!!u.m,v&&(m.m=u.m),m};function Ae(u){return new Tn(u)}function ze(u,m,v){u.j=v?_i(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function ys(u,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);u.u=m}else u.u=null}function So(u,m,v){m instanceof vs?(u.i=m,aa(u.i,u.l)):(v||(m=Tr(m,_s)),u.i=new vs(m,u.l))}function Kt(u,m,v){u.i.set(m,v)}function Er(u){return Kt(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function _i(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Tr(u,m,v){return typeof u=="string"?(u=encodeURI(u).replace(m,un),v&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function un(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var sa=/[#\/\?@]/g,ru=/[#\?:]/g,Ao=/[#\?]/g,_s=/[#\?@]/g,au=/#/g;function vs(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function cn(u){u.g||(u.g=new Map,u.h=0,u.i&&ia(u.i,function(m,v){u.add(decodeURIComponent(m.replace(/\+/g," ")),v)}))}r=vs.prototype,r.add=function(u,m){cn(this),this.i=null,u=Es(this,u);let v=this.g.get(u);return v||this.g.set(u,v=[]),v.push(m),this.h+=1,this};function ou(u,m){cn(u),m=Es(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function wo(u,m){return cn(u),m=Es(u,m),u.g.has(m)}r.forEach=function(u,m){cn(this),this.g.forEach(function(v,b){v.forEach(function(P){u.call(m,P,b,this)},this)},this)};function Ro(u,m){cn(u);let v=[];if(typeof m=="string")wo(u,m)&&(v=v.concat(u.g.get(Es(u,m))));else for(u=Array.from(u.g.values()),m=0;m<u.length;m++)v=v.concat(u[m]);return v}r.set=function(u,m){return cn(this),this.i=null,u=Es(this,u),wo(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},r.get=function(u,m){return u?(u=Ro(this,u),u.length>0?String(u[0]):m):m};function ra(u,m,v){ou(u,m),v.length>0&&(u.i=null,u.g.set(Es(u,m),Q(v)),u.h+=v.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(let b=0;b<m.length;b++){var v=m[b];const P=zi(v);v=Ro(this,v);for(let q=0;q<v.length;q++){let et=P;v[q]!==""&&(et+="="+zi(v[q])),u.push(et)}}return this.i=u.join("&")};function lu(u){const m=new vs;return m.i=u.i,u.g&&(m.g=new Map(u.g),m.h=u.h),m}function Es(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function aa(u,m){m&&!u.j&&(cn(u),u.i=null,u.g.forEach(function(v,b){const P=b.toLowerCase();b!=P&&(ou(this,b),ra(this,P,v))},u)),u.j=m}function $n(u,m){const v=new Kn;if(d.Image){const b=new Image;b.onload=E(On,v,"TestLoadImage: loaded",!0,m,b),b.onerror=E(On,v,"TestLoadImage: error",!1,m,b),b.onabort=E(On,v,"TestLoadImage: abort",!1,m,b),b.ontimeout=E(On,v,"TestLoadImage: timeout",!1,m,b),d.setTimeout(function(){b.ontimeout&&b.ontimeout()},1e4),b.src=u}else m(!1)}function Co(u,m){const v=new Kn,b=new AbortController,P=setTimeout(()=>{b.abort(),On(v,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:b.signal}).then(q=>{clearTimeout(P),q.ok?On(v,"TestPingServer: ok",!0,m):On(v,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(P),On(v,"TestPingServer: error",!1,m)})}function On(u,m,v,b,P){try{P&&(P.onload=null,P.onerror=null,P.onabort=null,P.ontimeout=null),b(v)}catch{}}function Ts(){this.g=new Xl}function vi(u){this.i=u.Sb||null,this.h=u.ab||!1}w(vi,$l),vi.prototype.g=function(){return new br(this.i,this.h)};function br(u,m){Ee.call(this),this.H=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}w(br,Ee),r=br.prototype,r.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=m,this.readyState=1,Zn(this)},r.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(m.body=u),(this.H||d).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,bs(this)),this.readyState=0},r.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Zn(this)),this.g&&(this.readyState=3,Zn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;oa(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function oa(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}r.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?bs(this):Zn(this),this.readyState==3&&oa(this)}},r.Oa=function(u){this.g&&(this.response=this.responseText=u,bs(this))},r.Na=function(u){this.g&&(this.response=u,bs(this))},r.ga=function(){this.g&&bs(this)};function bs(u){u.readyState=4,u.l=null,u.j=null,u.B=null,Zn(u)}r.setRequestHeader=function(u,m){this.A.append(u,m)},r.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var v=m.next();!v.done;)v=v.value,u.push(v[0]+": "+v[1]),v=m.next();return u.join(`\r
`)};function Zn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(br.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Mn(u){let m="";return xt(u,function(v,b){m+=b,m+=":",m+=v,m+=`\r
`}),m}function Sr(u,m,v){t:{for(b in v){var b=!1;break t}b=!0}b||(v=Mn(v),typeof u=="string"?v!=null&&zi(v):Kt(u,m,v))}function Zt(u){Ee.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}w(Zt,Ee);var Ei=/^https?$/i,Io=["POST","PUT"];r=Zt.prototype,r.Fa=function(u){this.H=u},r.ea=function(u,m,v,b){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():yo.g(),this.g.onreadystatechange=M(y(this.Ca,this));try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(q){Ar(this,q);return}if(u=v||"",v=new Map(this.headers),b)if(Object.getPrototypeOf(b)===Object.prototype)for(var P in b)v.set(P,b[P]);else if(typeof b.keys=="function"&&typeof b.get=="function")for(const q of b.keys())v.set(q,b.get(q));else throw Error("Unknown input type for opt_headers: "+String(b));b=Array.from(v.keys()).find(q=>q.toLowerCase()=="content-type"),P=d.FormData&&u instanceof d.FormData,!(Array.prototype.indexOf.call(Io,m,void 0)>=0)||b||P||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[q,et]of v)this.g.setRequestHeader(q,et);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(q){Ar(this,q)}};function Ar(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.o=5,No(u),ji(u)}function No(u){u.A||(u.A=!0,Ve(u,"complete"),Ve(u,"error"))}r.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,Ve(this,"complete"),Ve(this,"abort"),ji(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ji(this,!0)),Zt.Z.N.call(this)},r.Ca=function(){this.u||(this.B||this.v||this.j?wr(this):this.Xa())},r.Xa=function(){wr(this)};function wr(u){if(u.h&&typeof c<"u"){if(u.v&&Jn(u)==4)setTimeout(u.Ca.bind(u),0);else if(Ve(u,"readystatechange"),Jn(u)==4){u.h=!1;try{const q=u.ca();t:switch(q){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var v;if(!(v=m)){var b;if(b=q===0){let et=String(u.D).match(su)[1]||null;!et&&d.self&&d.self.location&&(et=d.self.location.protocol.slice(0,-1)),b=!Ei.test(et?et.toLowerCase():"")}v=b}if(v)Ve(u,"complete"),Ve(u,"success");else{u.o=6;try{var P=Jn(u)>2?u.g.statusText:""}catch{P=""}u.l=P+" ["+u.ca()+"]",No(u)}}finally{ji(u)}}}}function ji(u,m){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const v=u.g;u.g=null,m||Ve(u,"ready");try{v.onreadystatechange=null}catch{}}}r.isActive=function(){return!!this.g};function Jn(u){return u.g?u.g.readyState:0}r.ca=function(){try{return Jn(this)>2?this.g.status:-1}catch{return-1}},r.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.La=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),Nh(m)}};function He(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Bi(u){const m={};u=(u.g&&Jn(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let b=0;b<u.length;b++){if(R(u[b]))continue;var v=eu(u[b]);const P=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const q=m[P]||[];m[P]=q,q.push(v)}jt(m,function(b){return b.join(", ")})}r.ya=function(){return this.o},r.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ti(u,m,v){return v&&v.internalChannelParams&&v.internalChannelParams[u]||m}function Ss(u){this.za=0,this.i=[],this.j=new Kn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Ti("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Ti("baseRetryDelayMs",5e3,u),this.Za=Ti("retryDelaySeedMs",1e4,u),this.Ta=Ti("forwardChannelMaxRetries",2,u),this.va=Ti("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new _o(u&&u.concurrentRequestLimit),this.Ba=new Ts,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}r=Ss.prototype,r.ka=8,r.I=1,r.connect=function(u,m,v,b){Te(0),this.W=u,this.H=m||{},v&&b!==void 0&&(this.H.OSID=v,this.H.OAID=b),this.F=this.X,this.J=gu(this,null,this.W),bi(this)};function xo(u){if(la(u),u.I==3){var m=u.V++,v=Ae(u.J);if(Kt(v,"SID",u.M),Kt(v,"RID",m),Kt(v,"TYPE","terminate"),Rr(u,v),m=new Yn(u,u.j,m),m.M=2,m.A=Er(Ae(v)),v=!1,d.navigator&&d.navigator.sendBeacon)try{v=d.navigator.sendBeacon(m.A.toString(),"")}catch{}!v&&d.Image&&(new Image().src=m.A,v=!0),v||(m.g=pu(m.j,null),m.g.ea(m.A)),m.F=Date.now(),di(m)}mu(u)}function As(u){u.g&&(Oo(u),u.g.cancel(),u.g=null)}function la(u){As(u),u.v&&(d.clearTimeout(u.v),u.v=null),ca(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&d.clearTimeout(u.m),u.m=null)}function bi(u){if(!vo(u.h)&&!u.m){u.m=!0;var m=u.Ea;zt||A(),Ut||(zt(),Ut=!0),x.add(m,u),u.D=0}}function ua(u,m){return pi(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=m.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=ci(y(u.Ea,u,m),du(u,u.D)),u.D++,!0)}r.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const P=new Yn(this,this.j,u);let q=this.o;if(this.U&&(q?(q=S(q),$(q,this.U)):q=this.U),this.u!==null||this.R||(P.J=q,q=null),this.S)t:{for(var m=0,v=0;v<this.i.length;v++){e:{var b=this.i[v];if("__data__"in b.map&&(b=b.map.__data__,typeof b=="string")){b=b.length;break e}b=void 0}if(b===void 0)break;if(m+=b,m>4096){m=v;break t}if(m===4096||v===this.i.length-1){m=v+1;break t}}m=1e3}else m=1e3;m=uu(this,P,m),v=Ae(this.J),Kt(v,"RID",u),Kt(v,"CVER",22),this.G&&Kt(v,"X-HTTP-Session-Id",this.G),Rr(this,v),q&&(this.R?m="headers="+zi(Mn(q))+"&"+m:this.u&&Sr(v,this.u,q)),Eo(this.h,P),this.Ra&&Kt(v,"TYPE","init"),this.S?(Kt(v,"$req",m),Kt(v,"SID","null"),P.U=!0,fi(P,v,null)):fi(P,v,m),this.I=2}}else this.I==3&&(u?Do(this,u):this.i.length==0||vo(this.h)||Do(this))};function Do(u,m){var v;m?v=m.l:v=u.V++;const b=Ae(u.J);Kt(b,"SID",u.M),Kt(b,"RID",v),Kt(b,"AID",u.K),Rr(u,b),u.u&&u.o&&Sr(b,u.u,u.o),v=new Yn(u,u.j,v,u.D+1),u.u===null&&(v.J=u.o),m&&(u.i=m.G.concat(u.i)),m=uu(u,v,1e3),v.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),Eo(u.h,v),fi(v,b,m)}function Rr(u,m){u.H&&xt(u.H,function(v,b){Kt(m,b,v)}),u.l&&xt({},function(v,b){Kt(m,b,v)})}function uu(u,m,v){v=Math.min(u.i.length,v);const b=u.l?y(u.l.Ka,u.l,u):null;t:{var P=u.i;let St=-1;for(;;){const pe=["count="+v];St==-1?v>0?(St=P[0].g,pe.push("ofs="+St)):St=0:pe.push("ofs="+St);let Gt=!0;for(let ae=0;ae<v;ae++){var q=P[ae].g;const Vn=P[ae].map;if(q-=St,q<0)St=Math.max(0,P[ae].g-100),Gt=!1;else try{q="req"+q+"_"||"";try{var et=Vn instanceof Map?Vn:Object.entries(Vn);for(const[Ai,Wn]of et){let ti=Wn;p(Wn)&&(ti=ps(Wn)),pe.push(q+Ai+"="+encodeURIComponent(ti))}}catch(Ai){throw pe.push(q+"type="+encodeURIComponent("_badmap")),Ai}}catch{b&&b(Vn)}}if(Gt){et=pe.join("&");break t}}et=void 0}return u=u.i.splice(0,v),m.G=u,et}function cu(u){if(!u.g&&!u.v){u.Y=1;var m=u.Da;zt||A(),Ut||(zt(),Ut=!0),x.add(m,u),u.A=0}}function Cr(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=ci(y(u.Da,u),du(u,u.A)),u.A++,!0)}r.Da=function(){if(this.v=null,hu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=ci(y(this.Wa,this),u)}},r.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Te(10),As(this),hu(this))};function Oo(u){u.B!=null&&(d.clearTimeout(u.B),u.B=null)}function hu(u){u.g=new Yn(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var m=Ae(u.na);Kt(m,"RID","rpc"),Kt(m,"SID",u.M),Kt(m,"AID",u.K),Kt(m,"CI",u.F?"0":"1"),!u.F&&u.ia&&Kt(m,"TO",u.ia),Kt(m,"TYPE","xmlhttp"),Rr(u,m),u.u&&u.o&&Sr(m,u.u,u.o),u.O&&(u.g.H=u.O);var v=u.g;u=u.ba,v.M=1,v.A=Er(Ae(m)),v.u=null,v.R=!0,ea(v,u)}r.Va=function(){this.C!=null&&(this.C=null,As(this),Cr(this),Te(19))};function ca(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function fu(u,m){var v=null;if(u.g==m){ca(u),Oo(u),u.g=null;var b=2}else if(yi(u.h,m))v=m.G,To(u.h,m),b=1;else return;if(u.I!=0){if(m.o)if(b==1){v=m.u?m.u.length:0,m=Date.now()-m.F;var P=u.D;b=ta(),Ve(b,new ui(b,v)),bi(u)}else cu(u);else if(P=m.m,P==3||P==0&&m.X>0||!(b==1&&ua(u,m)||b==2&&Cr(u)))switch(v&&v.length>0&&(m=u.h,m.i=m.i.concat(v)),P){case 1:Si(u,5);break;case 4:Si(u,10);break;case 3:Si(u,6);break;default:Si(u,2)}}}function du(u,m){let v=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(v*=2),v*m}function Si(u,m){if(u.j.info("Error code "+m),m==2){var v=y(u.bb,u),b=u.Ua;const P=!b;b=new Tn(b||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||ze(b,"https"),Er(b),P?$n(b.toString(),v):Co(b.toString(),v)}else Te(2);u.I=0,u.l&&u.l.pa(m),mu(u),la(u)}r.bb=function(u){u?(this.j.info("Successfully pinged google.com"),Te(2)):(this.j.info("Failed to ping google.com"),Te(1))};function mu(u){if(u.I=0,u.ja=[],u.l){const m=bo(u.h);(m.length!=0||u.i.length!=0)&&(tt(u.ja,m),tt(u.ja,u.i),u.h.i.length=0,Q(u.i),u.i.length=0),u.l.oa()}}function gu(u,m,v){var b=v instanceof Tn?Ae(v):new Tn(v);if(b.g!="")m&&(b.g=m+"."+b.g),ys(b,b.u);else{var P=d.location;b=P.protocol,m=m?m+"."+P.hostname:P.hostname,P=+P.port;const q=new Tn(null);b&&ze(q,b),m&&(q.g=m),P&&ys(q,P),v&&(q.h=v),b=q}return v=u.G,m=u.wa,v&&m&&Kt(b,v,m),Kt(b,"VER",u.ka),Rr(u,b),b}function pu(u,m,v){if(m&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Aa&&!u.ma?new Zt(new vi({ab:v})):new Zt(u.ma),m.Fa(u.L),m}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function yu(){}r=yu.prototype,r.ra=function(){},r.qa=function(){},r.pa=function(){},r.oa=function(){},r.isActive=function(){return!0},r.Ka=function(){};function ws(){}ws.prototype.g=function(u,m){return new sn(u,m)};function sn(u,m){Ee.call(this),this.g=new Ss(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(u?u["X-WebChannel-Client-Profile"]=m.sa:u={"X-WebChannel-Client-Profile":m.sa}),this.g.U=u,(u=m&&m.Qb)&&!R(u)&&(this.g.u=u),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!R(m)&&(this.g.G=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new qi(this)}w(sn,Ee),sn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},sn.prototype.close=function(){xo(this.g)},sn.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var v={};v.__data__=u,u=v}else this.v&&(v={},v.__data__=ps(u),u=v);m.i.push(new Se(m.Ya++,u)),m.I==3&&bi(m)},sn.prototype.N=function(){this.g.l=null,delete this.j,xo(this.g),delete this.g,sn.Z.N.call(this)};function _u(u){qe.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){t:{for(const v in m){u=v;break t}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}w(_u,qe);function vu(){xn.call(this),this.status=1}w(vu,xn);function qi(u){this.g=u}w(qi,yu),qi.prototype.ra=function(){Ve(this.g,"a")},qi.prototype.qa=function(u){Ve(this.g,new _u(u))},qi.prototype.pa=function(u){Ve(this.g,new vu)},qi.prototype.oa=function(){Ve(this.g,"b")},ws.prototype.createWebChannel=ws.prototype.g,sn.prototype.send=sn.prototype.o,sn.prototype.open=sn.prototype.m,sn.prototype.close=sn.prototype.close,vE=function(){return new ws},_E=function(){return ta()},yE=ge,nm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},_r.NO_ERROR=0,_r.TIMEOUT=8,_r.HTTP_ERROR=6,kc=_r,po.COMPLETE="complete",pE=po,Zl.EventType=Qn,Qn.OPEN="a",Qn.CLOSE="b",Qn.ERROR="c",Qn.MESSAGE="d",Ee.prototype.listen=Ee.prototype.J,yl=Zl,Zt.prototype.listenOnce=Zt.prototype.K,Zt.prototype.getLastError=Zt.prototype.Ha,Zt.prototype.getLastErrorCode=Zt.prototype.ya,Zt.prototype.getStatus=Zt.prototype.ca,Zt.prototype.getResponseJson=Zt.prototype.La,Zt.prototype.getResponseText=Zt.prototype.la,Zt.prototype.send=Zt.prototype.ea,Zt.prototype.setWithCredentials=Zt.prototype.Fa,gE=Zt}).apply(typeof Ac<"u"?Ac:typeof self<"u"?self:typeof window<"u"?window:{});const y0="@firebase/firestore",_0="4.9.3";let We=class{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}};We.UNAUTHENTICATED=new We(null),We.GOOGLE_CREDENTIALS=new We("google-credentials-uid"),We.FIRST_PARTY=new We("first-party-uid"),We.MOCK_USER=new We("mock-user");let lo="12.7.0";const Xr=new Sm("@firebase/firestore");function Ba(){return Xr.logLevel}function rt(r,...t){if(Xr.logLevel<=Mt.DEBUG){const i=t.map(Vm);Xr.debug(`Firestore (${lo}): ${r}`,...i)}}function hs(r,...t){if(Xr.logLevel<=Mt.ERROR){const i=t.map(Vm);Xr.error(`Firestore (${lo}): ${r}`,...i)}}function Ja(r,...t){if(Xr.logLevel<=Mt.WARN){const i=t.map(Vm);Xr.warn(`Firestore (${lo}): ${r}`,...i)}}function Vm(r){if(typeof r=="string")return r;try{return(function(i){return JSON.stringify(i)})(r)}catch{return r}}function yt(r,t,i){let a="Unexpected state";typeof t=="string"?a=t:i=t,EE(r,a,i)}function EE(r,t,i){let a=`FIRESTORE (${lo}) INTERNAL ASSERTION FAILED: ${t} (ID: ${r.toString(16)})`;if(i!==void 0)try{a+=" CONTEXT: "+JSON.stringify(i)}catch{a+=" CONTEXT: "+i}throw hs(a),new Error(a)}function Qt(r,t,i,a){let l="Unexpected state";typeof i=="string"?l=i:a=i,r||EE(t,l,a)}function bt(r,t){return r}const Z={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ut extends ds{constructor(t,i){super(t,i),this.code=t,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class sr{constructor(){this.promise=new Promise(((t,i)=>{this.resolve=t,this.reject=i}))}}class TE{constructor(t,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class b2{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,i){t.enqueueRetryable((()=>i(We.UNAUTHENTICATED)))}shutdown(){}}class S2{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,i){this.changeListener=i,t.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class A2{constructor(t){this.t=t,this.currentUser=We.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,i){Qt(this.o===void 0,42304);let a=this.i;const l=_=>this.i!==a?(a=this.i,i(_)):Promise.resolve();let c=new sr;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new sr,t.enqueueRetryable((()=>l(this.currentUser)))};const d=()=>{const _=c;t.enqueueRetryable((async()=>{await _.promise,await l(this.currentUser)}))},p=_=>{rt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=_,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((_=>p(_))),setTimeout((()=>{if(!this.auth){const _=this.t.getImmediate({optional:!0});_?p(_):(rt("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new sr)}}),0),d()}getToken(){const t=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((a=>this.i!==t?(rt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(Qt(typeof a.accessToken=="string",31837,{l:a}),new TE(a.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Qt(t===null||typeof t=="string",2055,{h:t}),new We(t)}}class w2{constructor(t,i,a){this.P=t,this.T=i,this.I=a,this.type="FirstParty",this.user=We.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class R2{constructor(t,i,a){this.P=t,this.T=i,this.I=a}getToken(){return Promise.resolve(new w2(this.P,this.T,this.I))}start(t,i){t.enqueueRetryable((()=>i(We.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class v0{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class C2{constructor(t,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Gn(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,i){Qt(this.o===void 0,3512);const a=c=>{c.error!=null&&rt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.m;return this.m=c.token,rt("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(c.token):Promise.resolve()};this.o=c=>{t.enqueueRetryable((()=>a(c)))};const l=c=>{rt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>l(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?l(c):rt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new v0(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((i=>i?(Qt(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new v0(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function I2(r){const t=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(r);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(i);else for(let a=0;a<r;a++)i[a]=Math.floor(256*Math.random());return i}class km{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const l=I2(40);for(let c=0;c<l.length;++c)a.length<20&&l[c]<i&&(a+=t.charAt(l[c]%62))}return a}}function Vt(r,t){return r<t?-1:r>t?1:0}function im(r,t){const i=Math.min(r.length,t.length);for(let a=0;a<i;a++){const l=r.charAt(a),c=t.charAt(a);if(l!==c)return jd(l)===jd(c)?Vt(l,c):jd(l)?1:-1}return Vt(r.length,t.length)}const N2=55296,x2=57343;function jd(r){const t=r.charCodeAt(0);return t>=N2&&t<=x2}function Wa(r,t,i){return r.length===t.length&&r.every(((a,l)=>i(a,t[l])))}const E0="__name__";class Ni{constructor(t,i,a){i===void 0?i=0:i>t.length&&yt(637,{offset:i,range:t.length}),a===void 0?a=t.length-i:a>t.length-i&&yt(1746,{length:a,range:t.length-i}),this.segments=t,this.offset=i,this.len=a}get length(){return this.len}isEqual(t){return Ni.comparator(this,t)===0}child(t){const i=this.segments.slice(this.offset,this.limit());return t instanceof Ni?t.forEach((a=>{i.push(a)})):i.push(t),this.construct(i)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}forEach(t){for(let i=this.offset,a=this.limit();i<a;i++)t(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,i){const a=Math.min(t.length,i.length);for(let l=0;l<a;l++){const c=Ni.compareSegments(t.get(l),i.get(l));if(c!==0)return c}return Vt(t.length,i.length)}static compareSegments(t,i){const a=Ni.isNumericId(t),l=Ni.isNumericId(i);return a&&!l?-1:!a&&l?1:a&&l?Ni.extractNumericId(t).compare(Ni.extractNumericId(i)):im(t,i)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return ir.fromString(t.substring(4,t.length-2))}}class ue extends Ni{construct(t,i,a){return new ue(t,i,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const i=[];for(const a of t){if(a.indexOf("//")>=0)throw new ut(Z.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);i.push(...a.split("/").filter((l=>l.length>0)))}return new ue(i)}static emptyPath(){return new ue([])}}const D2=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Xe extends Ni{construct(t,i,a){return new Xe(t,i,a)}static isValidIdentifier(t){return D2.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Xe.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===E0}static keyField(){return new Xe([E0])}static fromServerFormat(t){const i=[];let a="",l=0;const c=()=>{if(a.length===0)throw new ut(Z.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(a),a=""};let d=!1;for(;l<t.length;){const p=t[l];if(p==="\\"){if(l+1===t.length)throw new ut(Z.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const _=t[l+1];if(_!=="\\"&&_!=="."&&_!=="`")throw new ut(Z.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);a+=_,l+=2}else p==="`"?(d=!d,l++):p!=="."||d?(a+=p,l++):(c(),l++)}if(c(),d)throw new ut(Z.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Xe(i)}static emptyPath(){return new Xe([])}}class gt{constructor(t){this.path=t}static fromPath(t){return new gt(ue.fromString(t))}static fromName(t){return new gt(ue.fromString(t).popFirst(5))}static empty(){return new gt(ue.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&ue.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,i){return ue.comparator(t.path,i.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new gt(new ue(t.slice()))}}function O2(r,t,i){if(!i)throw new ut(Z.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${t}.`)}function M2(r,t,i,a){if(t===!0&&a===!0)throw new ut(Z.INVALID_ARGUMENT,`${r} and ${i} cannot be used together.`)}function T0(r){if(!gt.isDocumentKey(r))throw new ut(Z.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function bE(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function Um(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const t=(function(a){return a.constructor?a.constructor.name:null})(r);return t?`a custom ${t} object`:"an object"}}return typeof r=="function"?"a function":yt(12329,{type:typeof r})}function ri(r,t){if("_delegate"in r&&(r=r._delegate),!(r instanceof t)){if(t.name===r.constructor.name)throw new ut(Z.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=Um(r);throw new ut(Z.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${i}`)}}return r}function xe(r,t){const i={typeString:r};return t&&(i.value=t),i}function ql(r,t){if(!bE(r))throw new ut(Z.INVALID_ARGUMENT,"JSON must be an object");let i;for(const a in t)if(t[a]){const l=t[a].typeString,c="value"in t[a]?{value:t[a].value}:void 0;if(!(a in r)){i=`JSON missing required field: '${a}'`;break}const d=r[a];if(l&&typeof d!==l){i=`JSON field '${a}' must be a ${l}.`;break}if(c!==void 0&&d!==c.value){i=`Expected '${a}' field to equal '${c.value}'`;break}}if(i)throw new ut(Z.INVALID_ARGUMENT,i);return!0}const b0=-62135596800,S0=1e6;class re{static now(){return re.fromMillis(Date.now())}static fromDate(t){return re.fromMillis(t.getTime())}static fromMillis(t){const i=Math.floor(t/1e3),a=Math.floor((t-1e3*i)*S0);return new re(i,a)}constructor(t,i){if(this.seconds=t,this.nanoseconds=i,i<0)throw new ut(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new ut(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(t<b0)throw new ut(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new ut(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/S0}_compareTo(t){return this.seconds===t.seconds?Vt(this.nanoseconds,t.nanoseconds):Vt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:re._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(ql(t,re._jsonSchema))return new re(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-b0;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}re._jsonSchemaVersion="firestore/timestamp/1.0",re._jsonSchema={type:xe("string",re._jsonSchemaVersion),seconds:xe("number"),nanoseconds:xe("number")};class Et{static fromTimestamp(t){return new Et(t)}static min(){return new Et(new re(0,0))}static max(){return new Et(new re(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Nl=-1;function V2(r,t){const i=r.toTimestamp().seconds,a=r.toTimestamp().nanoseconds+1,l=Et.fromTimestamp(a===1e9?new re(i+1,0):new re(i,a));return new ar(l,gt.empty(),t)}function k2(r){return new ar(r.readTime,r.key,Nl)}class ar{constructor(t,i,a){this.readTime=t,this.documentKey=i,this.largestBatchId=a}static min(){return new ar(Et.min(),gt.empty(),Nl)}static max(){return new ar(Et.max(),gt.empty(),Nl)}}function U2(r,t){let i=r.readTime.compareTo(t.readTime);return i!==0?i:(i=gt.comparator(r.documentKey,t.documentKey),i!==0?i:Vt(r.largestBatchId,t.largestBatchId))}const L2="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class P2{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}async function uo(r){if(r.code!==Z.FAILED_PRECONDITION||r.message!==L2)throw r;rt("LocalStore","Unexpectedly lost primary lease")}class X{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(t){return this.next(void 0,t)}next(t,i){return this.callbackAttached&&yt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(t,this.result):new X(((a,l)=>{this.nextCallback=c=>{this.wrapSuccess(t,c).next(a,l)},this.catchCallback=c=>{this.wrapFailure(i,c).next(a,l)}}))}toPromise(){return new Promise(((t,i)=>{this.next(t,i)}))}wrapUserFunction(t){try{const i=t();return i instanceof X?i:X.resolve(i)}catch(i){return X.reject(i)}}wrapSuccess(t,i){return t?this.wrapUserFunction((()=>t(i))):X.resolve(i)}wrapFailure(t,i){return t?this.wrapUserFunction((()=>t(i))):X.reject(i)}static resolve(t){return new X(((i,a)=>{i(t)}))}static reject(t){return new X(((i,a)=>{a(t)}))}static waitFor(t){return new X(((i,a)=>{let l=0,c=0,d=!1;t.forEach((p=>{++l,p.next((()=>{++c,d&&c===l&&i()}),(_=>a(_)))})),d=!0,c===l&&i()}))}static or(t){let i=X.resolve(!1);for(const a of t)i=i.next((l=>l?X.resolve(l):a()));return i}static forEach(t,i){const a=[];return t.forEach(((l,c)=>{a.push(i.call(this,l,c))})),this.waitFor(a)}static mapArray(t,i){return new X(((a,l)=>{const c=t.length,d=new Array(c);let p=0;for(let _=0;_<c;_++){const y=_;i(t[y]).next((E=>{d[y]=E,++p,p===c&&a(d)}),(E=>l(E)))}}))}static doWhile(t,i){return new X(((a,l)=>{const c=()=>{t()===!0?i().next((()=>{c()}),l):a()};c()}))}}function z2(r){const t=r.match(/Android ([\d.]+)/i),i=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function co(r){return r.name==="IndexedDbTransactionError"}class ch{constructor(t,i){this.previousValue=t,i&&(i.sequenceNumberHandler=a=>this.ae(a),this.ue=a=>i.writeSequenceNumber(a))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}ch.ce=-1;const Lm=-1;function hh(r){return r==null}function Xc(r){return r===0&&1/r==-1/0}function j2(r){return typeof r=="number"&&Number.isInteger(r)&&!Xc(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}const SE="";function B2(r){let t="";for(let i=0;i<r.length;i++)t.length>0&&(t=A0(t)),t=q2(r.get(i),t);return A0(t)}function q2(r,t){let i=t;const a=r.length;for(let l=0;l<a;l++){const c=r.charAt(l);switch(c){case"\0":i+="";break;case SE:i+="";break;default:i+=c}}return i}function A0(r){return r+SE+""}function w0(r){let t=0;for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&t++;return t}function fr(r,t){for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&t(i,r[i])}function AE(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}class ce{constructor(t,i){this.comparator=t,this.root=i||Ye.EMPTY}insert(t,i){return new ce(this.comparator,this.root.insert(t,i,this.comparator).copy(null,null,Ye.BLACK,null,null))}remove(t){return new ce(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Ye.BLACK,null,null))}get(t){let i=this.root;for(;!i.isEmpty();){const a=this.comparator(t,i.key);if(a===0)return i.value;a<0?i=i.left:a>0&&(i=i.right)}return null}indexOf(t){let i=0,a=this.root;for(;!a.isEmpty();){const l=this.comparator(t,a.key);if(l===0)return i+a.left.size;l<0?a=a.left:(i+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((i,a)=>(t(i,a),!1)))}toString(){const t=[];return this.inorderTraversal(((i,a)=>(t.push(`${i}:${a}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new wc(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new wc(this.root,t,this.comparator,!1)}getReverseIterator(){return new wc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new wc(this.root,t,this.comparator,!0)}}class wc{constructor(t,i,a,l){this.isReverse=l,this.nodeStack=[];let c=1;for(;!t.isEmpty();)if(c=i?a(t.key,i):1,i&&l&&(c*=-1),c<0)t=this.isReverse?t.left:t.right;else{if(c===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const i={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Ye{constructor(t,i,a,l,c){this.key=t,this.value=i,this.color=a??Ye.RED,this.left=l??Ye.EMPTY,this.right=c??Ye.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,i,a,l,c){return new Ye(t??this.key,i??this.value,a??this.color,l??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,i,a){let l=this;const c=a(t,l.key);return l=c<0?l.copy(null,null,null,l.left.insert(t,i,a),null):c===0?l.copy(null,i,null,null,null):l.copy(null,null,null,null,l.right.insert(t,i,a)),l.fixUp()}removeMin(){if(this.left.isEmpty())return Ye.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,i){let a,l=this;if(i(t,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(t,i),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),i(t,l.key)===0){if(l.right.isEmpty())return Ye.EMPTY;a=l.right.min(),l=l.copy(a.key,a.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(t,i))}return l.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Ye.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Ye.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,i)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw yt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw yt(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw yt(27949);return t+(this.isRed()?0:1)}}Ye.EMPTY=null,Ye.RED=!0,Ye.BLACK=!1;Ye.EMPTY=new class{constructor(){this.size=0}get key(){throw yt(57766)}get value(){throw yt(16141)}get color(){throw yt(16727)}get left(){throw yt(29726)}get right(){throw yt(36894)}copy(t,i,a,l,c){return this}insert(t,i,a){return new Ye(t,i)}remove(t,i){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Le{constructor(t){this.comparator=t,this.data=new ce(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((i,a)=>(t(i),!1)))}forEachInRange(t,i){const a=this.data.getIteratorFrom(t[0]);for(;a.hasNext();){const l=a.getNext();if(this.comparator(l.key,t[1])>=0)return;i(l.key)}}forEachWhile(t,i){let a;for(a=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();a.hasNext();)if(!t(a.getNext().key))return}firstAfterOrEqual(t){const i=this.data.getIteratorFrom(t);return i.hasNext()?i.getNext().key:null}getIterator(){return new R0(this.data.getIterator())}getIteratorFrom(t){return new R0(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let i=this;return i.size<t.size&&(i=t,t=this),t.forEach((a=>{i=i.add(a)})),i}isEqual(t){if(!(t instanceof Le)||this.size!==t.size)return!1;const i=this.data.getIterator(),a=t.data.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=a.getNext().key;if(this.comparator(l,c)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((i=>{t.push(i)})),t}toString(){const t=[];return this.forEach((i=>t.push(i))),"SortedSet("+t.toString()+")"}copy(t){const i=new Le(this.comparator);return i.data=t,i}}class R0{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Nn{constructor(t){this.fields=t,t.sort(Xe.comparator)}static empty(){return new Nn([])}unionWith(t){let i=new Le(Xe.comparator);for(const a of this.fields)i=i.add(a);for(const a of t)i=i.add(a);return new Nn(i.toArray())}covers(t){for(const i of this.fields)if(i.isPrefixOf(t))return!0;return!1}isEqual(t){return Wa(this.fields,t.fields,((i,a)=>i.isEqual(a)))}}class wE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class $e{constructor(t){this.binaryString=t}static fromBase64String(t){const i=(function(l){try{return atob(l)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new wE("Invalid base64 string: "+c):c}})(t);return new $e(i)}static fromUint8Array(t){const i=(function(l){let c="";for(let d=0;d<l.length;++d)c+=String.fromCharCode(l[d]);return c})(t);return new $e(i)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const a=new Uint8Array(i.length);for(let l=0;l<i.length;l++)a[l]=i.charCodeAt(l);return a})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Vt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}$e.EMPTY_BYTE_STRING=new $e("");const H2=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function or(r){if(Qt(!!r,39018),typeof r=="string"){let t=0;const i=H2.exec(r);if(Qt(!!i,46558,{timestamp:r}),i[1]){let l=i[1];l=(l+"000000000").substr(0,9),t=Number(l)}const a=new Date(r);return{seconds:Math.floor(a.getTime()/1e3),nanos:t}}return{seconds:ve(r.seconds),nanos:ve(r.nanos)}}function ve(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function lr(r){return typeof r=="string"?$e.fromBase64String(r):$e.fromUint8Array(r)}const RE="server_timestamp",CE="__type__",IE="__previous_value__",NE="__local_write_time__";function Pm(r){return(r?.mapValue?.fields||{})[CE]?.stringValue===RE}function fh(r){const t=r.mapValue.fields[IE];return Pm(t)?fh(t):t}function xl(r){const t=or(r.mapValue.fields[NE].timestampValue);return new re(t.seconds,t.nanos)}class G2{constructor(t,i,a,l,c,d,p,_,y,E){this.databaseId=t,this.appId=i,this.persistenceKey=a,this.host=l,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=p,this.longPollingOptions=_,this.useFetchStreams=y,this.isUsingEmulator=E}}const $c="(default)";class Dl{constructor(t,i){this.projectId=t,this.database=i||$c}static empty(){return new Dl("","")}get isDefaultDatabase(){return this.database===$c}isEqual(t){return t instanceof Dl&&t.projectId===this.projectId&&t.database===this.database}}const xE="__type__",F2="__max__",Rc={mapValue:{}},DE="__vector__",Zc="value";function ur(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Pm(r)?4:K2(r)?9007199254740991:Q2(r)?10:11:yt(28295,{value:r})}function Ui(r,t){if(r===t)return!0;const i=ur(r);if(i!==ur(t))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===t.booleanValue;case 4:return xl(r).isEqual(xl(t));case 3:return(function(l,c){if(typeof l.timestampValue=="string"&&typeof c.timestampValue=="string"&&l.timestampValue.length===c.timestampValue.length)return l.timestampValue===c.timestampValue;const d=or(l.timestampValue),p=or(c.timestampValue);return d.seconds===p.seconds&&d.nanos===p.nanos})(r,t);case 5:return r.stringValue===t.stringValue;case 6:return(function(l,c){return lr(l.bytesValue).isEqual(lr(c.bytesValue))})(r,t);case 7:return r.referenceValue===t.referenceValue;case 8:return(function(l,c){return ve(l.geoPointValue.latitude)===ve(c.geoPointValue.latitude)&&ve(l.geoPointValue.longitude)===ve(c.geoPointValue.longitude)})(r,t);case 2:return(function(l,c){if("integerValue"in l&&"integerValue"in c)return ve(l.integerValue)===ve(c.integerValue);if("doubleValue"in l&&"doubleValue"in c){const d=ve(l.doubleValue),p=ve(c.doubleValue);return d===p?Xc(d)===Xc(p):isNaN(d)&&isNaN(p)}return!1})(r,t);case 9:return Wa(r.arrayValue.values||[],t.arrayValue.values||[],Ui);case 10:case 11:return(function(l,c){const d=l.mapValue.fields||{},p=c.mapValue.fields||{};if(w0(d)!==w0(p))return!1;for(const _ in d)if(d.hasOwnProperty(_)&&(p[_]===void 0||!Ui(d[_],p[_])))return!1;return!0})(r,t);default:return yt(52216,{left:r})}}function Ol(r,t){return(r.values||[]).find((i=>Ui(i,t)))!==void 0}function to(r,t){if(r===t)return 0;const i=ur(r),a=ur(t);if(i!==a)return Vt(i,a);switch(i){case 0:case 9007199254740991:return 0;case 1:return Vt(r.booleanValue,t.booleanValue);case 2:return(function(c,d){const p=ve(c.integerValue||c.doubleValue),_=ve(d.integerValue||d.doubleValue);return p<_?-1:p>_?1:p===_?0:isNaN(p)?isNaN(_)?0:-1:1})(r,t);case 3:return C0(r.timestampValue,t.timestampValue);case 4:return C0(xl(r),xl(t));case 5:return im(r.stringValue,t.stringValue);case 6:return(function(c,d){const p=lr(c),_=lr(d);return p.compareTo(_)})(r.bytesValue,t.bytesValue);case 7:return(function(c,d){const p=c.split("/"),_=d.split("/");for(let y=0;y<p.length&&y<_.length;y++){const E=Vt(p[y],_[y]);if(E!==0)return E}return Vt(p.length,_.length)})(r.referenceValue,t.referenceValue);case 8:return(function(c,d){const p=Vt(ve(c.latitude),ve(d.latitude));return p!==0?p:Vt(ve(c.longitude),ve(d.longitude))})(r.geoPointValue,t.geoPointValue);case 9:return I0(r.arrayValue,t.arrayValue);case 10:return(function(c,d){const p=c.fields||{},_=d.fields||{},y=p[Zc]?.arrayValue,E=_[Zc]?.arrayValue,w=Vt(y?.values?.length||0,E?.values?.length||0);return w!==0?w:I0(y,E)})(r.mapValue,t.mapValue);case 11:return(function(c,d){if(c===Rc.mapValue&&d===Rc.mapValue)return 0;if(c===Rc.mapValue)return 1;if(d===Rc.mapValue)return-1;const p=c.fields||{},_=Object.keys(p),y=d.fields||{},E=Object.keys(y);_.sort(),E.sort();for(let w=0;w<_.length&&w<E.length;++w){const M=im(_[w],E[w]);if(M!==0)return M;const Q=to(p[_[w]],y[E[w]]);if(Q!==0)return Q}return Vt(_.length,E.length)})(r.mapValue,t.mapValue);default:throw yt(23264,{he:i})}}function C0(r,t){if(typeof r=="string"&&typeof t=="string"&&r.length===t.length)return Vt(r,t);const i=or(r),a=or(t),l=Vt(i.seconds,a.seconds);return l!==0?l:Vt(i.nanos,a.nanos)}function I0(r,t){const i=r.values||[],a=t.values||[];for(let l=0;l<i.length&&l<a.length;++l){const c=to(i[l],a[l]);if(c)return c}return Vt(i.length,a.length)}function eo(r){return sm(r)}function sm(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(i){const a=or(i);return`time(${a.seconds},${a.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(i){return lr(i).toBase64()})(r.bytesValue):"referenceValue"in r?(function(i){return gt.fromName(i).toString()})(r.referenceValue):"geoPointValue"in r?(function(i){return`geo(${i.latitude},${i.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(i){let a="[",l=!0;for(const c of i.values||[])l?l=!1:a+=",",a+=sm(c);return a+"]"})(r.arrayValue):"mapValue"in r?(function(i){const a=Object.keys(i.fields||{}).sort();let l="{",c=!0;for(const d of a)c?c=!1:l+=",",l+=`${d}:${sm(i.fields[d])}`;return l+"}"})(r.mapValue):yt(61005,{value:r})}function Uc(r){switch(ur(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=fh(r);return t?16+Uc(t):16;case 5:return 2*r.stringValue.length;case 6:return lr(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(a){return(a.values||[]).reduce(((l,c)=>l+Uc(c)),0)})(r.arrayValue);case 10:case 11:return(function(a){let l=0;return fr(a.fields,((c,d)=>{l+=c.length+Uc(d)})),l})(r.mapValue);default:throw yt(13486,{value:r})}}function rm(r){return!!r&&"integerValue"in r}function zm(r){return!!r&&"arrayValue"in r}function N0(r){return!!r&&"nullValue"in r}function x0(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function Lc(r){return!!r&&"mapValue"in r}function Q2(r){return(r?.mapValue?.fields||{})[xE]?.stringValue===DE}function Sl(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const t={mapValue:{fields:{}}};return fr(r.mapValue.fields,((i,a)=>t.mapValue.fields[i]=Sl(a))),t}if(r.arrayValue){const t={arrayValue:{values:[]}};for(let i=0;i<(r.arrayValue.values||[]).length;++i)t.arrayValue.values[i]=Sl(r.arrayValue.values[i]);return t}return{...r}}function K2(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===F2}class _n{constructor(t){this.value=t}static empty(){return new _n({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let i=this.value;for(let a=0;a<t.length-1;++a)if(i=(i.mapValue.fields||{})[t.get(a)],!Lc(i))return null;return i=(i.mapValue.fields||{})[t.lastSegment()],i||null}}set(t,i){this.getFieldsMap(t.popLast())[t.lastSegment()]=Sl(i)}setAll(t){let i=Xe.emptyPath(),a={},l=[];t.forEach(((d,p)=>{if(!i.isImmediateParentOf(p)){const _=this.getFieldsMap(i);this.applyChanges(_,a,l),a={},l=[],i=p.popLast()}d?a[p.lastSegment()]=Sl(d):l.push(p.lastSegment())}));const c=this.getFieldsMap(i);this.applyChanges(c,a,l)}delete(t){const i=this.field(t.popLast());Lc(i)&&i.mapValue.fields&&delete i.mapValue.fields[t.lastSegment()]}isEqual(t){return Ui(this.value,t.value)}getFieldsMap(t){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let a=0;a<t.length;++a){let l=i.mapValue.fields[t.get(a)];Lc(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},i.mapValue.fields[t.get(a)]=l),i=l}return i.mapValue.fields}applyChanges(t,i,a){fr(i,((l,c)=>t[l]=c));for(const l of a)delete t[l]}clone(){return new _n(Sl(this.value))}}function OE(r){const t=[];return fr(r.fields,((i,a)=>{const l=new Xe([i]);if(Lc(a)){const c=OE(a.mapValue).fields;if(c.length===0)t.push(l);else for(const d of c)t.push(l.child(d))}else t.push(l)})),new Nn(t)}class tn{constructor(t,i,a,l,c,d,p){this.key=t,this.documentType=i,this.version=a,this.readTime=l,this.createTime=c,this.data=d,this.documentState=p}static newInvalidDocument(t){return new tn(t,0,Et.min(),Et.min(),Et.min(),_n.empty(),0)}static newFoundDocument(t,i,a,l){return new tn(t,1,i,Et.min(),a,l,0)}static newNoDocument(t,i){return new tn(t,2,i,Et.min(),Et.min(),_n.empty(),0)}static newUnknownDocument(t,i){return new tn(t,3,i,Et.min(),Et.min(),_n.empty(),2)}convertToFoundDocument(t,i){return!this.createTime.isEqual(Et.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=_n.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=_n.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Et.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof tn&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new tn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Jc{constructor(t,i){this.position=t,this.inclusive=i}}function D0(r,t,i){let a=0;for(let l=0;l<r.position.length;l++){const c=t[l],d=r.position[l];if(c.field.isKeyField()?a=gt.comparator(gt.fromName(d.referenceValue),i.key):a=to(d,i.data.field(c.field)),c.dir==="desc"&&(a*=-1),a!==0)break}return a}function O0(r,t){if(r===null)return t===null;if(t===null||r.inclusive!==t.inclusive||r.position.length!==t.position.length)return!1;for(let i=0;i<r.position.length;i++)if(!Ui(r.position[i],t.position[i]))return!1;return!0}class Wc{constructor(t,i="asc"){this.field=t,this.dir=i}}function Y2(r,t){return r.dir===t.dir&&r.field.isEqual(t.field)}class ME{}class Ue extends ME{constructor(t,i,a){super(),this.field=t,this.op=i,this.value=a}static create(t,i,a){return t.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(t,i,a):new $2(t,i,a):i==="array-contains"?new W2(t,a):i==="in"?new tR(t,a):i==="not-in"?new eR(t,a):i==="array-contains-any"?new nR(t,a):new Ue(t,i,a)}static createKeyFieldInFilter(t,i,a){return i==="in"?new Z2(t,a):new J2(t,a)}matches(t){const i=t.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(to(i,this.value)):i!==null&&ur(this.value)===ur(i)&&this.matchesComparison(to(i,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return yt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Li extends ME{constructor(t,i){super(),this.filters=t,this.op=i,this.Pe=null}static create(t,i){return new Li(t,i)}matches(t){return VE(this)?this.filters.find((i=>!i.matches(t)))===void 0:this.filters.find((i=>i.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,i)=>t.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function VE(r){return r.op==="and"}function kE(r){return X2(r)&&VE(r)}function X2(r){for(const t of r.filters)if(t instanceof Li)return!1;return!0}function am(r){if(r instanceof Ue)return r.field.canonicalString()+r.op.toString()+eo(r.value);if(kE(r))return r.filters.map((t=>am(t))).join(",");{const t=r.filters.map((i=>am(i))).join(",");return`${r.op}(${t})`}}function UE(r,t){return r instanceof Ue?(function(a,l){return l instanceof Ue&&a.op===l.op&&a.field.isEqual(l.field)&&Ui(a.value,l.value)})(r,t):r instanceof Li?(function(a,l){return l instanceof Li&&a.op===l.op&&a.filters.length===l.filters.length?a.filters.reduce(((c,d,p)=>c&&UE(d,l.filters[p])),!0):!1})(r,t):void yt(19439)}function LE(r){return r instanceof Ue?(function(i){return`${i.field.canonicalString()} ${i.op} ${eo(i.value)}`})(r):r instanceof Li?(function(i){return i.op.toString()+" {"+i.getFilters().map(LE).join(" ,")+"}"})(r):"Filter"}class $2 extends Ue{constructor(t,i,a){super(t,i,a),this.key=gt.fromName(a.referenceValue)}matches(t){const i=gt.comparator(t.key,this.key);return this.matchesComparison(i)}}class Z2 extends Ue{constructor(t,i){super(t,"in",i),this.keys=PE("in",i)}matches(t){return this.keys.some((i=>i.isEqual(t.key)))}}class J2 extends Ue{constructor(t,i){super(t,"not-in",i),this.keys=PE("not-in",i)}matches(t){return!this.keys.some((i=>i.isEqual(t.key)))}}function PE(r,t){return(t.arrayValue?.values||[]).map((i=>gt.fromName(i.referenceValue)))}class W2 extends Ue{constructor(t,i){super(t,"array-contains",i)}matches(t){const i=t.data.field(this.field);return zm(i)&&Ol(i.arrayValue,this.value)}}class tR extends Ue{constructor(t,i){super(t,"in",i)}matches(t){const i=t.data.field(this.field);return i!==null&&Ol(this.value.arrayValue,i)}}class eR extends Ue{constructor(t,i){super(t,"not-in",i)}matches(t){if(Ol(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=t.data.field(this.field);return i!==null&&i.nullValue===void 0&&!Ol(this.value.arrayValue,i)}}class nR extends Ue{constructor(t,i){super(t,"array-contains-any",i)}matches(t){const i=t.data.field(this.field);return!(!zm(i)||!i.arrayValue.values)&&i.arrayValue.values.some((a=>Ol(this.value.arrayValue,a)))}}class iR{constructor(t,i=null,a=[],l=[],c=null,d=null,p=null){this.path=t,this.collectionGroup=i,this.orderBy=a,this.filters=l,this.limit=c,this.startAt=d,this.endAt=p,this.Te=null}}function M0(r,t=null,i=[],a=[],l=null,c=null,d=null){return new iR(r,t,i,a,l,c,d)}function jm(r){const t=bt(r);if(t.Te===null){let i=t.path.canonicalString();t.collectionGroup!==null&&(i+="|cg:"+t.collectionGroup),i+="|f:",i+=t.filters.map((a=>am(a))).join(","),i+="|ob:",i+=t.orderBy.map((a=>(function(c){return c.field.canonicalString()+c.dir})(a))).join(","),hh(t.limit)||(i+="|l:",i+=t.limit),t.startAt&&(i+="|lb:",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map((a=>eo(a))).join(",")),t.endAt&&(i+="|ub:",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map((a=>eo(a))).join(",")),t.Te=i}return t.Te}function Bm(r,t){if(r.limit!==t.limit||r.orderBy.length!==t.orderBy.length)return!1;for(let i=0;i<r.orderBy.length;i++)if(!Y2(r.orderBy[i],t.orderBy[i]))return!1;if(r.filters.length!==t.filters.length)return!1;for(let i=0;i<r.filters.length;i++)if(!UE(r.filters[i],t.filters[i]))return!1;return r.collectionGroup===t.collectionGroup&&!!r.path.isEqual(t.path)&&!!O0(r.startAt,t.startAt)&&O0(r.endAt,t.endAt)}function om(r){return gt.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}class dh{constructor(t,i=null,a=[],l=[],c=null,d="F",p=null,_=null){this.path=t,this.collectionGroup=i,this.explicitOrderBy=a,this.filters=l,this.limit=c,this.limitType=d,this.startAt=p,this.endAt=_,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function sR(r,t,i,a,l,c,d,p){return new dh(r,t,i,a,l,c,d,p)}function mh(r){return new dh(r)}function V0(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function rR(r){return r.collectionGroup!==null}function Al(r){const t=bt(r);if(t.Ie===null){t.Ie=[];const i=new Set;for(const c of t.explicitOrderBy)t.Ie.push(c),i.add(c.field.canonicalString());const a=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(d){let p=new Le(Xe.comparator);return d.filters.forEach((_=>{_.getFlattenedFilters().forEach((y=>{y.isInequality()&&(p=p.add(y.field))}))})),p})(t).forEach((c=>{i.has(c.canonicalString())||c.isKeyField()||t.Ie.push(new Wc(c,a))})),i.has(Xe.keyField().canonicalString())||t.Ie.push(new Wc(Xe.keyField(),a))}return t.Ie}function Oi(r){const t=bt(r);return t.Ee||(t.Ee=aR(t,Al(r))),t.Ee}function aR(r,t){if(r.limitType==="F")return M0(r.path,r.collectionGroup,t,r.filters,r.limit,r.startAt,r.endAt);{t=t.map((l=>{const c=l.dir==="desc"?"asc":"desc";return new Wc(l.field,c)}));const i=r.endAt?new Jc(r.endAt.position,r.endAt.inclusive):null,a=r.startAt?new Jc(r.startAt.position,r.startAt.inclusive):null;return M0(r.path,r.collectionGroup,t,r.filters,r.limit,i,a)}}function lm(r,t,i){return new dh(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),t,i,r.startAt,r.endAt)}function gh(r,t){return Bm(Oi(r),Oi(t))&&r.limitType===t.limitType}function zE(r){return`${jm(Oi(r))}|lt:${r.limitType}`}function qa(r){return`Query(target=${(function(i){let a=i.path.canonicalString();return i.collectionGroup!==null&&(a+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(a+=`, filters: [${i.filters.map((l=>LE(l))).join(", ")}]`),hh(i.limit)||(a+=", limit: "+i.limit),i.orderBy.length>0&&(a+=`, orderBy: [${i.orderBy.map((l=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(l))).join(", ")}]`),i.startAt&&(a+=", startAt: ",a+=i.startAt.inclusive?"b:":"a:",a+=i.startAt.position.map((l=>eo(l))).join(",")),i.endAt&&(a+=", endAt: ",a+=i.endAt.inclusive?"a:":"b:",a+=i.endAt.position.map((l=>eo(l))).join(",")),`Target(${a})`})(Oi(r))}; limitType=${r.limitType})`}function ph(r,t){return t.isFoundDocument()&&(function(a,l){const c=l.key.path;return a.collectionGroup!==null?l.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(c):gt.isDocumentKey(a.path)?a.path.isEqual(c):a.path.isImmediateParentOf(c)})(r,t)&&(function(a,l){for(const c of Al(a))if(!c.field.isKeyField()&&l.data.field(c.field)===null)return!1;return!0})(r,t)&&(function(a,l){for(const c of a.filters)if(!c.matches(l))return!1;return!0})(r,t)&&(function(a,l){return!(a.startAt&&!(function(d,p,_){const y=D0(d,p,_);return d.inclusive?y<=0:y<0})(a.startAt,Al(a),l)||a.endAt&&!(function(d,p,_){const y=D0(d,p,_);return d.inclusive?y>=0:y>0})(a.endAt,Al(a),l))})(r,t)}function oR(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function jE(r){return(t,i)=>{let a=!1;for(const l of Al(r)){const c=lR(l,t,i);if(c!==0)return c;a=a||l.field.isKeyField()}return 0}}function lR(r,t,i){const a=r.field.isKeyField()?gt.comparator(t.key,i.key):(function(c,d,p){const _=d.data.field(c),y=p.data.field(c);return _!==null&&y!==null?to(_,y):yt(42886)})(r.field,t,i);switch(r.dir){case"asc":return a;case"desc":return-1*a;default:return yt(19790,{direction:r.dir})}}class Jr{constructor(t,i){this.mapKeyFn=t,this.equalsFn=i,this.inner={},this.innerSize=0}get(t){const i=this.mapKeyFn(t),a=this.inner[i];if(a!==void 0){for(const[l,c]of a)if(this.equalsFn(l,t))return c}}has(t){return this.get(t)!==void 0}set(t,i){const a=this.mapKeyFn(t),l=this.inner[a];if(l===void 0)return this.inner[a]=[[t,i]],void this.innerSize++;for(let c=0;c<l.length;c++)if(this.equalsFn(l[c][0],t))return void(l[c]=[t,i]);l.push([t,i]),this.innerSize++}delete(t){const i=this.mapKeyFn(t),a=this.inner[i];if(a===void 0)return!1;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],t))return a.length===1?delete this.inner[i]:a.splice(l,1),this.innerSize--,!0;return!1}forEach(t){fr(this.inner,((i,a)=>{for(const[l,c]of a)t(l,c)}))}isEmpty(){return AE(this.inner)}size(){return this.innerSize}}const uR=new ce(gt.comparator);function fs(){return uR}const BE=new ce(gt.comparator);function _l(...r){let t=BE;for(const i of r)t=t.insert(i.key,i);return t}function qE(r){let t=BE;return r.forEach(((i,a)=>t=t.insert(i,a.overlayedDocument))),t}function Fr(){return wl()}function HE(){return wl()}function wl(){return new Jr((r=>r.toString()),((r,t)=>r.isEqual(t)))}const cR=new ce(gt.comparator),hR=new Le(gt.comparator);function kt(...r){let t=hR;for(const i of r)t=t.add(i);return t}const fR=new Le(Vt);function dR(){return fR}function qm(r,t){if(r.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Xc(t)?"-0":t}}function GE(r){return{integerValue:""+r}}function mR(r,t){return j2(t)?GE(t):qm(r,t)}class yh{constructor(){this._=void 0}}function gR(r,t,i){return r instanceof th?(function(l,c){const d={fields:{[CE]:{stringValue:RE},[NE]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return c&&Pm(c)&&(c=fh(c)),c&&(d.fields[IE]=c),{mapValue:d}})(i,t):r instanceof no?QE(r,t):r instanceof Ml?KE(r,t):(function(l,c){const d=FE(l,c),p=k0(d)+k0(l.Ae);return rm(d)&&rm(l.Ae)?GE(p):qm(l.serializer,p)})(r,t)}function pR(r,t,i){return r instanceof no?QE(r,t):r instanceof Ml?KE(r,t):i}function FE(r,t){return r instanceof eh?(function(a){return rm(a)||(function(c){return!!c&&"doubleValue"in c})(a)})(t)?t:{integerValue:0}:null}class th extends yh{}class no extends yh{constructor(t){super(),this.elements=t}}function QE(r,t){const i=YE(t);for(const a of r.elements)i.some((l=>Ui(l,a)))||i.push(a);return{arrayValue:{values:i}}}class Ml extends yh{constructor(t){super(),this.elements=t}}function KE(r,t){let i=YE(t);for(const a of r.elements)i=i.filter((l=>!Ui(l,a)));return{arrayValue:{values:i}}}class eh extends yh{constructor(t,i){super(),this.serializer=t,this.Ae=i}}function k0(r){return ve(r.integerValue||r.doubleValue)}function YE(r){return zm(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}class yR{constructor(t,i){this.field=t,this.transform=i}}function _R(r,t){return r.field.isEqual(t.field)&&(function(a,l){return a instanceof no&&l instanceof no||a instanceof Ml&&l instanceof Ml?Wa(a.elements,l.elements,Ui):a instanceof eh&&l instanceof eh?Ui(a.Ae,l.Ae):a instanceof th&&l instanceof th})(r.transform,t.transform)}class vR{constructor(t,i){this.version=t,this.transformResults=i}}class ai{constructor(t,i){this.updateTime=t,this.exists=i}static none(){return new ai}static exists(t){return new ai(void 0,t)}static updateTime(t){return new ai(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Pc(r,t){return r.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(r.updateTime):r.exists===void 0||r.exists===t.isFoundDocument()}class _h{}function XE(r,t){if(!r.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return r.isNoDocument()?new Hm(r.key,ai.none()):new Hl(r.key,r.data,ai.none());{const i=r.data,a=_n.empty();let l=new Le(Xe.comparator);for(let c of t.fields)if(!l.has(c)){let d=i.field(c);d===null&&c.length>1&&(c=c.popLast(),d=i.field(c)),d===null?a.delete(c):a.set(c,d),l=l.add(c)}return new dr(r.key,a,new Nn(l.toArray()),ai.none())}}function ER(r,t,i){r instanceof Hl?(function(l,c,d){const p=l.value.clone(),_=L0(l.fieldTransforms,c,d.transformResults);p.setAll(_),c.convertToFoundDocument(d.version,p).setHasCommittedMutations()})(r,t,i):r instanceof dr?(function(l,c,d){if(!Pc(l.precondition,c))return void c.convertToUnknownDocument(d.version);const p=L0(l.fieldTransforms,c,d.transformResults),_=c.data;_.setAll($E(l)),_.setAll(p),c.convertToFoundDocument(d.version,_).setHasCommittedMutations()})(r,t,i):(function(l,c,d){c.convertToNoDocument(d.version).setHasCommittedMutations()})(0,t,i)}function Rl(r,t,i,a){return r instanceof Hl?(function(c,d,p,_){if(!Pc(c.precondition,d))return p;const y=c.value.clone(),E=P0(c.fieldTransforms,_,d);return y.setAll(E),d.convertToFoundDocument(d.version,y).setHasLocalMutations(),null})(r,t,i,a):r instanceof dr?(function(c,d,p,_){if(!Pc(c.precondition,d))return p;const y=P0(c.fieldTransforms,_,d),E=d.data;return E.setAll($E(c)),E.setAll(y),d.convertToFoundDocument(d.version,E).setHasLocalMutations(),p===null?null:p.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((w=>w.field)))})(r,t,i,a):(function(c,d,p){return Pc(c.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):p})(r,t,i)}function TR(r,t){let i=null;for(const a of r.fieldTransforms){const l=t.data.field(a.field),c=FE(a.transform,l||null);c!=null&&(i===null&&(i=_n.empty()),i.set(a.field,c))}return i||null}function U0(r,t){return r.type===t.type&&!!r.key.isEqual(t.key)&&!!r.precondition.isEqual(t.precondition)&&!!(function(a,l){return a===void 0&&l===void 0||!(!a||!l)&&Wa(a,l,((c,d)=>_R(c,d)))})(r.fieldTransforms,t.fieldTransforms)&&(r.type===0?r.value.isEqual(t.value):r.type!==1||r.data.isEqual(t.data)&&r.fieldMask.isEqual(t.fieldMask))}class Hl extends _h{constructor(t,i,a,l=[]){super(),this.key=t,this.value=i,this.precondition=a,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class dr extends _h{constructor(t,i,a,l,c=[]){super(),this.key=t,this.data=i,this.fieldMask=a,this.precondition=l,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function $E(r){const t=new Map;return r.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const a=r.data.field(i);t.set(i,a)}})),t}function L0(r,t,i){const a=new Map;Qt(r.length===i.length,32656,{Re:i.length,Ve:r.length});for(let l=0;l<i.length;l++){const c=r[l],d=c.transform,p=t.data.field(c.field);a.set(c.field,pR(d,p,i[l]))}return a}function P0(r,t,i){const a=new Map;for(const l of r){const c=l.transform,d=i.data.field(l.field);a.set(l.field,gR(c,d,t))}return a}class Hm extends _h{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class bR extends _h{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class SR{constructor(t,i,a,l){this.batchId=t,this.localWriteTime=i,this.baseMutations=a,this.mutations=l}applyToRemoteDocument(t,i){const a=i.mutationResults;for(let l=0;l<this.mutations.length;l++){const c=this.mutations[l];c.key.isEqual(t.key)&&ER(c,t,a[l])}}applyToLocalView(t,i){for(const a of this.baseMutations)a.key.isEqual(t.key)&&(i=Rl(a,t,i,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(t.key)&&(i=Rl(a,t,i,this.localWriteTime));return i}applyToLocalDocumentSet(t,i){const a=HE();return this.mutations.forEach((l=>{const c=t.get(l.key),d=c.overlayedDocument;let p=this.applyToLocalView(d,c.mutatedFields);p=i.has(l.key)?null:p;const _=XE(d,p);_!==null&&a.set(l.key,_),d.isValidDocument()||d.convertToNoDocument(Et.min())})),a}keys(){return this.mutations.reduce(((t,i)=>t.add(i.key)),kt())}isEqual(t){return this.batchId===t.batchId&&Wa(this.mutations,t.mutations,((i,a)=>U0(i,a)))&&Wa(this.baseMutations,t.baseMutations,((i,a)=>U0(i,a)))}}class Gm{constructor(t,i,a,l){this.batch=t,this.commitVersion=i,this.mutationResults=a,this.docVersions=l}static from(t,i,a){Qt(t.mutations.length===a.length,58842,{me:t.mutations.length,fe:a.length});let l=(function(){return cR})();const c=t.mutations;for(let d=0;d<c.length;d++)l=l.insert(c[d].key,a[d].version);return new Gm(t,i,a,l)}}class AR{constructor(t,i){this.largestBatchId=t,this.mutation=i}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class wR{constructor(t,i){this.count=t,this.unchangedNames=i}}var Ne,Pt;function RR(r){switch(r){case Z.OK:return yt(64938);case Z.CANCELLED:case Z.UNKNOWN:case Z.DEADLINE_EXCEEDED:case Z.RESOURCE_EXHAUSTED:case Z.INTERNAL:case Z.UNAVAILABLE:case Z.UNAUTHENTICATED:return!1;case Z.INVALID_ARGUMENT:case Z.NOT_FOUND:case Z.ALREADY_EXISTS:case Z.PERMISSION_DENIED:case Z.FAILED_PRECONDITION:case Z.ABORTED:case Z.OUT_OF_RANGE:case Z.UNIMPLEMENTED:case Z.DATA_LOSS:return!0;default:return yt(15467,{code:r})}}function ZE(r){if(r===void 0)return hs("GRPC error has no .code"),Z.UNKNOWN;switch(r){case Ne.OK:return Z.OK;case Ne.CANCELLED:return Z.CANCELLED;case Ne.UNKNOWN:return Z.UNKNOWN;case Ne.DEADLINE_EXCEEDED:return Z.DEADLINE_EXCEEDED;case Ne.RESOURCE_EXHAUSTED:return Z.RESOURCE_EXHAUSTED;case Ne.INTERNAL:return Z.INTERNAL;case Ne.UNAVAILABLE:return Z.UNAVAILABLE;case Ne.UNAUTHENTICATED:return Z.UNAUTHENTICATED;case Ne.INVALID_ARGUMENT:return Z.INVALID_ARGUMENT;case Ne.NOT_FOUND:return Z.NOT_FOUND;case Ne.ALREADY_EXISTS:return Z.ALREADY_EXISTS;case Ne.PERMISSION_DENIED:return Z.PERMISSION_DENIED;case Ne.FAILED_PRECONDITION:return Z.FAILED_PRECONDITION;case Ne.ABORTED:return Z.ABORTED;case Ne.OUT_OF_RANGE:return Z.OUT_OF_RANGE;case Ne.UNIMPLEMENTED:return Z.UNIMPLEMENTED;case Ne.DATA_LOSS:return Z.DATA_LOSS;default:return yt(39323,{code:r})}}(Pt=Ne||(Ne={}))[Pt.OK=0]="OK",Pt[Pt.CANCELLED=1]="CANCELLED",Pt[Pt.UNKNOWN=2]="UNKNOWN",Pt[Pt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Pt[Pt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Pt[Pt.NOT_FOUND=5]="NOT_FOUND",Pt[Pt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Pt[Pt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Pt[Pt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Pt[Pt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Pt[Pt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Pt[Pt.ABORTED=10]="ABORTED",Pt[Pt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Pt[Pt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Pt[Pt.INTERNAL=13]="INTERNAL",Pt[Pt.UNAVAILABLE=14]="UNAVAILABLE",Pt[Pt.DATA_LOSS=15]="DATA_LOSS";function CR(){return new TextEncoder}const IR=new ir([4294967295,4294967295],0);function z0(r){const t=CR().encode(r),i=new mE;return i.update(t),new Uint8Array(i.digest())}function j0(r){const t=new DataView(r.buffer),i=t.getUint32(0,!0),a=t.getUint32(4,!0),l=t.getUint32(8,!0),c=t.getUint32(12,!0);return[new ir([i,a],0),new ir([l,c],0)]}class Fm{constructor(t,i,a){if(this.bitmap=t,this.padding=i,this.hashCount=a,i<0||i>=8)throw new vl(`Invalid padding: ${i}`);if(a<0)throw new vl(`Invalid hash count: ${a}`);if(t.length>0&&this.hashCount===0)throw new vl(`Invalid hash count: ${a}`);if(t.length===0&&i!==0)throw new vl(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*t.length-i,this.pe=ir.fromNumber(this.ge)}ye(t,i,a){let l=t.add(i.multiply(ir.fromNumber(a)));return l.compare(IR)===1&&(l=new ir([l.getBits(0),l.getBits(1)],0)),l.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const i=z0(t),[a,l]=j0(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(a,l,c);if(!this.we(d))return!1}return!0}static create(t,i,a){const l=t%8==0?0:8-t%8,c=new Uint8Array(Math.ceil(t/8)),d=new Fm(c,l,i);return a.forEach((p=>d.insert(p))),d}insert(t){if(this.ge===0)return;const i=z0(t),[a,l]=j0(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(a,l,c);this.Se(d)}}Se(t){const i=Math.floor(t/8),a=t%8;this.bitmap[i]|=1<<a}}class vl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class vh{constructor(t,i,a,l,c){this.snapshotVersion=t,this.targetChanges=i,this.targetMismatches=a,this.documentUpdates=l,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(t,i,a){const l=new Map;return l.set(t,Gl.createSynthesizedTargetChangeForCurrentChange(t,i,a)),new vh(Et.min(),l,new ce(Vt),fs(),kt())}}class Gl{constructor(t,i,a,l,c){this.resumeToken=t,this.current=i,this.addedDocuments=a,this.modifiedDocuments=l,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(t,i,a){return new Gl(a,i,kt(),kt(),kt())}}class zc{constructor(t,i,a,l){this.be=t,this.removedTargetIds=i,this.key=a,this.De=l}}class JE{constructor(t,i){this.targetId=t,this.Ce=i}}class WE{constructor(t,i,a=$e.EMPTY_BYTE_STRING,l=null){this.state=t,this.targetIds=i,this.resumeToken=a,this.cause=l}}class B0{constructor(){this.ve=0,this.Fe=q0(),this.Me=$e.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=kt(),i=kt(),a=kt();return this.Fe.forEach(((l,c)=>{switch(c){case 0:t=t.add(l);break;case 2:i=i.add(l);break;case 1:a=a.add(l);break;default:yt(38017,{changeType:c})}})),new Gl(this.Me,this.xe,t,i,a)}qe(){this.Oe=!1,this.Fe=q0()}Qe(t,i){this.Oe=!0,this.Fe=this.Fe.insert(t,i)}$e(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}Ue(){this.ve+=1}Ke(){this.ve-=1,Qt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class NR{constructor(t){this.Ge=t,this.ze=new Map,this.je=fs(),this.Je=Cc(),this.He=Cc(),this.Ye=new ce(Vt)}Ze(t){for(const i of t.be)t.De&&t.De.isFoundDocument()?this.Xe(i,t.De):this.et(i,t.key,t.De);for(const i of t.removedTargetIds)this.et(i,t.key,t.De)}tt(t){this.forEachTarget(t,(i=>{const a=this.nt(i);switch(t.state){case 0:this.rt(i)&&a.Le(t.resumeToken);break;case 1:a.Ke(),a.Ne||a.qe(),a.Le(t.resumeToken);break;case 2:a.Ke(),a.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(a.We(),a.Le(t.resumeToken));break;case 4:this.rt(i)&&(this.it(i),a.Le(t.resumeToken));break;default:yt(56790,{state:t.state})}}))}forEachTarget(t,i){t.targetIds.length>0?t.targetIds.forEach(i):this.ze.forEach(((a,l)=>{this.rt(l)&&i(l)}))}st(t){const i=t.targetId,a=t.Ce.count,l=this.ot(i);if(l){const c=l.target;if(om(c))if(a===0){const d=new gt(c.path);this.et(i,d,tn.newNoDocument(d,Et.min()))}else Qt(a===1,20013,{expectedCount:a});else{const d=this._t(i);if(d!==a){const p=this.ut(t),_=p?this.ct(p,t,d):1;if(_!==0){this.it(i);const y=_===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(i,y)}}}}}ut(t){const i=t.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:a="",padding:l=0},hashCount:c=0}=i;let d,p;try{d=lr(a).toUint8Array()}catch(_){if(_ instanceof wE)return Ja("Decoding the base64 bloom filter in existence filter failed ("+_.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw _}try{p=new Fm(d,l,c)}catch(_){return Ja(_ instanceof vl?"BloomFilter error: ":"Applying bloom filter failed: ",_),null}return p.ge===0?null:p}ct(t,i,a){return i.Ce.count===a-this.Pt(t,i.targetId)?0:2}Pt(t,i){const a=this.Ge.getRemoteKeysForTarget(i);let l=0;return a.forEach((c=>{const d=this.Ge.ht(),p=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;t.mightContain(p)||(this.et(i,c,null),l++)})),l}Tt(t){const i=new Map;this.ze.forEach(((c,d)=>{const p=this.ot(d);if(p){if(c.current&&om(p.target)){const _=new gt(p.target.path);this.It(_).has(d)||this.Et(d,_)||this.et(d,_,tn.newNoDocument(_,t))}c.Be&&(i.set(d,c.ke()),c.qe())}}));let a=kt();this.He.forEach(((c,d)=>{let p=!0;d.forEachWhile((_=>{const y=this.ot(_);return!y||y.purpose==="TargetPurposeLimboResolution"||(p=!1,!1)})),p&&(a=a.add(c))})),this.je.forEach(((c,d)=>d.setReadTime(t)));const l=new vh(t,i,this.Ye,this.je,a);return this.je=fs(),this.Je=Cc(),this.He=Cc(),this.Ye=new ce(Vt),l}Xe(t,i){if(!this.rt(t))return;const a=this.Et(t,i.key)?2:0;this.nt(t).Qe(i.key,a),this.je=this.je.insert(i.key,i),this.Je=this.Je.insert(i.key,this.It(i.key).add(t)),this.He=this.He.insert(i.key,this.dt(i.key).add(t))}et(t,i,a){if(!this.rt(t))return;const l=this.nt(t);this.Et(t,i)?l.Qe(i,1):l.$e(i),this.He=this.He.insert(i,this.dt(i).delete(t)),this.He=this.He.insert(i,this.dt(i).add(t)),a&&(this.je=this.je.insert(i,a))}removeTarget(t){this.ze.delete(t)}_t(t){const i=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+i.addedDocuments.size-i.removedDocuments.size}Ue(t){this.nt(t).Ue()}nt(t){let i=this.ze.get(t);return i||(i=new B0,this.ze.set(t,i)),i}dt(t){let i=this.He.get(t);return i||(i=new Le(Vt),this.He=this.He.insert(t,i)),i}It(t){let i=this.Je.get(t);return i||(i=new Le(Vt),this.Je=this.Je.insert(t,i)),i}rt(t){const i=this.ot(t)!==null;return i||rt("WatchChangeAggregator","Detected inactive target",t),i}ot(t){const i=this.ze.get(t);return i&&i.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new B0),this.Ge.getRemoteKeysForTarget(t).forEach((i=>{this.et(t,i,null)}))}Et(t,i){return this.Ge.getRemoteKeysForTarget(t).has(i)}}function Cc(){return new ce(gt.comparator)}function q0(){return new ce(gt.comparator)}const xR={asc:"ASCENDING",desc:"DESCENDING"},DR={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},OR={and:"AND",or:"OR"};class MR{constructor(t,i){this.databaseId=t,this.useProto3Json=i}}function um(r,t){return r.useProto3Json||hh(t)?t:{value:t}}function nh(r,t){return r.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function tT(r,t){return r.useProto3Json?t.toBase64():t.toUint8Array()}function VR(r,t){return nh(r,t.toTimestamp())}function Mi(r){return Qt(!!r,49232),Et.fromTimestamp((function(i){const a=or(i);return new re(a.seconds,a.nanos)})(r))}function Qm(r,t){return cm(r,t).canonicalString()}function cm(r,t){const i=(function(l){return new ue(["projects",l.projectId,"databases",l.database])})(r).child("documents");return t===void 0?i:i.child(t)}function eT(r){const t=ue.fromString(r);return Qt(aT(t),10190,{key:t.toString()}),t}function hm(r,t){return Qm(r.databaseId,t.path)}function Bd(r,t){const i=eT(t);if(i.get(1)!==r.databaseId.projectId)throw new ut(Z.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+r.databaseId.projectId);if(i.get(3)!==r.databaseId.database)throw new ut(Z.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+r.databaseId.database);return new gt(iT(i))}function nT(r,t){return Qm(r.databaseId,t)}function kR(r){const t=eT(r);return t.length===4?ue.emptyPath():iT(t)}function fm(r){return new ue(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function iT(r){return Qt(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function H0(r,t,i){return{name:hm(r,t),fields:i.value.mapValue.fields}}function UR(r,t){let i;if("targetChange"in t){t.targetChange;const a=(function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:yt(39313,{state:y})})(t.targetChange.targetChangeType||"NO_CHANGE"),l=t.targetChange.targetIds||[],c=(function(y,E){return y.useProto3Json?(Qt(E===void 0||typeof E=="string",58123),$e.fromBase64String(E||"")):(Qt(E===void 0||E instanceof Buffer||E instanceof Uint8Array,16193),$e.fromUint8Array(E||new Uint8Array))})(r,t.targetChange.resumeToken),d=t.targetChange.cause,p=d&&(function(y){const E=y.code===void 0?Z.UNKNOWN:ZE(y.code);return new ut(E,y.message||"")})(d);i=new WE(a,l,c,p||null)}else if("documentChange"in t){t.documentChange;const a=t.documentChange;a.document,a.document.name,a.document.updateTime;const l=Bd(r,a.document.name),c=Mi(a.document.updateTime),d=a.document.createTime?Mi(a.document.createTime):Et.min(),p=new _n({mapValue:{fields:a.document.fields}}),_=tn.newFoundDocument(l,c,d,p),y=a.targetIds||[],E=a.removedTargetIds||[];i=new zc(y,E,_.key,_)}else if("documentDelete"in t){t.documentDelete;const a=t.documentDelete;a.document;const l=Bd(r,a.document),c=a.readTime?Mi(a.readTime):Et.min(),d=tn.newNoDocument(l,c),p=a.removedTargetIds||[];i=new zc([],p,d.key,d)}else if("documentRemove"in t){t.documentRemove;const a=t.documentRemove;a.document;const l=Bd(r,a.document),c=a.removedTargetIds||[];i=new zc([],c,l,null)}else{if(!("filter"in t))return yt(11601,{Rt:t});{t.filter;const a=t.filter;a.targetId;const{count:l=0,unchangedNames:c}=a,d=new wR(l,c),p=a.targetId;i=new JE(p,d)}}return i}function LR(r,t){let i;if(t instanceof Hl)i={update:H0(r,t.key,t.value)};else if(t instanceof Hm)i={delete:hm(r,t.key)};else if(t instanceof dr)i={update:H0(r,t.key,t.data),updateMask:QR(t.fieldMask)};else{if(!(t instanceof bR))return yt(16599,{Vt:t.type});i={verify:hm(r,t.key)}}return t.fieldTransforms.length>0&&(i.updateTransforms=t.fieldTransforms.map((a=>(function(c,d){const p=d.transform;if(p instanceof th)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof no)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof Ml)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof eh)return{fieldPath:d.field.canonicalString(),increment:p.Ae};throw yt(20930,{transform:d.transform})})(0,a)))),t.precondition.isNone||(i.currentDocument=(function(l,c){return c.updateTime!==void 0?{updateTime:VR(l,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:yt(27497)})(r,t.precondition)),i}function PR(r,t){return r&&r.length>0?(Qt(t!==void 0,14353),r.map((i=>(function(l,c){let d=l.updateTime?Mi(l.updateTime):Mi(c);return d.isEqual(Et.min())&&(d=Mi(c)),new vR(d,l.transformResults||[])})(i,t)))):[]}function zR(r,t){return{documents:[nT(r,t.path)]}}function jR(r,t){const i={structuredQuery:{}},a=t.path;let l;t.collectionGroup!==null?(l=a,i.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(l=a.popLast(),i.structuredQuery.from=[{collectionId:a.lastSegment()}]),i.parent=nT(r,l);const c=(function(y){if(y.length!==0)return rT(Li.create(y,"and"))})(t.filters);c&&(i.structuredQuery.where=c);const d=(function(y){if(y.length!==0)return y.map((E=>(function(M){return{field:Ha(M.field),direction:HR(M.dir)}})(E)))})(t.orderBy);d&&(i.structuredQuery.orderBy=d);const p=um(r,t.limit);return p!==null&&(i.structuredQuery.limit=p),t.startAt&&(i.structuredQuery.startAt=(function(y){return{before:y.inclusive,values:y.position}})(t.startAt)),t.endAt&&(i.structuredQuery.endAt=(function(y){return{before:!y.inclusive,values:y.position}})(t.endAt)),{ft:i,parent:l}}function BR(r){let t=kR(r.parent);const i=r.structuredQuery,a=i.from?i.from.length:0;let l=null;if(a>0){Qt(a===1,65062);const E=i.from[0];E.allDescendants?l=E.collectionId:t=t.child(E.collectionId)}let c=[];i.where&&(c=(function(w){const M=sT(w);return M instanceof Li&&kE(M)?M.getFilters():[M]})(i.where));let d=[];i.orderBy&&(d=(function(w){return w.map((M=>(function(tt){return new Wc(Ga(tt.field),(function(W){switch(W){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(tt.direction))})(M)))})(i.orderBy));let p=null;i.limit&&(p=(function(w){let M;return M=typeof w=="object"?w.value:w,hh(M)?null:M})(i.limit));let _=null;i.startAt&&(_=(function(w){const M=!!w.before,Q=w.values||[];return new Jc(Q,M)})(i.startAt));let y=null;return i.endAt&&(y=(function(w){const M=!w.before,Q=w.values||[];return new Jc(Q,M)})(i.endAt)),sR(t,l,d,c,p,"F",_,y)}function qR(r,t){const i=(function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return yt(28987,{purpose:l})}})(t.purpose);return i==null?null:{"goog-listen-tags":i}}function sT(r){return r.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const a=Ga(i.unaryFilter.field);return Ue.create(a,"==",{doubleValue:NaN});case"IS_NULL":const l=Ga(i.unaryFilter.field);return Ue.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=Ga(i.unaryFilter.field);return Ue.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=Ga(i.unaryFilter.field);return Ue.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return yt(61313);default:return yt(60726)}})(r):r.fieldFilter!==void 0?(function(i){return Ue.create(Ga(i.fieldFilter.field),(function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return yt(58110);default:return yt(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(i){return Li.create(i.compositeFilter.filters.map((a=>sT(a))),(function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return yt(1026)}})(i.compositeFilter.op))})(r):yt(30097,{filter:r})}function HR(r){return xR[r]}function GR(r){return DR[r]}function FR(r){return OR[r]}function Ha(r){return{fieldPath:r.canonicalString()}}function Ga(r){return Xe.fromServerFormat(r.fieldPath)}function rT(r){return r instanceof Ue?(function(i){if(i.op==="=="){if(x0(i.value))return{unaryFilter:{field:Ha(i.field),op:"IS_NAN"}};if(N0(i.value))return{unaryFilter:{field:Ha(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(x0(i.value))return{unaryFilter:{field:Ha(i.field),op:"IS_NOT_NAN"}};if(N0(i.value))return{unaryFilter:{field:Ha(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ha(i.field),op:GR(i.op),value:i.value}}})(r):r instanceof Li?(function(i){const a=i.getFilters().map((l=>rT(l)));return a.length===1?a[0]:{compositeFilter:{op:FR(i.op),filters:a}}})(r):yt(54877,{filter:r})}function QR(r){const t=[];return r.fields.forEach((i=>t.push(i.canonicalString()))),{fieldPaths:t}}function aT(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}class Ws{constructor(t,i,a,l,c=Et.min(),d=Et.min(),p=$e.EMPTY_BYTE_STRING,_=null){this.target=t,this.targetId=i,this.purpose=a,this.sequenceNumber=l,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=p,this.expectedCount=_}withSequenceNumber(t){return new Ws(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,i){return new Ws(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Ws(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Ws(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class KR{constructor(t){this.yt=t}}function YR(r){const t=BR({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?lm(t,t.limit,"L"):t}class XR{constructor(){this.Cn=new $R}addToCollectionParentIndex(t,i){return this.Cn.add(i),X.resolve()}getCollectionParents(t,i){return X.resolve(this.Cn.getEntries(i))}addFieldIndex(t,i){return X.resolve()}deleteFieldIndex(t,i){return X.resolve()}deleteAllFieldIndexes(t){return X.resolve()}createTargetIndexes(t,i){return X.resolve()}getDocumentsMatchingTarget(t,i){return X.resolve(null)}getIndexType(t,i){return X.resolve(0)}getFieldIndexes(t,i){return X.resolve([])}getNextCollectionGroupToUpdate(t){return X.resolve(null)}getMinOffset(t,i){return X.resolve(ar.min())}getMinOffsetFromCollectionGroup(t,i){return X.resolve(ar.min())}updateCollectionGroup(t,i,a){return X.resolve()}updateIndexEntries(t,i){return X.resolve()}}class $R{constructor(){this.index={}}add(t){const i=t.lastSegment(),a=t.popLast(),l=this.index[i]||new Le(ue.comparator),c=!l.has(a);return this.index[i]=l.add(a),c}has(t){const i=t.lastSegment(),a=t.popLast(),l=this.index[i];return l&&l.has(a)}getEntries(t){return(this.index[t]||new Le(ue.comparator)).toArray()}}const G0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},oT=41943040;class yn{static withCacheSize(t){return new yn(t,yn.DEFAULT_COLLECTION_PERCENTILE,yn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,i,a){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=a}}yn.DEFAULT_COLLECTION_PERCENTILE=10,yn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,yn.DEFAULT=new yn(oT,yn.DEFAULT_COLLECTION_PERCENTILE,yn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),yn.DISABLED=new yn(-1,0,0);class io{constructor(t){this.ar=t}next(){return this.ar+=2,this.ar}static ur(){return new io(0)}static cr(){return new io(-1)}}const F0="LruGarbageCollector",ZR=1048576;function Q0([r,t],[i,a]){const l=Vt(r,i);return l===0?Vt(t,a):l}class JR{constructor(t){this.Ir=t,this.buffer=new Le(Q0),this.Er=0}dr(){return++this.Er}Ar(t){const i=[t,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(i);else{const a=this.buffer.last();Q0(i,a)<0&&(this.buffer=this.buffer.delete(a).add(i))}}get maxValue(){return this.buffer.last()[0]}}class WR{constructor(t,i,a){this.garbageCollector=t,this.asyncQueue=i,this.localStore=a,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(t){rt(F0,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){co(i)?rt(F0,"Ignoring IndexedDB error during garbage collection: ",i):await uo(i)}await this.Vr(3e5)}))}}class tC{constructor(t,i){this.mr=t,this.params=i}calculateTargetCount(t,i){return this.mr.gr(t).next((a=>Math.floor(i/100*a)))}nthSequenceNumber(t,i){if(i===0)return X.resolve(ch.ce);const a=new JR(i);return this.mr.forEachTarget(t,(l=>a.Ar(l.sequenceNumber))).next((()=>this.mr.pr(t,(l=>a.Ar(l))))).next((()=>a.maxValue))}removeTargets(t,i,a){return this.mr.removeTargets(t,i,a)}removeOrphanedDocuments(t,i){return this.mr.removeOrphanedDocuments(t,i)}collect(t,i){return this.params.cacheSizeCollectionThreshold===-1?(rt("LruGarbageCollector","Garbage collection skipped; disabled"),X.resolve(G0)):this.getCacheSize(t).next((a=>a<this.params.cacheSizeCollectionThreshold?(rt("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),G0):this.yr(t,i)))}getCacheSize(t){return this.mr.getCacheSize(t)}yr(t,i){let a,l,c,d,p,_,y;const E=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((w=>(w>this.params.maximumSequenceNumbersToCollect?(rt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${w}`),l=this.params.maximumSequenceNumbersToCollect):l=w,d=Date.now(),this.nthSequenceNumber(t,l)))).next((w=>(a=w,p=Date.now(),this.removeTargets(t,a,i)))).next((w=>(c=w,_=Date.now(),this.removeOrphanedDocuments(t,a)))).next((w=>(y=Date.now(),Ba()<=Mt.DEBUG&&rt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-E}ms
	Determined least recently used ${l} in `+(p-d)+`ms
	Removed ${c} targets in `+(_-p)+`ms
	Removed ${w} documents in `+(y-_)+`ms
Total Duration: ${y-E}ms`),X.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:c,documentsRemoved:w}))))}}function eC(r,t){return new tC(r,t)}class nC{constructor(){this.changes=new Jr((t=>t.toString()),((t,i)=>t.isEqual(i))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,i){this.assertNotApplied(),this.changes.set(t,tn.newInvalidDocument(t).setReadTime(i))}getEntry(t,i){this.assertNotApplied();const a=this.changes.get(i);return a!==void 0?X.resolve(a):this.getFromCache(t,i)}getEntries(t,i){return this.getAllFromCache(t,i)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class iC{constructor(t,i){this.overlayedDocument=t,this.mutatedFields=i}}class sC{constructor(t,i,a,l){this.remoteDocumentCache=t,this.mutationQueue=i,this.documentOverlayCache=a,this.indexManager=l}getDocument(t,i){let a=null;return this.documentOverlayCache.getOverlay(t,i).next((l=>(a=l,this.remoteDocumentCache.getEntry(t,i)))).next((l=>(a!==null&&Rl(a.mutation,l,Nn.empty(),re.now()),l)))}getDocuments(t,i){return this.remoteDocumentCache.getEntries(t,i).next((a=>this.getLocalViewOfDocuments(t,a,kt()).next((()=>a))))}getLocalViewOfDocuments(t,i,a=kt()){const l=Fr();return this.populateOverlays(t,l,i).next((()=>this.computeViews(t,i,l,a).next((c=>{let d=_l();return c.forEach(((p,_)=>{d=d.insert(p,_.overlayedDocument)})),d}))))}getOverlayedDocuments(t,i){const a=Fr();return this.populateOverlays(t,a,i).next((()=>this.computeViews(t,i,a,kt())))}populateOverlays(t,i,a){const l=[];return a.forEach((c=>{i.has(c)||l.push(c)})),this.documentOverlayCache.getOverlays(t,l).next((c=>{c.forEach(((d,p)=>{i.set(d,p)}))}))}computeViews(t,i,a,l){let c=fs();const d=wl(),p=(function(){return wl()})();return i.forEach(((_,y)=>{const E=a.get(y.key);l.has(y.key)&&(E===void 0||E.mutation instanceof dr)?c=c.insert(y.key,y):E!==void 0?(d.set(y.key,E.mutation.getFieldMask()),Rl(E.mutation,y,E.mutation.getFieldMask(),re.now())):d.set(y.key,Nn.empty())})),this.recalculateAndSaveOverlays(t,c).next((_=>(_.forEach(((y,E)=>d.set(y,E))),i.forEach(((y,E)=>p.set(y,new iC(E,d.get(y)??null)))),p)))}recalculateAndSaveOverlays(t,i){const a=wl();let l=new ce(((d,p)=>d-p)),c=kt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,i).next((d=>{for(const p of d)p.keys().forEach((_=>{const y=i.get(_);if(y===null)return;let E=a.get(_)||Nn.empty();E=p.applyToLocalView(y,E),a.set(_,E);const w=(l.get(p.batchId)||kt()).add(_);l=l.insert(p.batchId,w)}))})).next((()=>{const d=[],p=l.getReverseIterator();for(;p.hasNext();){const _=p.getNext(),y=_.key,E=_.value,w=HE();E.forEach((M=>{if(!c.has(M)){const Q=XE(i.get(M),a.get(M));Q!==null&&w.set(M,Q),c=c.add(M)}})),d.push(this.documentOverlayCache.saveOverlays(t,y,w))}return X.waitFor(d)})).next((()=>a))}recalculateAndSaveOverlaysForDocumentKeys(t,i){return this.remoteDocumentCache.getEntries(t,i).next((a=>this.recalculateAndSaveOverlays(t,a)))}getDocumentsMatchingQuery(t,i,a,l){return(function(d){return gt.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0})(i)?this.getDocumentsMatchingDocumentQuery(t,i.path):rR(i)?this.getDocumentsMatchingCollectionGroupQuery(t,i,a,l):this.getDocumentsMatchingCollectionQuery(t,i,a,l)}getNextDocuments(t,i,a,l){return this.remoteDocumentCache.getAllFromCollectionGroup(t,i,a,l).next((c=>{const d=l-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,i,a.largestBatchId,l-c.size):X.resolve(Fr());let p=Nl,_=c;return d.next((y=>X.forEach(y,((E,w)=>(p<w.largestBatchId&&(p=w.largestBatchId),c.get(E)?X.resolve():this.remoteDocumentCache.getEntry(t,E).next((M=>{_=_.insert(E,M)}))))).next((()=>this.populateOverlays(t,y,c))).next((()=>this.computeViews(t,_,y,kt()))).next((E=>({batchId:p,changes:qE(E)})))))}))}getDocumentsMatchingDocumentQuery(t,i){return this.getDocument(t,new gt(i)).next((a=>{let l=_l();return a.isFoundDocument()&&(l=l.insert(a.key,a)),l}))}getDocumentsMatchingCollectionGroupQuery(t,i,a,l){const c=i.collectionGroup;let d=_l();return this.indexManager.getCollectionParents(t,c).next((p=>X.forEach(p,(_=>{const y=(function(w,M){return new dh(M,null,w.explicitOrderBy.slice(),w.filters.slice(),w.limit,w.limitType,w.startAt,w.endAt)})(i,_.child(c));return this.getDocumentsMatchingCollectionQuery(t,y,a,l).next((E=>{E.forEach(((w,M)=>{d=d.insert(w,M)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(t,i,a,l){let c;return this.documentOverlayCache.getOverlaysForCollection(t,i.path,a.largestBatchId).next((d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(t,i,a,c,l)))).next((d=>{c.forEach(((_,y)=>{const E=y.getKey();d.get(E)===null&&(d=d.insert(E,tn.newInvalidDocument(E)))}));let p=_l();return d.forEach(((_,y)=>{const E=c.get(_);E!==void 0&&Rl(E.mutation,y,Nn.empty(),re.now()),ph(i,y)&&(p=p.insert(_,y))})),p}))}}class rC{constructor(t){this.serializer=t,this.Lr=new Map,this.kr=new Map}getBundleMetadata(t,i){return X.resolve(this.Lr.get(i))}saveBundleMetadata(t,i){return this.Lr.set(i.id,(function(l){return{id:l.id,version:l.version,createTime:Mi(l.createTime)}})(i)),X.resolve()}getNamedQuery(t,i){return X.resolve(this.kr.get(i))}saveNamedQuery(t,i){return this.kr.set(i.name,(function(l){return{name:l.name,query:YR(l.bundledQuery),readTime:Mi(l.readTime)}})(i)),X.resolve()}}class aC{constructor(){this.overlays=new ce(gt.comparator),this.qr=new Map}getOverlay(t,i){return X.resolve(this.overlays.get(i))}getOverlays(t,i){const a=Fr();return X.forEach(i,(l=>this.getOverlay(t,l).next((c=>{c!==null&&a.set(l,c)})))).next((()=>a))}saveOverlays(t,i,a){return a.forEach(((l,c)=>{this.St(t,i,c)})),X.resolve()}removeOverlaysForBatchId(t,i,a){const l=this.qr.get(a);return l!==void 0&&(l.forEach((c=>this.overlays=this.overlays.remove(c))),this.qr.delete(a)),X.resolve()}getOverlaysForCollection(t,i,a){const l=Fr(),c=i.length+1,d=new gt(i.child("")),p=this.overlays.getIteratorFrom(d);for(;p.hasNext();){const _=p.getNext().value,y=_.getKey();if(!i.isPrefixOf(y.path))break;y.path.length===c&&_.largestBatchId>a&&l.set(_.getKey(),_)}return X.resolve(l)}getOverlaysForCollectionGroup(t,i,a,l){let c=new ce(((y,E)=>y-E));const d=this.overlays.getIterator();for(;d.hasNext();){const y=d.getNext().value;if(y.getKey().getCollectionGroup()===i&&y.largestBatchId>a){let E=c.get(y.largestBatchId);E===null&&(E=Fr(),c=c.insert(y.largestBatchId,E)),E.set(y.getKey(),y)}}const p=Fr(),_=c.getIterator();for(;_.hasNext()&&(_.getNext().value.forEach(((y,E)=>p.set(y,E))),!(p.size()>=l)););return X.resolve(p)}St(t,i,a){const l=this.overlays.get(a.key);if(l!==null){const d=this.qr.get(l.largestBatchId).delete(a.key);this.qr.set(l.largestBatchId,d)}this.overlays=this.overlays.insert(a.key,new AR(i,a));let c=this.qr.get(i);c===void 0&&(c=kt(),this.qr.set(i,c)),this.qr.set(i,c.add(a.key))}}class oC{constructor(){this.sessionToken=$e.EMPTY_BYTE_STRING}getSessionToken(t){return X.resolve(this.sessionToken)}setSessionToken(t,i){return this.sessionToken=i,X.resolve()}}class Km{constructor(){this.Qr=new Le(Be.$r),this.Ur=new Le(Be.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(t,i){const a=new Be(t,i);this.Qr=this.Qr.add(a),this.Ur=this.Ur.add(a)}Wr(t,i){t.forEach((a=>this.addReference(a,i)))}removeReference(t,i){this.Gr(new Be(t,i))}zr(t,i){t.forEach((a=>this.removeReference(a,i)))}jr(t){const i=new gt(new ue([])),a=new Be(i,t),l=new Be(i,t+1),c=[];return this.Ur.forEachInRange([a,l],(d=>{this.Gr(d),c.push(d.key)})),c}Jr(){this.Qr.forEach((t=>this.Gr(t)))}Gr(t){this.Qr=this.Qr.delete(t),this.Ur=this.Ur.delete(t)}Hr(t){const i=new gt(new ue([])),a=new Be(i,t),l=new Be(i,t+1);let c=kt();return this.Ur.forEachInRange([a,l],(d=>{c=c.add(d.key)})),c}containsKey(t){const i=new Be(t,0),a=this.Qr.firstAfterOrEqual(i);return a!==null&&t.isEqual(a.key)}}class Be{constructor(t,i){this.key=t,this.Yr=i}static $r(t,i){return gt.comparator(t.key,i.key)||Vt(t.Yr,i.Yr)}static Kr(t,i){return Vt(t.Yr,i.Yr)||gt.comparator(t.key,i.key)}}class lC{constructor(t,i){this.indexManager=t,this.referenceDelegate=i,this.mutationQueue=[],this.tr=1,this.Zr=new Le(Be.$r)}checkEmpty(t){return X.resolve(this.mutationQueue.length===0)}addMutationBatch(t,i,a,l){const c=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new SR(c,i,a,l);this.mutationQueue.push(d);for(const p of l)this.Zr=this.Zr.add(new Be(p.key,c)),this.indexManager.addToCollectionParentIndex(t,p.key.path.popLast());return X.resolve(d)}lookupMutationBatch(t,i){return X.resolve(this.Xr(i))}getNextMutationBatchAfterBatchId(t,i){const a=i+1,l=this.ei(a),c=l<0?0:l;return X.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return X.resolve(this.mutationQueue.length===0?Lm:this.tr-1)}getAllMutationBatches(t){return X.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,i){const a=new Be(i,0),l=new Be(i,Number.POSITIVE_INFINITY),c=[];return this.Zr.forEachInRange([a,l],(d=>{const p=this.Xr(d.Yr);c.push(p)})),X.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(t,i){let a=new Le(Vt);return i.forEach((l=>{const c=new Be(l,0),d=new Be(l,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([c,d],(p=>{a=a.add(p.Yr)}))})),X.resolve(this.ti(a))}getAllMutationBatchesAffectingQuery(t,i){const a=i.path,l=a.length+1;let c=a;gt.isDocumentKey(c)||(c=c.child(""));const d=new Be(new gt(c),0);let p=new Le(Vt);return this.Zr.forEachWhile((_=>{const y=_.key.path;return!!a.isPrefixOf(y)&&(y.length===l&&(p=p.add(_.Yr)),!0)}),d),X.resolve(this.ti(p))}ti(t){const i=[];return t.forEach((a=>{const l=this.Xr(a);l!==null&&i.push(l)})),i}removeMutationBatch(t,i){Qt(this.ni(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let a=this.Zr;return X.forEach(i.mutations,(l=>{const c=new Be(l.key,i.batchId);return a=a.delete(c),this.referenceDelegate.markPotentiallyOrphaned(t,l.key)})).next((()=>{this.Zr=a}))}ir(t){}containsKey(t,i){const a=new Be(i,0),l=this.Zr.firstAfterOrEqual(a);return X.resolve(i.isEqual(l&&l.key))}performConsistencyCheck(t){return this.mutationQueue.length,X.resolve()}ni(t,i){return this.ei(t)}ei(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Xr(t){const i=this.ei(t);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}class uC{constructor(t){this.ri=t,this.docs=(function(){return new ce(gt.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,i){const a=i.key,l=this.docs.get(a),c=l?l.size:0,d=this.ri(i);return this.docs=this.docs.insert(a,{document:i.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(t,a.path.popLast())}removeEntry(t){const i=this.docs.get(t);i&&(this.docs=this.docs.remove(t),this.size-=i.size)}getEntry(t,i){const a=this.docs.get(i);return X.resolve(a?a.document.mutableCopy():tn.newInvalidDocument(i))}getEntries(t,i){let a=fs();return i.forEach((l=>{const c=this.docs.get(l);a=a.insert(l,c?c.document.mutableCopy():tn.newInvalidDocument(l))})),X.resolve(a)}getDocumentsMatchingQuery(t,i,a,l){let c=fs();const d=i.path,p=new gt(d.child("__id-9223372036854775808__")),_=this.docs.getIteratorFrom(p);for(;_.hasNext();){const{key:y,value:{document:E}}=_.getNext();if(!d.isPrefixOf(y.path))break;y.path.length>d.length+1||U2(k2(E),a)<=0||(l.has(E.key)||ph(i,E))&&(c=c.insert(E.key,E.mutableCopy()))}return X.resolve(c)}getAllFromCollectionGroup(t,i,a,l){yt(9500)}ii(t,i){return X.forEach(this.docs,(a=>i(a)))}newChangeBuffer(t){return new cC(this)}getSize(t){return X.resolve(this.size)}}class cC extends nC{constructor(t){super(),this.Nr=t}applyChanges(t){const i=[];return this.changes.forEach(((a,l)=>{l.isValidDocument()?i.push(this.Nr.addEntry(t,l)):this.Nr.removeEntry(a)})),X.waitFor(i)}getFromCache(t,i){return this.Nr.getEntry(t,i)}getAllFromCache(t,i){return this.Nr.getEntries(t,i)}}class hC{constructor(t){this.persistence=t,this.si=new Jr((i=>jm(i)),Bm),this.lastRemoteSnapshotVersion=Et.min(),this.highestTargetId=0,this.oi=0,this._i=new Km,this.targetCount=0,this.ai=io.ur()}forEachTarget(t,i){return this.si.forEach(((a,l)=>i(l))),X.resolve()}getLastRemoteSnapshotVersion(t){return X.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return X.resolve(this.oi)}allocateTargetId(t){return this.highestTargetId=this.ai.next(),X.resolve(this.highestTargetId)}setTargetsMetadata(t,i,a){return a&&(this.lastRemoteSnapshotVersion=a),i>this.oi&&(this.oi=i),X.resolve()}Pr(t){this.si.set(t.target,t);const i=t.targetId;i>this.highestTargetId&&(this.ai=new io(i),this.highestTargetId=i),t.sequenceNumber>this.oi&&(this.oi=t.sequenceNumber)}addTargetData(t,i){return this.Pr(i),this.targetCount+=1,X.resolve()}updateTargetData(t,i){return this.Pr(i),X.resolve()}removeTargetData(t,i){return this.si.delete(i.target),this._i.jr(i.targetId),this.targetCount-=1,X.resolve()}removeTargets(t,i,a){let l=0;const c=[];return this.si.forEach(((d,p)=>{p.sequenceNumber<=i&&a.get(p.targetId)===null&&(this.si.delete(d),c.push(this.removeMatchingKeysForTargetId(t,p.targetId)),l++)})),X.waitFor(c).next((()=>l))}getTargetCount(t){return X.resolve(this.targetCount)}getTargetData(t,i){const a=this.si.get(i)||null;return X.resolve(a)}addMatchingKeys(t,i,a){return this._i.Wr(i,a),X.resolve()}removeMatchingKeys(t,i,a){this._i.zr(i,a);const l=this.persistence.referenceDelegate,c=[];return l&&i.forEach((d=>{c.push(l.markPotentiallyOrphaned(t,d))})),X.waitFor(c)}removeMatchingKeysForTargetId(t,i){return this._i.jr(i),X.resolve()}getMatchingKeysForTargetId(t,i){const a=this._i.Hr(i);return X.resolve(a)}containsKey(t,i){return X.resolve(this._i.containsKey(i))}}class lT{constructor(t,i){this.ui={},this.overlays={},this.ci=new ch(0),this.li=!1,this.li=!0,this.hi=new oC,this.referenceDelegate=t(this),this.Pi=new hC(this),this.indexManager=new XR,this.remoteDocumentCache=(function(l){return new uC(l)})((a=>this.referenceDelegate.Ti(a))),this.serializer=new KR(i),this.Ii=new rC(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let i=this.overlays[t.toKey()];return i||(i=new aC,this.overlays[t.toKey()]=i),i}getMutationQueue(t,i){let a=this.ui[t.toKey()];return a||(a=new lC(i,this.referenceDelegate),this.ui[t.toKey()]=a),a}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(t,i,a){rt("MemoryPersistence","Starting transaction:",t);const l=new fC(this.ci.next());return this.referenceDelegate.Ei(),a(l).next((c=>this.referenceDelegate.di(l).next((()=>c)))).toPromise().then((c=>(l.raiseOnCommittedEvent(),c)))}Ai(t,i){return X.or(Object.values(this.ui).map((a=>()=>a.containsKey(t,i))))}}class fC extends P2{constructor(t){super(),this.currentSequenceNumber=t}}class Ym{constructor(t){this.persistence=t,this.Ri=new Km,this.Vi=null}static mi(t){return new Ym(t)}get fi(){if(this.Vi)return this.Vi;throw yt(60996)}addReference(t,i,a){return this.Ri.addReference(a,i),this.fi.delete(a.toString()),X.resolve()}removeReference(t,i,a){return this.Ri.removeReference(a,i),this.fi.add(a.toString()),X.resolve()}markPotentiallyOrphaned(t,i){return this.fi.add(i.toString()),X.resolve()}removeTarget(t,i){this.Ri.jr(i.targetId).forEach((l=>this.fi.add(l.toString())));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(t,i.targetId).next((l=>{l.forEach((c=>this.fi.add(c.toString())))})).next((()=>a.removeTargetData(t,i)))}Ei(){this.Vi=new Set}di(t){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return X.forEach(this.fi,(a=>{const l=gt.fromPath(a);return this.gi(t,l).next((c=>{c||i.removeEntry(l,Et.min())}))})).next((()=>(this.Vi=null,i.apply(t))))}updateLimboDocument(t,i){return this.gi(t,i).next((a=>{a?this.fi.delete(i.toString()):this.fi.add(i.toString())}))}Ti(t){return 0}gi(t,i){return X.or([()=>X.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(t,i),()=>this.persistence.Ai(t,i)])}}class ih{constructor(t,i){this.persistence=t,this.pi=new Jr((a=>B2(a.path)),((a,l)=>a.isEqual(l))),this.garbageCollector=eC(this,i)}static mi(t,i){return new ih(t,i)}Ei(){}di(t){return X.resolve()}forEachTarget(t,i){return this.persistence.getTargetCache().forEachTarget(t,i)}gr(t){const i=this.wr(t);return this.persistence.getTargetCache().getTargetCount(t).next((a=>i.next((l=>a+l))))}wr(t){let i=0;return this.pr(t,(a=>{i++})).next((()=>i))}pr(t,i){return X.forEach(this.pi,((a,l)=>this.br(t,a,l).next((c=>c?X.resolve():i(l)))))}removeTargets(t,i,a){return this.persistence.getTargetCache().removeTargets(t,i,a)}removeOrphanedDocuments(t,i){let a=0;const l=this.persistence.getRemoteDocumentCache(),c=l.newChangeBuffer();return l.ii(t,(d=>this.br(t,d,i).next((p=>{p||(a++,c.removeEntry(d,Et.min()))})))).next((()=>c.apply(t))).next((()=>a))}markPotentiallyOrphaned(t,i){return this.pi.set(i,t.currentSequenceNumber),X.resolve()}removeTarget(t,i){const a=i.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,a)}addReference(t,i,a){return this.pi.set(a,t.currentSequenceNumber),X.resolve()}removeReference(t,i,a){return this.pi.set(a,t.currentSequenceNumber),X.resolve()}updateLimboDocument(t,i){return this.pi.set(i,t.currentSequenceNumber),X.resolve()}Ti(t){let i=t.key.toString().length;return t.isFoundDocument()&&(i+=Uc(t.data.value)),i}br(t,i,a){return X.or([()=>this.persistence.Ai(t,i),()=>this.persistence.getTargetCache().containsKey(t,i),()=>{const l=this.pi.get(i);return X.resolve(l!==void 0&&l>a)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}class Xm{constructor(t,i,a,l){this.targetId=t,this.fromCache=i,this.Es=a,this.ds=l}static As(t,i){let a=kt(),l=kt();for(const c of i.docChanges)switch(c.type){case 0:a=a.add(c.doc.key);break;case 1:l=l.add(c.doc.key)}return new Xm(t,i.fromCache,a,l)}}class dC{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}class mC{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return tS()?8:z2(en())>0?6:4})()}initialize(t,i){this.ps=t,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(t,i,a,l){const c={result:null};return this.ys(t,i).next((d=>{c.result=d})).next((()=>{if(!c.result)return this.ws(t,i,l,a).next((d=>{c.result=d}))})).next((()=>{if(c.result)return;const d=new dC;return this.Ss(t,i,d).next((p=>{if(c.result=p,this.Vs)return this.bs(t,i,d,p.size)}))})).next((()=>c.result))}bs(t,i,a,l){return a.documentReadCount<this.fs?(Ba()<=Mt.DEBUG&&rt("QueryEngine","SDK will not create cache indexes for query:",qa(i),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),X.resolve()):(Ba()<=Mt.DEBUG&&rt("QueryEngine","Query:",qa(i),"scans",a.documentReadCount,"local documents and returns",l,"documents as results."),a.documentReadCount>this.gs*l?(Ba()<=Mt.DEBUG&&rt("QueryEngine","The SDK decides to create cache indexes for query:",qa(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Oi(i))):X.resolve())}ys(t,i){if(V0(i))return X.resolve(null);let a=Oi(i);return this.indexManager.getIndexType(t,a).next((l=>l===0?null:(i.limit!==null&&l===1&&(i=lm(i,null,"F"),a=Oi(i)),this.indexManager.getDocumentsMatchingTarget(t,a).next((c=>{const d=kt(...c);return this.ps.getDocuments(t,d).next((p=>this.indexManager.getMinOffset(t,a).next((_=>{const y=this.Ds(i,p);return this.Cs(i,y,d,_.readTime)?this.ys(t,lm(i,null,"F")):this.vs(t,y,i,_)}))))})))))}ws(t,i,a,l){return V0(i)||l.isEqual(Et.min())?X.resolve(null):this.ps.getDocuments(t,a).next((c=>{const d=this.Ds(i,c);return this.Cs(i,d,a,l)?X.resolve(null):(Ba()<=Mt.DEBUG&&rt("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),qa(i)),this.vs(t,d,i,V2(l,Nl)).next((p=>p)))}))}Ds(t,i){let a=new Le(jE(t));return i.forEach(((l,c)=>{ph(t,c)&&(a=a.add(c))})),a}Cs(t,i,a,l){if(t.limit===null)return!1;if(a.size!==i.size)return!0;const c=t.limitType==="F"?i.last():i.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(l)>0)}Ss(t,i,a){return Ba()<=Mt.DEBUG&&rt("QueryEngine","Using full collection scan to execute query:",qa(i)),this.ps.getDocumentsMatchingQuery(t,i,ar.min(),a)}vs(t,i,a,l){return this.ps.getDocumentsMatchingQuery(t,a,l).next((c=>(i.forEach((d=>{c=c.insert(d.key,d)})),c)))}}const $m="LocalStore",gC=3e8;class pC{constructor(t,i,a,l){this.persistence=t,this.Fs=i,this.serializer=l,this.Ms=new ce(Vt),this.xs=new Jr((c=>jm(c)),Bm),this.Os=new Map,this.Ns=t.getRemoteDocumentCache(),this.Pi=t.getTargetCache(),this.Ii=t.getBundleCache(),this.Bs(a)}Bs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new sC(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>t.collect(i,this.Ms)))}}function yC(r,t,i,a){return new pC(r,t,i,a)}async function uT(r,t){const i=bt(r);return await i.persistence.runTransaction("Handle user change","readonly",(a=>{let l;return i.mutationQueue.getAllMutationBatches(a).next((c=>(l=c,i.Bs(t),i.mutationQueue.getAllMutationBatches(a)))).next((c=>{const d=[],p=[];let _=kt();for(const y of l){d.push(y.batchId);for(const E of y.mutations)_=_.add(E.key)}for(const y of c){p.push(y.batchId);for(const E of y.mutations)_=_.add(E.key)}return i.localDocuments.getDocuments(a,_).next((y=>({Ls:y,removedBatchIds:d,addedBatchIds:p})))}))}))}function _C(r,t){const i=bt(r);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(a=>{const l=t.batch.keys(),c=i.Ns.newChangeBuffer({trackRemovals:!0});return(function(p,_,y,E){const w=y.batch,M=w.keys();let Q=X.resolve();return M.forEach((tt=>{Q=Q.next((()=>E.getEntry(_,tt))).next((it=>{const W=y.docVersions.get(tt);Qt(W!==null,48541),it.version.compareTo(W)<0&&(w.applyToRemoteDocument(it,y),it.isValidDocument()&&(it.setReadTime(y.commitVersion),E.addEntry(it)))}))})),Q.next((()=>p.mutationQueue.removeMutationBatch(_,w)))})(i,a,t,c).next((()=>c.apply(a))).next((()=>i.mutationQueue.performConsistencyCheck(a))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(a,l,t.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,(function(p){let _=kt();for(let y=0;y<p.mutationResults.length;++y)p.mutationResults[y].transformResults.length>0&&(_=_.add(p.batch.mutations[y].key));return _})(t)))).next((()=>i.localDocuments.getDocuments(a,l)))}))}function cT(r){const t=bt(r);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>t.Pi.getLastRemoteSnapshotVersion(i)))}function vC(r,t){const i=bt(r),a=t.snapshotVersion;let l=i.Ms;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const d=i.Ns.newChangeBuffer({trackRemovals:!0});l=i.Ms;const p=[];t.targetChanges.forEach(((E,w)=>{const M=l.get(w);if(!M)return;p.push(i.Pi.removeMatchingKeys(c,E.removedDocuments,w).next((()=>i.Pi.addMatchingKeys(c,E.addedDocuments,w))));let Q=M.withSequenceNumber(c.currentSequenceNumber);t.targetMismatches.get(w)!==null?Q=Q.withResumeToken($e.EMPTY_BYTE_STRING,Et.min()).withLastLimboFreeSnapshotVersion(Et.min()):E.resumeToken.approximateByteSize()>0&&(Q=Q.withResumeToken(E.resumeToken,a)),l=l.insert(w,Q),(function(it,W,dt){return it.resumeToken.approximateByteSize()===0||W.snapshotVersion.toMicroseconds()-it.snapshotVersion.toMicroseconds()>=gC?!0:dt.addedDocuments.size+dt.modifiedDocuments.size+dt.removedDocuments.size>0})(M,Q,E)&&p.push(i.Pi.updateTargetData(c,Q))}));let _=fs(),y=kt();if(t.documentUpdates.forEach((E=>{t.resolvedLimboDocuments.has(E)&&p.push(i.persistence.referenceDelegate.updateLimboDocument(c,E))})),p.push(EC(c,d,t.documentUpdates).next((E=>{_=E.ks,y=E.qs}))),!a.isEqual(Et.min())){const E=i.Pi.getLastRemoteSnapshotVersion(c).next((w=>i.Pi.setTargetsMetadata(c,c.currentSequenceNumber,a)));p.push(E)}return X.waitFor(p).next((()=>d.apply(c))).next((()=>i.localDocuments.getLocalViewOfDocuments(c,_,y))).next((()=>_))})).then((c=>(i.Ms=l,c)))}function EC(r,t,i){let a=kt(),l=kt();return i.forEach((c=>a=a.add(c))),t.getEntries(r,a).next((c=>{let d=fs();return i.forEach(((p,_)=>{const y=c.get(p);_.isFoundDocument()!==y.isFoundDocument()&&(l=l.add(p)),_.isNoDocument()&&_.version.isEqual(Et.min())?(t.removeEntry(p,_.readTime),d=d.insert(p,_)):!y.isValidDocument()||_.version.compareTo(y.version)>0||_.version.compareTo(y.version)===0&&y.hasPendingWrites?(t.addEntry(_),d=d.insert(p,_)):rt($m,"Ignoring outdated watch update for ",p,". Current version:",y.version," Watch version:",_.version)})),{ks:d,qs:l}}))}function TC(r,t){const i=bt(r);return i.persistence.runTransaction("Get next mutation batch","readonly",(a=>(t===void 0&&(t=Lm),i.mutationQueue.getNextMutationBatchAfterBatchId(a,t))))}function bC(r,t){const i=bt(r);return i.persistence.runTransaction("Allocate target","readwrite",(a=>{let l;return i.Pi.getTargetData(a,t).next((c=>c?(l=c,X.resolve(l)):i.Pi.allocateTargetId(a).next((d=>(l=new Ws(t,d,"TargetPurposeListen",a.currentSequenceNumber),i.Pi.addTargetData(a,l).next((()=>l)))))))})).then((a=>{const l=i.Ms.get(a.targetId);return(l===null||a.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(i.Ms=i.Ms.insert(a.targetId,a),i.xs.set(t,a.targetId)),a}))}async function dm(r,t,i){const a=bt(r),l=a.Ms.get(t),c=i?"readwrite":"readwrite-primary";try{i||await a.persistence.runTransaction("Release target",c,(d=>a.persistence.referenceDelegate.removeTarget(d,l)))}catch(d){if(!co(d))throw d;rt($m,`Failed to update sequence numbers for target ${t}: ${d}`)}a.Ms=a.Ms.remove(t),a.xs.delete(l.target)}function K0(r,t,i){const a=bt(r);let l=Et.min(),c=kt();return a.persistence.runTransaction("Execute query","readwrite",(d=>(function(_,y,E){const w=bt(_),M=w.xs.get(E);return M!==void 0?X.resolve(w.Ms.get(M)):w.Pi.getTargetData(y,E)})(a,d,Oi(t)).next((p=>{if(p)return l=p.lastLimboFreeSnapshotVersion,a.Pi.getMatchingKeysForTargetId(d,p.targetId).next((_=>{c=_}))})).next((()=>a.Fs.getDocumentsMatchingQuery(d,t,i?l:Et.min(),i?c:kt()))).next((p=>(SC(a,oR(t),p),{documents:p,Qs:c})))))}function SC(r,t,i){let a=r.Os.get(t)||Et.min();i.forEach(((l,c)=>{c.readTime.compareTo(a)>0&&(a=c.readTime)})),r.Os.set(t,a)}class Y0{constructor(){this.activeTargetIds=dR()}zs(t){this.activeTargetIds=this.activeTargetIds.add(t)}js(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class AC{constructor(){this.Mo=new Y0,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,i,a){}addLocalQueryTarget(t,i=!0){return i&&this.Mo.zs(t),this.xo[t]||"not-current"}updateQueryState(t,i,a){this.xo[t]=i}removeLocalQueryTarget(t){this.Mo.js(t)}isLocalQueryTarget(t){return this.Mo.activeTargetIds.has(t)}clearQueryState(t){delete this.xo[t]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(t){return this.Mo.activeTargetIds.has(t)}start(){return this.Mo=new Y0,Promise.resolve()}handleUserChange(t,i,a){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class wC{Oo(t){}shutdown(){}}const X0="ConnectivityMonitor";class $0{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(t){this.qo.push(t)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){rt(X0,"Network connectivity changed: AVAILABLE");for(const t of this.qo)t(0)}ko(){rt(X0,"Network connectivity changed: UNAVAILABLE");for(const t of this.qo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Ic=null;function mm(){return Ic===null?Ic=(function(){return 268435456+Math.round(2147483648*Math.random())})():Ic++,"0x"+Ic.toString(16)}const qd="RestConnection",RC={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class CC{get $o(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const i=t.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.Uo=i+"://"+t.host,this.Ko=`projects/${a}/databases/${l}`,this.Wo=this.databaseId.database===$c?`project_id=${a}`:`project_id=${a}&database_id=${l}`}Go(t,i,a,l,c){const d=mm(),p=this.zo(t,i.toUriEncodedString());rt(qd,`Sending RPC '${t}' ${d}:`,p,a);const _={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(_,l,c);const{host:y}=new URL(p),E=ro(y);return this.Jo(t,p,_,a,E).then((w=>(rt(qd,`Received RPC '${t}' ${d}: `,w),w)),(w=>{throw Ja(qd,`RPC '${t}' ${d} failed with error: `,w,"url: ",p,"request:",a),w}))}Ho(t,i,a,l,c,d){return this.Go(t,i,a,l,c)}jo(t,i,a){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+lo})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((l,c)=>t[c]=l)),a&&a.headers.forEach(((l,c)=>t[c]=l))}zo(t,i){const a=RC[t];return`${this.Uo}/v1/${i}:${a}`}terminate(){}}class IC{constructor(t){this.Yo=t.Yo,this.Zo=t.Zo}Xo(t){this.e_=t}t_(t){this.n_=t}r_(t){this.i_=t}onMessage(t){this.s_=t}close(){this.Zo()}send(t){this.Yo(t)}o_(){this.e_()}__(){this.n_()}a_(t){this.i_(t)}u_(t){this.s_(t)}}const Je="WebChannelConnection";class NC extends CC{constructor(t){super(t),this.c_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,i,a,l,c){const d=mm();return new Promise(((p,_)=>{const y=new gE;y.setWithCredentials(!0),y.listenOnce(pE.COMPLETE,(()=>{try{switch(y.getLastErrorCode()){case kc.NO_ERROR:const w=y.getResponseJson();rt(Je,`XHR for RPC '${t}' ${d} received:`,JSON.stringify(w)),p(w);break;case kc.TIMEOUT:rt(Je,`RPC '${t}' ${d} timed out`),_(new ut(Z.DEADLINE_EXCEEDED,"Request time out"));break;case kc.HTTP_ERROR:const M=y.getStatus();if(rt(Je,`RPC '${t}' ${d} failed with status:`,M,"response text:",y.getResponseText()),M>0){let Q=y.getResponseJson();Array.isArray(Q)&&(Q=Q[0]);const tt=Q?.error;if(tt&&tt.status&&tt.message){const it=(function(dt){const vt=dt.toLowerCase().replace(/_/g,"-");return Object.values(Z).indexOf(vt)>=0?vt:Z.UNKNOWN})(tt.status);_(new ut(it,tt.message))}else _(new ut(Z.UNKNOWN,"Server responded with status "+y.getStatus()))}else _(new ut(Z.UNAVAILABLE,"Connection failed."));break;default:yt(9055,{l_:t,streamId:d,h_:y.getLastErrorCode(),P_:y.getLastError()})}}finally{rt(Je,`RPC '${t}' ${d} completed.`)}}));const E=JSON.stringify(l);rt(Je,`RPC '${t}' ${d} sending request:`,l),y.send(i,"POST",E,a,15)}))}T_(t,i,a){const l=mm(),c=[this.Uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],d=vE(),p=_E(),_={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(_.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(_.useFetchStreams=!0),this.jo(_.initMessageHeaders,i,a),_.encodeInitMessageHeaders=!0;const E=c.join("");rt(Je,`Creating RPC '${t}' stream ${l}: ${E}`,_);const w=d.createWebChannel(E,_);this.I_(w);let M=!1,Q=!1;const tt=new IC({Yo:W=>{Q?rt(Je,`Not sending because RPC '${t}' stream ${l} is closed:`,W):(M||(rt(Je,`Opening RPC '${t}' stream ${l} transport.`),w.open(),M=!0),rt(Je,`RPC '${t}' stream ${l} sending:`,W),w.send(W))},Zo:()=>w.close()}),it=(W,dt,vt)=>{W.listen(dt,(mt=>{try{vt(mt)}catch(Ht){setTimeout((()=>{throw Ht}),0)}}))};return it(w,yl.EventType.OPEN,(()=>{Q||(rt(Je,`RPC '${t}' stream ${l} transport opened.`),tt.o_())})),it(w,yl.EventType.CLOSE,(()=>{Q||(Q=!0,rt(Je,`RPC '${t}' stream ${l} transport closed`),tt.a_(),this.E_(w))})),it(w,yl.EventType.ERROR,(W=>{Q||(Q=!0,Ja(Je,`RPC '${t}' stream ${l} transport errored. Name:`,W.name,"Message:",W.message),tt.a_(new ut(Z.UNAVAILABLE,"The operation could not be completed")))})),it(w,yl.EventType.MESSAGE,(W=>{if(!Q){const dt=W.data[0];Qt(!!dt,16349);const vt=dt,mt=vt?.error||vt[0]?.error;if(mt){rt(Je,`RPC '${t}' stream ${l} received error:`,mt);const Ht=mt.status;let zt=(function(A){const I=Ne[A];if(I!==void 0)return ZE(I)})(Ht),Ut=mt.message;zt===void 0&&(zt=Z.INTERNAL,Ut="Unknown error status: "+Ht+" with message "+mt.message),Q=!0,tt.a_(new ut(zt,Ut)),w.close()}else rt(Je,`RPC '${t}' stream ${l} received:`,dt),tt.u_(dt)}})),it(p,yE.STAT_EVENT,(W=>{W.stat===nm.PROXY?rt(Je,`RPC '${t}' stream ${l} detected buffering proxy`):W.stat===nm.NOPROXY&&rt(Je,`RPC '${t}' stream ${l} detected no buffering proxy`)})),setTimeout((()=>{tt.__()}),0),tt}terminate(){this.c_.forEach((t=>t.close())),this.c_=[]}I_(t){this.c_.push(t)}E_(t){this.c_=this.c_.filter((i=>i===t))}}function Hd(){return typeof document<"u"?document:null}function Eh(r){return new MR(r,!0)}class hT{constructor(t,i,a=1e3,l=1.5,c=6e4){this.Mi=t,this.timerId=i,this.d_=a,this.A_=l,this.R_=c,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const i=Math.floor(this.V_+this.y_()),a=Math.max(0,Date.now()-this.f_),l=Math.max(0,i-a);l>0&&rt("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.V_} ms, delay with jitter: ${i} ms, last attempt: ${a} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,l,(()=>(this.f_=Date.now(),t()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const Z0="PersistentStream";class fT{constructor(t,i,a,l,c,d,p,_){this.Mi=t,this.S_=a,this.b_=l,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=p,this.listener=_,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new hT(t,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(t){this.Q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,i){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():i&&i.code===Z.RESOURCE_EXHAUSTED?(hs(i.toString()),hs("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===Z.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.r_(i)}K_(){}auth(){this.state=1;const t=this.W_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([a,l])=>{this.D_===i&&this.G_(a,l)}),(a=>{t((()=>{const l=new ut(Z.UNKNOWN,"Fetching auth token failed: "+a.message);return this.z_(l)}))}))}G_(t,i){const a=this.W_(this.D_);this.stream=this.j_(t,i),this.stream.Xo((()=>{a((()=>this.listener.Xo()))})),this.stream.t_((()=>{a((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((l=>{a((()=>this.z_(l)))})),this.stream.onMessage((l=>{a((()=>++this.F_==1?this.J_(l):this.onNext(l)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return rt(Z0,`close with error: ${t}`),this.stream=null,this.close(4,t)}W_(t){return i=>{this.Mi.enqueueAndForget((()=>this.D_===t?i():(rt(Z0,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class xC extends fT{constructor(t,i,a,l,c,d){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,a,l,d),this.serializer=c}j_(t,i){return this.connection.T_("Listen",t,i)}J_(t){return this.onNext(t)}onNext(t){this.M_.reset();const i=UR(this.serializer,t),a=(function(c){if(!("targetChange"in c))return Et.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?Et.min():d.readTime?Mi(d.readTime):Et.min()})(t);return this.listener.H_(i,a)}Y_(t){const i={};i.database=fm(this.serializer),i.addTarget=(function(c,d){let p;const _=d.target;if(p=om(_)?{documents:zR(c,_)}:{query:jR(c,_).ft},p.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){p.resumeToken=tT(c,d.resumeToken);const y=um(c,d.expectedCount);y!==null&&(p.expectedCount=y)}else if(d.snapshotVersion.compareTo(Et.min())>0){p.readTime=nh(c,d.snapshotVersion.toTimestamp());const y=um(c,d.expectedCount);y!==null&&(p.expectedCount=y)}return p})(this.serializer,t);const a=qR(this.serializer,t);a&&(i.labels=a),this.q_(i)}Z_(t){const i={};i.database=fm(this.serializer),i.removeTarget=t,this.q_(i)}}class DC extends fT{constructor(t,i,a,l,c,d){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,a,l,d),this.serializer=c}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(t,i){return this.connection.T_("Write",t,i)}J_(t){return Qt(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,Qt(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){Qt(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const i=PR(t.writeResults,t.commitTime),a=Mi(t.commitTime);return this.listener.na(a,i)}ra(){const t={};t.database=fm(this.serializer),this.q_(t)}ea(t){const i={streamToken:this.lastStreamToken,writes:t.map((a=>LR(this.serializer,a)))};this.q_(i)}}class OC{}class MC extends OC{constructor(t,i,a,l){super(),this.authCredentials=t,this.appCheckCredentials=i,this.connection=a,this.serializer=l,this.ia=!1}sa(){if(this.ia)throw new ut(Z.FAILED_PRECONDITION,"The client has already been terminated.")}Go(t,i,a,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Go(t,cm(i,a),l,c,d))).catch((c=>{throw c.name==="FirebaseError"?(c.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new ut(Z.UNKNOWN,c.toString())}))}Ho(t,i,a,l,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,p])=>this.connection.Ho(t,cm(i,a),l,d,p,c))).catch((d=>{throw d.name==="FirebaseError"?(d.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new ut(Z.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class VC{constructor(t,i){this.asyncQueue=t,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const i=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(hs(i),this.aa=!1):rt("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const $r="RemoteStore";class kC{constructor(t,i,a,l,c){this.localStore=t,this.datastore=i,this.asyncQueue=a,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=c,this.Aa.Oo((d=>{a.enqueueAndForget((async()=>{Wr(this)&&(rt($r,"Restarting streams for network reachability change."),await(async function(_){const y=bt(_);y.Ea.add(4),await Fl(y),y.Ra.set("Unknown"),y.Ea.delete(4),await Th(y)})(this))}))})),this.Ra=new VC(a,l)}}async function Th(r){if(Wr(r))for(const t of r.da)await t(!0)}async function Fl(r){for(const t of r.da)await t(!1)}function dT(r,t){const i=bt(r);i.Ia.has(t.targetId)||(i.Ia.set(t.targetId,t),tg(i)?Wm(i):ho(i).O_()&&Jm(i,t))}function Zm(r,t){const i=bt(r),a=ho(i);i.Ia.delete(t),a.O_()&&mT(i,t),i.Ia.size===0&&(a.O_()?a.L_():Wr(i)&&i.Ra.set("Unknown"))}function Jm(r,t){if(r.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Et.min())>0){const i=r.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(i)}ho(r).Y_(t)}function mT(r,t){r.Va.Ue(t),ho(r).Z_(t)}function Wm(r){r.Va=new NR({getRemoteKeysForTarget:t=>r.remoteSyncer.getRemoteKeysForTarget(t),At:t=>r.Ia.get(t)||null,ht:()=>r.datastore.serializer.databaseId}),ho(r).start(),r.Ra.ua()}function tg(r){return Wr(r)&&!ho(r).x_()&&r.Ia.size>0}function Wr(r){return bt(r).Ea.size===0}function gT(r){r.Va=void 0}async function UC(r){r.Ra.set("Online")}async function LC(r){r.Ia.forEach(((t,i)=>{Jm(r,t)}))}async function PC(r,t){gT(r),tg(r)?(r.Ra.ha(t),Wm(r)):r.Ra.set("Unknown")}async function zC(r,t,i){if(r.Ra.set("Online"),t instanceof WE&&t.state===2&&t.cause)try{await(async function(l,c){const d=c.cause;for(const p of c.targetIds)l.Ia.has(p)&&(await l.remoteSyncer.rejectListen(p,d),l.Ia.delete(p),l.Va.removeTarget(p))})(r,t)}catch(a){rt($r,"Failed to remove targets %s: %s ",t.targetIds.join(","),a),await sh(r,a)}else if(t instanceof zc?r.Va.Ze(t):t instanceof JE?r.Va.st(t):r.Va.tt(t),!i.isEqual(Et.min()))try{const a=await cT(r.localStore);i.compareTo(a)>=0&&await(function(c,d){const p=c.Va.Tt(d);return p.targetChanges.forEach(((_,y)=>{if(_.resumeToken.approximateByteSize()>0){const E=c.Ia.get(y);E&&c.Ia.set(y,E.withResumeToken(_.resumeToken,d))}})),p.targetMismatches.forEach(((_,y)=>{const E=c.Ia.get(_);if(!E)return;c.Ia.set(_,E.withResumeToken($e.EMPTY_BYTE_STRING,E.snapshotVersion)),mT(c,_);const w=new Ws(E.target,_,y,E.sequenceNumber);Jm(c,w)})),c.remoteSyncer.applyRemoteEvent(p)})(r,i)}catch(a){rt($r,"Failed to raise snapshot:",a),await sh(r,a)}}async function sh(r,t,i){if(!co(t))throw t;r.Ea.add(1),await Fl(r),r.Ra.set("Offline"),i||(i=()=>cT(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{rt($r,"Retrying IndexedDB access"),await i(),r.Ea.delete(1),await Th(r)}))}function pT(r,t){return t().catch((i=>sh(r,i,t)))}async function bh(r){const t=bt(r),i=cr(t);let a=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:Lm;for(;jC(t);)try{const l=await TC(t.localStore,a);if(l===null){t.Ta.length===0&&i.L_();break}a=l.batchId,BC(t,l)}catch(l){await sh(t,l)}yT(t)&&_T(t)}function jC(r){return Wr(r)&&r.Ta.length<10}function BC(r,t){r.Ta.push(t);const i=cr(r);i.O_()&&i.X_&&i.ea(t.mutations)}function yT(r){return Wr(r)&&!cr(r).x_()&&r.Ta.length>0}function _T(r){cr(r).start()}async function qC(r){cr(r).ra()}async function HC(r){const t=cr(r);for(const i of r.Ta)t.ea(i.mutations)}async function GC(r,t,i){const a=r.Ta.shift(),l=Gm.from(a,t,i);await pT(r,(()=>r.remoteSyncer.applySuccessfulWrite(l))),await bh(r)}async function FC(r,t){t&&cr(r).X_&&await(async function(a,l){if((function(d){return RR(d)&&d!==Z.ABORTED})(l.code)){const c=a.Ta.shift();cr(a).B_(),await pT(a,(()=>a.remoteSyncer.rejectFailedWrite(c.batchId,l))),await bh(a)}})(r,t),yT(r)&&_T(r)}async function J0(r,t){const i=bt(r);i.asyncQueue.verifyOperationInProgress(),rt($r,"RemoteStore received new credentials");const a=Wr(i);i.Ea.add(3),await Fl(i),a&&i.Ra.set("Unknown"),await i.remoteSyncer.handleCredentialChange(t),i.Ea.delete(3),await Th(i)}async function QC(r,t){const i=bt(r);t?(i.Ea.delete(2),await Th(i)):t||(i.Ea.add(2),await Fl(i),i.Ra.set("Unknown"))}function ho(r){return r.ma||(r.ma=(function(i,a,l){const c=bt(i);return c.sa(),new xC(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(r.datastore,r.asyncQueue,{Xo:UC.bind(null,r),t_:LC.bind(null,r),r_:PC.bind(null,r),H_:zC.bind(null,r)}),r.da.push((async t=>{t?(r.ma.B_(),tg(r)?Wm(r):r.Ra.set("Unknown")):(await r.ma.stop(),gT(r))}))),r.ma}function cr(r){return r.fa||(r.fa=(function(i,a,l){const c=bt(i);return c.sa(),new DC(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(r.datastore,r.asyncQueue,{Xo:()=>Promise.resolve(),t_:qC.bind(null,r),r_:FC.bind(null,r),ta:HC.bind(null,r),na:GC.bind(null,r)}),r.da.push((async t=>{t?(r.fa.B_(),await bh(r)):(await r.fa.stop(),r.Ta.length>0&&(rt($r,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}class eg{constructor(t,i,a,l,c){this.asyncQueue=t,this.timerId=i,this.targetTimeMs=a,this.op=l,this.removalCallback=c,this.deferred=new sr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,i,a,l,c){const d=Date.now()+a,p=new eg(t,i,d,l,c);return p.start(a),p}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ut(Z.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function ng(r,t){if(hs("AsyncQueue",`${t}: ${r}`),co(r))return new ut(Z.UNAVAILABLE,`${t}: ${r}`);throw r}class Xa{static emptySet(t){return new Xa(t.comparator)}constructor(t){this.comparator=t?(i,a)=>t(i,a)||gt.comparator(i.key,a.key):(i,a)=>gt.comparator(i.key,a.key),this.keyedMap=_l(),this.sortedSet=new ce(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const i=this.keyedMap.get(t);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((i,a)=>(t(i),!1)))}add(t){const i=this.delete(t.key);return i.copy(i.keyedMap.insert(t.key,t),i.sortedSet.insert(t,null))}delete(t){const i=this.get(t);return i?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(i)):this}isEqual(t){if(!(t instanceof Xa)||this.size!==t.size)return!1;const i=this.sortedSet.getIterator(),a=t.sortedSet.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=a.getNext().key;if(!l.isEqual(c))return!1}return!0}toString(){const t=[];return this.forEach((i=>{t.push(i.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,i){const a=new Xa;return a.comparator=this.comparator,a.keyedMap=t,a.sortedSet=i,a}}class W0{constructor(){this.ga=new ce(gt.comparator)}track(t){const i=t.doc.key,a=this.ga.get(i);a?t.type!==0&&a.type===3?this.ga=this.ga.insert(i,t):t.type===3&&a.type!==1?this.ga=this.ga.insert(i,{type:a.type,doc:t.doc}):t.type===2&&a.type===2?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):t.type===2&&a.type===0?this.ga=this.ga.insert(i,{type:0,doc:t.doc}):t.type===1&&a.type===0?this.ga=this.ga.remove(i):t.type===1&&a.type===2?this.ga=this.ga.insert(i,{type:1,doc:a.doc}):t.type===0&&a.type===1?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):yt(63341,{Rt:t,pa:a}):this.ga=this.ga.insert(i,t)}ya(){const t=[];return this.ga.inorderTraversal(((i,a)=>{t.push(a)})),t}}class so{constructor(t,i,a,l,c,d,p,_,y){this.query=t,this.docs=i,this.oldDocs=a,this.docChanges=l,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=p,this.excludesMetadataChanges=_,this.hasCachedResults=y}static fromInitialDocuments(t,i,a,l,c){const d=[];return i.forEach((p=>{d.push({type:0,doc:p})})),new so(t,i,Xa.emptySet(i),d,a,l,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&gh(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const i=this.docChanges,a=t.docChanges;if(i.length!==a.length)return!1;for(let l=0;l<i.length;l++)if(i[l].type!==a[l].type||!i[l].doc.isEqual(a[l].doc))return!1;return!0}}class KC{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((t=>t.Da()))}}class YC{constructor(){this.queries=tv(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,a){const l=bt(i),c=l.queries;l.queries=tv(),c.forEach(((d,p)=>{for(const _ of p.Sa)_.onError(a)}))})(this,new ut(Z.ABORTED,"Firestore shutting down"))}}function tv(){return new Jr((r=>zE(r)),gh)}async function vT(r,t){const i=bt(r);let a=3;const l=t.query;let c=i.queries.get(l);c?!c.ba()&&t.Da()&&(a=2):(c=new KC,a=t.Da()?0:1);try{switch(a){case 0:c.wa=await i.onListen(l,!0);break;case 1:c.wa=await i.onListen(l,!1);break;case 2:await i.onFirstRemoteStoreListen(l)}}catch(d){const p=ng(d,`Initialization of query '${qa(t.query)}' failed`);return void t.onError(p)}i.queries.set(l,c),c.Sa.push(t),t.va(i.onlineState),c.wa&&t.Fa(c.wa)&&ig(i)}async function ET(r,t){const i=bt(r),a=t.query;let l=3;const c=i.queries.get(a);if(c){const d=c.Sa.indexOf(t);d>=0&&(c.Sa.splice(d,1),c.Sa.length===0?l=t.Da()?0:1:!c.ba()&&t.Da()&&(l=2))}switch(l){case 0:return i.queries.delete(a),i.onUnlisten(a,!0);case 1:return i.queries.delete(a),i.onUnlisten(a,!1);case 2:return i.onLastRemoteStoreUnlisten(a);default:return}}function XC(r,t){const i=bt(r);let a=!1;for(const l of t){const c=l.query,d=i.queries.get(c);if(d){for(const p of d.Sa)p.Fa(l)&&(a=!0);d.wa=l}}a&&ig(i)}function $C(r,t,i){const a=bt(r),l=a.queries.get(t);if(l)for(const c of l.Sa)c.onError(i);a.queries.delete(t)}function ig(r){r.Ca.forEach((t=>{t.next()}))}var gm,ev;(ev=gm||(gm={})).Ma="default",ev.Cache="cache";class TT{constructor(t,i,a){this.query=t,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=a||{}}Fa(t){if(!this.options.includeMetadataChanges){const a=[];for(const l of t.docChanges)l.type!==3&&a.push(l);t=new so(t.query,t.docs,t.oldDocs,a,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let i=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),i=!0):this.La(t,this.onlineState)&&(this.ka(t),i=!0),this.Na=t,i}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),i=!0),i}La(t,i){if(!t.fromCache||!this.Da())return!0;const a=i!=="Offline";return(!this.options.qa||!a)&&(!t.docs.isEmpty()||t.hasCachedResults||i==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(t){t=so.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==gm.Cache}}class bT{constructor(t){this.key=t}}class ST{constructor(t){this.key=t}}class ZC{constructor(t,i){this.query=t,this.Ya=i,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=kt(),this.mutatedKeys=kt(),this.eu=jE(t),this.tu=new Xa(this.eu)}get nu(){return this.Ya}ru(t,i){const a=i?i.iu:new W0,l=i?i.tu:this.tu;let c=i?i.mutatedKeys:this.mutatedKeys,d=l,p=!1;const _=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,y=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(t.inorderTraversal(((E,w)=>{const M=l.get(E),Q=ph(this.query,w)?w:null,tt=!!M&&this.mutatedKeys.has(M.key),it=!!Q&&(Q.hasLocalMutations||this.mutatedKeys.has(Q.key)&&Q.hasCommittedMutations);let W=!1;M&&Q?M.data.isEqual(Q.data)?tt!==it&&(a.track({type:3,doc:Q}),W=!0):this.su(M,Q)||(a.track({type:2,doc:Q}),W=!0,(_&&this.eu(Q,_)>0||y&&this.eu(Q,y)<0)&&(p=!0)):!M&&Q?(a.track({type:0,doc:Q}),W=!0):M&&!Q&&(a.track({type:1,doc:M}),W=!0,(_||y)&&(p=!0)),W&&(Q?(d=d.add(Q),c=it?c.add(E):c.delete(E)):(d=d.delete(E),c=c.delete(E)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const E=this.query.limitType==="F"?d.last():d.first();d=d.delete(E.key),c=c.delete(E.key),a.track({type:1,doc:E})}return{tu:d,iu:a,Cs:p,mutatedKeys:c}}su(t,i){return t.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(t,i,a,l){const c=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const d=t.iu.ya();d.sort(((E,w)=>(function(Q,tt){const it=W=>{switch(W){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return yt(20277,{Rt:W})}};return it(Q)-it(tt)})(E.type,w.type)||this.eu(E.doc,w.doc))),this.ou(a),l=l??!1;const p=i&&!l?this._u():[],_=this.Xa.size===0&&this.current&&!l?1:0,y=_!==this.Za;return this.Za=_,d.length!==0||y?{snapshot:new so(this.query,t.tu,c,d,t.mutatedKeys,_===0,y,!1,!!a&&a.resumeToken.approximateByteSize()>0),au:p}:{au:p}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new W0,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(t){return!this.Ya.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((i=>this.Ya=this.Ya.add(i))),t.modifiedDocuments.forEach((i=>{})),t.removedDocuments.forEach((i=>this.Ya=this.Ya.delete(i))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Xa;this.Xa=kt(),this.tu.forEach((a=>{this.uu(a.key)&&(this.Xa=this.Xa.add(a.key))}));const i=[];return t.forEach((a=>{this.Xa.has(a)||i.push(new ST(a))})),this.Xa.forEach((a=>{t.has(a)||i.push(new bT(a))})),i}cu(t){this.Ya=t.Qs,this.Xa=kt();const i=this.ru(t.documents);return this.applyChanges(i,!0)}lu(){return so.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const sg="SyncEngine";class JC{constructor(t,i,a){this.query=t,this.targetId=i,this.view=a}}class WC{constructor(t){this.key=t,this.hu=!1}}class tI{constructor(t,i,a,l,c,d){this.localStore=t,this.remoteStore=i,this.eventManager=a,this.sharedClientState=l,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new Jr((p=>zE(p)),gh),this.Iu=new Map,this.Eu=new Set,this.du=new ce(gt.comparator),this.Au=new Map,this.Ru=new Km,this.Vu={},this.mu=new Map,this.fu=io.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function eI(r,t,i=!0){const a=NT(r);let l;const c=a.Tu.get(t);return c?(a.sharedClientState.addLocalQueryTarget(c.targetId),l=c.view.lu()):l=await AT(a,t,i,!0),l}async function nI(r,t){const i=NT(r);await AT(i,t,!0,!1)}async function AT(r,t,i,a){const l=await bC(r.localStore,Oi(t)),c=l.targetId,d=r.sharedClientState.addLocalQueryTarget(c,i);let p;return a&&(p=await iI(r,t,c,d==="current",l.resumeToken)),r.isPrimaryClient&&i&&dT(r.remoteStore,l),p}async function iI(r,t,i,a,l){r.pu=(w,M,Q)=>(async function(it,W,dt,vt){let mt=W.view.ru(dt);mt.Cs&&(mt=await K0(it.localStore,W.query,!1).then((({documents:x})=>W.view.ru(x,mt))));const Ht=vt&&vt.targetChanges.get(W.targetId),zt=vt&&vt.targetMismatches.get(W.targetId)!=null,Ut=W.view.applyChanges(mt,it.isPrimaryClient,Ht,zt);return iv(it,W.targetId,Ut.au),Ut.snapshot})(r,w,M,Q);const c=await K0(r.localStore,t,!0),d=new ZC(t,c.Qs),p=d.ru(c.documents),_=Gl.createSynthesizedTargetChangeForCurrentChange(i,a&&r.onlineState!=="Offline",l),y=d.applyChanges(p,r.isPrimaryClient,_);iv(r,i,y.au);const E=new JC(t,i,d);return r.Tu.set(t,E),r.Iu.has(i)?r.Iu.get(i).push(t):r.Iu.set(i,[t]),y.snapshot}async function sI(r,t,i){const a=bt(r),l=a.Tu.get(t),c=a.Iu.get(l.targetId);if(c.length>1)return a.Iu.set(l.targetId,c.filter((d=>!gh(d,t)))),void a.Tu.delete(t);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(l.targetId),a.sharedClientState.isActiveQueryTarget(l.targetId)||await dm(a.localStore,l.targetId,!1).then((()=>{a.sharedClientState.clearQueryState(l.targetId),i&&Zm(a.remoteStore,l.targetId),pm(a,l.targetId)})).catch(uo)):(pm(a,l.targetId),await dm(a.localStore,l.targetId,!0))}async function rI(r,t){const i=bt(r),a=i.Tu.get(t),l=i.Iu.get(a.targetId);i.isPrimaryClient&&l.length===1&&(i.sharedClientState.removeLocalQueryTarget(a.targetId),Zm(i.remoteStore,a.targetId))}async function aI(r,t,i){const a=dI(r);try{const l=await(function(d,p){const _=bt(d),y=re.now(),E=p.reduce(((Q,tt)=>Q.add(tt.key)),kt());let w,M;return _.persistence.runTransaction("Locally write mutations","readwrite",(Q=>{let tt=fs(),it=kt();return _.Ns.getEntries(Q,E).next((W=>{tt=W,tt.forEach(((dt,vt)=>{vt.isValidDocument()||(it=it.add(dt))}))})).next((()=>_.localDocuments.getOverlayedDocuments(Q,tt))).next((W=>{w=W;const dt=[];for(const vt of p){const mt=TR(vt,w.get(vt.key).overlayedDocument);mt!=null&&dt.push(new dr(vt.key,mt,OE(mt.value.mapValue),ai.exists(!0)))}return _.mutationQueue.addMutationBatch(Q,y,dt,p)})).next((W=>{M=W;const dt=W.applyToLocalDocumentSet(w,it);return _.documentOverlayCache.saveOverlays(Q,W.batchId,dt)}))})).then((()=>({batchId:M.batchId,changes:qE(w)})))})(a.localStore,t);a.sharedClientState.addPendingMutation(l.batchId),(function(d,p,_){let y=d.Vu[d.currentUser.toKey()];y||(y=new ce(Vt)),y=y.insert(p,_),d.Vu[d.currentUser.toKey()]=y})(a,l.batchId,i),await Ql(a,l.changes),await bh(a.remoteStore)}catch(l){const c=ng(l,"Failed to persist write");i.reject(c)}}async function wT(r,t){const i=bt(r);try{const a=await vC(i.localStore,t);t.targetChanges.forEach(((l,c)=>{const d=i.Au.get(c);d&&(Qt(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1,22616),l.addedDocuments.size>0?d.hu=!0:l.modifiedDocuments.size>0?Qt(d.hu,14607):l.removedDocuments.size>0&&(Qt(d.hu,42227),d.hu=!1))})),await Ql(i,a,t)}catch(a){await uo(a)}}function nv(r,t,i){const a=bt(r);if(a.isPrimaryClient&&i===0||!a.isPrimaryClient&&i===1){const l=[];a.Tu.forEach(((c,d)=>{const p=d.view.va(t);p.snapshot&&l.push(p.snapshot)})),(function(d,p){const _=bt(d);_.onlineState=p;let y=!1;_.queries.forEach(((E,w)=>{for(const M of w.Sa)M.va(p)&&(y=!0)})),y&&ig(_)})(a.eventManager,t),l.length&&a.Pu.H_(l),a.onlineState=t,a.isPrimaryClient&&a.sharedClientState.setOnlineState(t)}}async function oI(r,t,i){const a=bt(r);a.sharedClientState.updateQueryState(t,"rejected",i);const l=a.Au.get(t),c=l&&l.key;if(c){let d=new ce(gt.comparator);d=d.insert(c,tn.newNoDocument(c,Et.min()));const p=kt().add(c),_=new vh(Et.min(),new Map,new ce(Vt),d,p);await wT(a,_),a.du=a.du.remove(c),a.Au.delete(t),rg(a)}else await dm(a.localStore,t,!1).then((()=>pm(a,t,i))).catch(uo)}async function lI(r,t){const i=bt(r),a=t.batch.batchId;try{const l=await _C(i.localStore,t);CT(i,a,null),RT(i,a),i.sharedClientState.updateMutationState(a,"acknowledged"),await Ql(i,l)}catch(l){await uo(l)}}async function uI(r,t,i){const a=bt(r);try{const l=await(function(d,p){const _=bt(d);return _.persistence.runTransaction("Reject batch","readwrite-primary",(y=>{let E;return _.mutationQueue.lookupMutationBatch(y,p).next((w=>(Qt(w!==null,37113),E=w.keys(),_.mutationQueue.removeMutationBatch(y,w)))).next((()=>_.mutationQueue.performConsistencyCheck(y))).next((()=>_.documentOverlayCache.removeOverlaysForBatchId(y,E,p))).next((()=>_.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,E))).next((()=>_.localDocuments.getDocuments(y,E)))}))})(a.localStore,t);CT(a,t,i),RT(a,t),a.sharedClientState.updateMutationState(t,"rejected",i),await Ql(a,l)}catch(l){await uo(l)}}function RT(r,t){(r.mu.get(t)||[]).forEach((i=>{i.resolve()})),r.mu.delete(t)}function CT(r,t,i){const a=bt(r);let l=a.Vu[a.currentUser.toKey()];if(l){const c=l.get(t);c&&(i?c.reject(i):c.resolve(),l=l.remove(t)),a.Vu[a.currentUser.toKey()]=l}}function pm(r,t,i=null){r.sharedClientState.removeLocalQueryTarget(t);for(const a of r.Iu.get(t))r.Tu.delete(a),i&&r.Pu.yu(a,i);r.Iu.delete(t),r.isPrimaryClient&&r.Ru.jr(t).forEach((a=>{r.Ru.containsKey(a)||IT(r,a)}))}function IT(r,t){r.Eu.delete(t.path.canonicalString());const i=r.du.get(t);i!==null&&(Zm(r.remoteStore,i),r.du=r.du.remove(t),r.Au.delete(i),rg(r))}function iv(r,t,i){for(const a of i)a instanceof bT?(r.Ru.addReference(a.key,t),cI(r,a)):a instanceof ST?(rt(sg,"Document no longer in limbo: "+a.key),r.Ru.removeReference(a.key,t),r.Ru.containsKey(a.key)||IT(r,a.key)):yt(19791,{wu:a})}function cI(r,t){const i=t.key,a=i.path.canonicalString();r.du.get(i)||r.Eu.has(a)||(rt(sg,"New document in limbo: "+i),r.Eu.add(a),rg(r))}function rg(r){for(;r.Eu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const t=r.Eu.values().next().value;r.Eu.delete(t);const i=new gt(ue.fromString(t)),a=r.fu.next();r.Au.set(a,new WC(i)),r.du=r.du.insert(i,a),dT(r.remoteStore,new Ws(Oi(mh(i.path)),a,"TargetPurposeLimboResolution",ch.ce))}}async function Ql(r,t,i){const a=bt(r),l=[],c=[],d=[];a.Tu.isEmpty()||(a.Tu.forEach(((p,_)=>{d.push(a.pu(_,t,i).then((y=>{if((y||i)&&a.isPrimaryClient){const E=y?!y.fromCache:i?.targetChanges.get(_.targetId)?.current;a.sharedClientState.updateQueryState(_.targetId,E?"current":"not-current")}if(y){l.push(y);const E=Xm.As(_.targetId,y);c.push(E)}})))})),await Promise.all(d),a.Pu.H_(l),await(async function(_,y){const E=bt(_);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",(w=>X.forEach(y,(M=>X.forEach(M.Es,(Q=>E.persistence.referenceDelegate.addReference(w,M.targetId,Q))).next((()=>X.forEach(M.ds,(Q=>E.persistence.referenceDelegate.removeReference(w,M.targetId,Q)))))))))}catch(w){if(!co(w))throw w;rt($m,"Failed to update sequence numbers: "+w)}for(const w of y){const M=w.targetId;if(!w.fromCache){const Q=E.Ms.get(M),tt=Q.snapshotVersion,it=Q.withLastLimboFreeSnapshotVersion(tt);E.Ms=E.Ms.insert(M,it)}}})(a.localStore,c))}async function hI(r,t){const i=bt(r);if(!i.currentUser.isEqual(t)){rt(sg,"User change. New user:",t.toKey());const a=await uT(i.localStore,t);i.currentUser=t,(function(c,d){c.mu.forEach((p=>{p.forEach((_=>{_.reject(new ut(Z.CANCELLED,d))}))})),c.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(t,a.removedBatchIds,a.addedBatchIds),await Ql(i,a.Ls)}}function fI(r,t){const i=bt(r),a=i.Au.get(t);if(a&&a.hu)return kt().add(a.key);{let l=kt();const c=i.Iu.get(t);if(!c)return l;for(const d of c){const p=i.Tu.get(d);l=l.unionWith(p.view.nu)}return l}}function NT(r){const t=bt(r);return t.remoteStore.remoteSyncer.applyRemoteEvent=wT.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=fI.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=oI.bind(null,t),t.Pu.H_=XC.bind(null,t.eventManager),t.Pu.yu=$C.bind(null,t.eventManager),t}function dI(r){const t=bt(r);return t.remoteStore.remoteSyncer.applySuccessfulWrite=lI.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=uI.bind(null,t),t}class rh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=Eh(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,i){return null}Mu(t,i){return null}vu(t){return yC(this.persistence,new mC,t.initialUser,this.serializer)}Cu(t){return new lT(Ym.mi,this.serializer)}Du(t){return new AC}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}rh.provider={build:()=>new rh};class mI extends rh{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,i){Qt(this.persistence.referenceDelegate instanceof ih,46915);const a=this.persistence.referenceDelegate.garbageCollector;return new WR(a,t.asyncQueue,i)}Cu(t){const i=this.cacheSizeBytes!==void 0?yn.withCacheSize(this.cacheSizeBytes):yn.DEFAULT;return new lT((a=>ih.mi(a,i)),this.serializer)}}class ym{async initialize(t,i){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>nv(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=hI.bind(null,this.syncEngine),await QC(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new YC})()}createDatastore(t){const i=Eh(t.databaseInfo.databaseId),a=(function(c){return new NC(c)})(t.databaseInfo);return(function(c,d,p,_){return new MC(c,d,p,_)})(t.authCredentials,t.appCheckCredentials,a,i)}createRemoteStore(t){return(function(a,l,c,d,p){return new kC(a,l,c,d,p)})(this.localStore,this.datastore,t.asyncQueue,(i=>nv(this.syncEngine,i,0)),(function(){return $0.v()?new $0:new wC})())}createSyncEngine(t,i){return(function(l,c,d,p,_,y,E){const w=new tI(l,c,d,p,_,y);return E&&(w.gu=!0),w})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const a=bt(i);rt($r,"RemoteStore shutting down."),a.Ea.add(5),await Fl(a),a.Aa.shutdown(),a.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}ym.provider={build:()=>new ym};class xT{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):hs("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,i){setTimeout((()=>{this.muted||t(i)}),0)}}const hr="FirestoreClient";class gI{constructor(t,i,a,l,c){this.authCredentials=t,this.appCheckCredentials=i,this.asyncQueue=a,this.databaseInfo=l,this.user=We.UNAUTHENTICATED,this.clientId=km.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(a,(async d=>{rt(hr,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(a,(d=>(rt(hr,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new sr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(i){const a=ng(i,"Failed to shutdown persistence");t.reject(a)}})),t.promise}}async function Gd(r,t){r.asyncQueue.verifyOperationInProgress(),rt(hr,"Initializing OfflineComponentProvider");const i=r.configuration;await t.initialize(i);let a=i.initialUser;r.setCredentialChangeListener((async l=>{a.isEqual(l)||(await uT(t.localStore,l),a=l)})),t.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=t}async function sv(r,t){r.asyncQueue.verifyOperationInProgress();const i=await pI(r);rt(hr,"Initializing OnlineComponentProvider"),await t.initialize(i,r.configuration),r.setCredentialChangeListener((a=>J0(t.remoteStore,a))),r.setAppCheckTokenChangeListener(((a,l)=>J0(t.remoteStore,l))),r._onlineComponents=t}async function pI(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){rt(hr,"Using user provided OfflineComponentProvider");try{await Gd(r,r._uninitializedComponentsProvider._offline)}catch(t){const i=t;if(!(function(l){return l.name==="FirebaseError"?l.code===Z.FAILED_PRECONDITION||l.code===Z.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11})(i))throw i;Ja("Error using user provided cache. Falling back to memory cache: "+i),await Gd(r,new rh)}}else rt(hr,"Using default OfflineComponentProvider"),await Gd(r,new mI(void 0));return r._offlineComponents}async function DT(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(rt(hr,"Using user provided OnlineComponentProvider"),await sv(r,r._uninitializedComponentsProvider._online)):(rt(hr,"Using default OnlineComponentProvider"),await sv(r,new ym))),r._onlineComponents}function yI(r){return DT(r).then((t=>t.syncEngine))}async function _m(r){const t=await DT(r),i=t.eventManager;return i.onListen=eI.bind(null,t.syncEngine),i.onUnlisten=sI.bind(null,t.syncEngine),i.onFirstRemoteStoreListen=nI.bind(null,t.syncEngine),i.onLastRemoteStoreUnlisten=rI.bind(null,t.syncEngine),i}function _I(r,t,i={}){const a=new sr;return r.asyncQueue.enqueueAndForget((async()=>(function(c,d,p,_,y){const E=new xT({next:M=>{E.Nu(),d.enqueueAndForget((()=>ET(c,w)));const Q=M.docs.has(p);!Q&&M.fromCache?y.reject(new ut(Z.UNAVAILABLE,"Failed to get document because the client is offline.")):Q&&M.fromCache&&_&&_.source==="server"?y.reject(new ut(Z.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):y.resolve(M)},error:M=>y.reject(M)}),w=new TT(mh(p.path),E,{includeMetadataChanges:!0,qa:!0});return vT(c,w)})(await _m(r),r.asyncQueue,t,i,a))),a.promise}function OT(r){const t={};return r.timeoutSeconds!==void 0&&(t.timeoutSeconds=r.timeoutSeconds),t}const rv=new Map;const MT="firestore.googleapis.com",av=!0;class ov{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new ut(Z.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=MT,this.ssl=av}else this.host=t.host,this.ssl=t.ssl??av;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=oT;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<ZR)throw new ut(Z.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}M2("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=OT(t.experimentalLongPollingOptions??{}),(function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new ut(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new ut(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new ut(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(a,l){return a.timeoutSeconds===l.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class ag{constructor(t,i,a,l){this._authCredentials=t,this._appCheckCredentials=i,this._databaseId=a,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new ov({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ut(Z.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new ut(Z.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new ov(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(a){if(!a)return new b2;switch(a.type){case"firstParty":return new R2(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new ut(Z.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const a=rv.get(i);a&&(rt("ComponentProvider","Removing Datastore"),rv.delete(i),a.terminate())})(this),Promise.resolve()}}function vI(r,t,i,a={}){r=ri(r,ag);const l=ro(t),c=r._getSettings(),d={...c,emulatorOptions:r._getEmulatorOptions()},p=`${t}:${i}`;l&&(Nv(`https://${p}`),xv("Firestore",!0)),c.host!==MT&&c.host!==p&&Ja("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const _={...c,host:p,ssl:l,emulatorOptions:a};if(!rr(_,d)&&(r._setSettings(_),a.mockUserToken)){let y,E;if(typeof a.mockUserToken=="string")y=a.mockUserToken,E=We.MOCK_USER;else{y=Fb(a.mockUserToken,r._app?.options.projectId);const w=a.mockUserToken.sub||a.mockUserToken.user_id;if(!w)throw new ut(Z.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");E=new We(w)}r._authCredentials=new S2(new TE(y,E))}}class Sh{constructor(t,i,a){this.converter=i,this._query=a,this.type="query",this.firestore=t}withConverter(t){return new Sh(this.firestore,t,this._query)}}class De{constructor(t,i,a){this.converter=i,this._key=a,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Vl(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new De(this.firestore,t,this._key)}toJSON(){return{type:De._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,i,a){if(ql(i,De._jsonSchema))return new De(t,a||null,new gt(ue.fromString(i.referencePath)))}}De._jsonSchemaVersion="firestore/documentReference/1.0",De._jsonSchema={type:xe("string",De._jsonSchemaVersion),referencePath:xe("string")};class Vl extends Sh{constructor(t,i,a){super(t,i,mh(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new De(this.firestore,null,new gt(t))}withConverter(t){return new Vl(this.firestore,t,this._path)}}function an(r,t,...i){if(r=ln(r),arguments.length===1&&(t=km.newId()),O2("doc","path",t),r instanceof ag){const a=ue.fromString(t,...i);return T0(a),new De(r,null,new gt(a))}{if(!(r instanceof De||r instanceof Vl))throw new ut(Z.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=r._path.child(ue.fromString(t,...i));return T0(a),new De(r.firestore,r instanceof Vl?r.converter:null,new gt(a))}}const lv="AsyncQueue";class uv{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new hT(this,"async_queue_retry"),this._c=()=>{const a=Hd();a&&rt(lv,"Visibility state changed to "+a.visibilityState),this.M_.w_()},this.ac=t;const i=Hd();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const i=Hd();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new sr;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Xu.push(t),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!co(t))throw t;rt(lv,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const i=this.ac.then((()=>(this.rc=!0,t().catch((a=>{throw this.nc=a,this.rc=!1,hs("INTERNAL UNHANDLED ERROR: ",cv(a)),a})).then((a=>(this.rc=!1,a))))));return this.ac=i,i}enqueueAfterDelay(t,i,a){this.uc(),this.oc.indexOf(t)>-1&&(i=0);const l=eg.createAndSchedule(this,t,i,a,(c=>this.hc(c)));return this.tc.push(l),l}uc(){this.nc&&yt(47125,{Pc:cv(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const i of this.tc)if(i.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((i,a)=>i.targetTimeMs-a.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),t!=="all"&&i.timerId===t)break;return this.Tc()}))}dc(t){this.oc.push(t)}hc(t){const i=this.tc.indexOf(t);this.tc.splice(i,1)}}function cv(r){let t=r.message||"";return r.stack&&(t=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),t}function hv(r){return(function(i,a){if(typeof i!="object"||i===null)return!1;const l=i;for(const c of a)if(c in l&&typeof l[c]=="function")return!0;return!1})(r,["next","error","complete"])}class Zr extends ag{constructor(t,i,a,l){super(t,i,a,l),this.type="firestore",this._queue=new uv,this._persistenceKey=l?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new uv(t),this._firestoreClient=void 0,await t}}}function EI(r,t){const i=typeof r=="object"?r:Vv(),a=typeof r=="string"?r:$c,l=wm(i,"firestore").getImmediate({identifier:a});if(!l._initialized){const c=Hb("firestore");c&&vI(l,...c)}return l}function og(r){if(r._terminated)throw new ut(Z.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||TI(r),r._firestoreClient}function TI(r){const t=r._freezeSettings(),i=(function(l,c,d,p){return new G2(l,c,d,p.host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,OT(p.experimentalLongPollingOptions),p.useFetchStreams,p.isUsingEmulator)})(r._databaseId,r._app?.options.appId||"",r._persistenceKey,t);r._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(r._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),r._firestoreClient=new gI(r._authCredentials,r._appCheckCredentials,r._queue,i,r._componentsProvider&&(function(l){const c=l?._online.build();return{_offline:l?._offline.build(c),_online:c}})(r._componentsProvider))}class Fn{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Fn($e.fromBase64String(t))}catch(i){throw new ut(Z.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(t){return new Fn($e.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:Fn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(ql(t,Fn._jsonSchema))return Fn.fromBase64String(t.bytes)}}Fn._jsonSchemaVersion="firestore/bytes/1.0",Fn._jsonSchema={type:xe("string",Fn._jsonSchemaVersion),bytes:xe("string")};class Ah{constructor(...t){for(let i=0;i<t.length;++i)if(t[i].length===0)throw new ut(Z.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Xe(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class wh{constructor(t){this._methodName=t}}class Vi{constructor(t,i){if(!isFinite(t)||t<-90||t>90)throw new ut(Z.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(i)||i<-180||i>180)throw new ut(Z.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=t,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return Vt(this._lat,t._lat)||Vt(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Vi._jsonSchemaVersion}}static fromJSON(t){if(ql(t,Vi._jsonSchema))return new Vi(t.latitude,t.longitude)}}Vi._jsonSchemaVersion="firestore/geoPoint/1.0",Vi._jsonSchema={type:xe("string",Vi._jsonSchemaVersion),latitude:xe("number"),longitude:xe("number")};class ki{constructor(t){this._values=(t||[]).map((i=>i))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(a,l){if(a.length!==l.length)return!1;for(let c=0;c<a.length;++c)if(a[c]!==l[c])return!1;return!0})(this._values,t._values)}toJSON(){return{type:ki._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(ql(t,ki._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((i=>typeof i=="number")))return new ki(t.vectorValues);throw new ut(Z.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}ki._jsonSchemaVersion="firestore/vectorValue/1.0",ki._jsonSchema={type:xe("string",ki._jsonSchemaVersion),vectorValues:xe("object")};const bI=/^__.*__$/;class SI{constructor(t,i,a){this.data=t,this.fieldMask=i,this.fieldTransforms=a}toMutation(t,i){return this.fieldMask!==null?new dr(t,this.data,this.fieldMask,i,this.fieldTransforms):new Hl(t,this.data,i,this.fieldTransforms)}}class VT{constructor(t,i,a){this.data=t,this.fieldMask=i,this.fieldTransforms=a}toMutation(t,i){return new dr(t,this.data,this.fieldMask,i,this.fieldTransforms)}}function kT(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw yt(40011,{Ac:r})}}class Rh{constructor(t,i,a,l,c,d){this.settings=t,this.databaseId=i,this.serializer=a,this.ignoreUndefinedProperties=l,c===void 0&&this.Rc(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(t){return new Rh({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(t){const i=this.path?.child(t),a=this.Vc({path:i,fc:!1});return a.gc(t),a}yc(t){const i=this.path?.child(t),a=this.Vc({path:i,fc:!1});return a.Rc(),a}wc(t){return this.Vc({path:void 0,fc:!0})}Sc(t){return ah(t,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(t){return this.fieldMask.find((i=>t.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>t.isPrefixOf(i.field)))!==void 0}Rc(){if(this.path)for(let t=0;t<this.path.length;t++)this.gc(this.path.get(t))}gc(t){if(t.length===0)throw this.Sc("Document fields must not be empty");if(kT(this.Ac)&&bI.test(t))throw this.Sc('Document fields cannot begin and end with "__"')}}class AI{constructor(t,i,a){this.databaseId=t,this.ignoreUndefinedProperties=i,this.serializer=a||Eh(t)}Cc(t,i,a,l=!1){return new Rh({Ac:t,methodName:i,Dc:a,path:Xe.emptyPath(),fc:!1,bc:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function UT(r){const t=r._freezeSettings(),i=Eh(r._databaseId);return new AI(r._databaseId,!!t.ignoreUndefinedProperties,i)}function wI(r,t,i,a,l,c={}){const d=r.Cc(c.merge||c.mergeFields?2:0,t,i,l);ug("Data must be an object, but it was:",d,a);const p=LT(a,d);let _,y;if(c.merge)_=new Nn(d.fieldMask),y=d.fieldTransforms;else if(c.mergeFields){const E=[];for(const w of c.mergeFields){const M=vm(t,w,i);if(!d.contains(M))throw new ut(Z.INVALID_ARGUMENT,`Field '${M}' is specified in your field mask but missing from your input data.`);zT(E,M)||E.push(M)}_=new Nn(E),y=d.fieldTransforms.filter((w=>_.covers(w.field)))}else _=null,y=d.fieldTransforms;return new SI(new _n(p),_,y)}class Ch extends wh{_toFieldTransform(t){if(t.Ac!==2)throw t.Ac===1?t.Sc(`${this._methodName}() can only appear at the top level of your update data`):t.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof Ch}}function RI(r,t,i){return new Rh({Ac:3,Dc:t.settings.Dc,methodName:r._methodName,fc:i},t.databaseId,t.serializer,t.ignoreUndefinedProperties)}class lg extends wh{constructor(t,i){super(t),this.vc=i}_toFieldTransform(t){const i=RI(this,t,!0),a=this.vc.map((c=>Kl(c,i))),l=new no(a);return new yR(t.path,l)}isEqual(t){return t instanceof lg&&rr(this.vc,t.vc)}}function CI(r,t,i,a){const l=r.Cc(1,t,i);ug("Data must be an object, but it was:",l,a);const c=[],d=_n.empty();fr(a,((_,y)=>{const E=cg(t,_,i);y=ln(y);const w=l.yc(E);if(y instanceof Ch)c.push(E);else{const M=Kl(y,w);M!=null&&(c.push(E),d.set(E,M))}}));const p=new Nn(c);return new VT(d,p,l.fieldTransforms)}function II(r,t,i,a,l,c){const d=r.Cc(1,t,i),p=[vm(t,a,i)],_=[l];if(c.length%2!=0)throw new ut(Z.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let M=0;M<c.length;M+=2)p.push(vm(t,c[M])),_.push(c[M+1]);const y=[],E=_n.empty();for(let M=p.length-1;M>=0;--M)if(!zT(y,p[M])){const Q=p[M];let tt=_[M];tt=ln(tt);const it=d.yc(Q);if(tt instanceof Ch)y.push(Q);else{const W=Kl(tt,it);W!=null&&(y.push(Q),E.set(Q,W))}}const w=new Nn(y);return new VT(E,w,d.fieldTransforms)}function Kl(r,t){if(PT(r=ln(r)))return ug("Unsupported field value:",t,r),LT(r,t);if(r instanceof wh)return(function(a,l){if(!kT(l.Ac))throw l.Sc(`${a._methodName}() can only be used with update() and set()`);if(!l.path)throw l.Sc(`${a._methodName}() is not currently supported inside arrays`);const c=a._toFieldTransform(l);c&&l.fieldTransforms.push(c)})(r,t),null;if(r===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),r instanceof Array){if(t.settings.fc&&t.Ac!==4)throw t.Sc("Nested arrays are not supported");return(function(a,l){const c=[];let d=0;for(const p of a){let _=Kl(p,l.wc(d));_==null&&(_={nullValue:"NULL_VALUE"}),c.push(_),d++}return{arrayValue:{values:c}}})(r,t)}return(function(a,l){if((a=ln(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return mR(l.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const c=re.fromDate(a);return{timestampValue:nh(l.serializer,c)}}if(a instanceof re){const c=new re(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:nh(l.serializer,c)}}if(a instanceof Vi)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof Fn)return{bytesValue:tT(l.serializer,a._byteString)};if(a instanceof De){const c=l.databaseId,d=a.firestore._databaseId;if(!d.isEqual(c))throw l.Sc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:Qm(a.firestore._databaseId||l.databaseId,a._key.path)}}if(a instanceof ki)return(function(d,p){return{mapValue:{fields:{[xE]:{stringValue:DE},[Zc]:{arrayValue:{values:d.toArray().map((y=>{if(typeof y!="number")throw p.Sc("VectorValues must only contain numeric values.");return qm(p.serializer,y)}))}}}}}})(a,l);throw l.Sc(`Unsupported field value: ${Um(a)}`)})(r,t)}function LT(r,t){const i={};return AE(r)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):fr(r,((a,l)=>{const c=Kl(l,t.mc(a));c!=null&&(i[a]=c)})),{mapValue:{fields:i}}}function PT(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof re||r instanceof Vi||r instanceof Fn||r instanceof De||r instanceof wh||r instanceof ki)}function ug(r,t,i){if(!PT(i)||!bE(i)){const a=Um(i);throw a==="an object"?t.Sc(r+" a custom object"):t.Sc(r+" "+a)}}function vm(r,t,i){if((t=ln(t))instanceof Ah)return t._internalPath;if(typeof t=="string")return cg(r,t);throw ah("Field path arguments must be of type string or ",r,!1,void 0,i)}const NI=new RegExp("[~\\*/\\[\\]]");function cg(r,t,i){if(t.search(NI)>=0)throw ah(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,i);try{return new Ah(...t.split("."))._internalPath}catch{throw ah(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,i)}}function ah(r,t,i,a,l){const c=a&&!a.isEmpty(),d=l!==void 0;let p=`Function ${t}() called with invalid data`;i&&(p+=" (via `toFirestore()`)"),p+=". ";let _="";return(c||d)&&(_+=" (found",c&&(_+=` in field ${a}`),d&&(_+=` in document ${l}`),_+=")"),new ut(Z.INVALID_ARGUMENT,p+r+_)}function zT(r,t){return r.some((i=>i.isEqual(t)))}class jT{constructor(t,i,a,l,c){this._firestore=t,this._userDataWriter=i,this._key=a,this._document=l,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new De(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new xI(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const i=this._document.data.field(BT("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i)}}}class xI extends jT{data(){return super.data()}}function BT(r,t){return typeof t=="string"?cg(r,t):t instanceof Ah?t._internalPath:t._delegate._internalPath}function DI(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new ut(Z.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class OI{convertValue(t,i="none"){switch(ur(t)){case 0:return null;case 1:return t.booleanValue;case 2:return ve(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,i);case 5:return t.stringValue;case 6:return this.convertBytes(lr(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,i);case 11:return this.convertObject(t.mapValue,i);case 10:return this.convertVectorValue(t.mapValue);default:throw yt(62114,{value:t})}}convertObject(t,i){return this.convertObjectMap(t.fields,i)}convertObjectMap(t,i="none"){const a={};return fr(t,((l,c)=>{a[l]=this.convertValue(c,i)})),a}convertVectorValue(t){const i=t.fields?.[Zc].arrayValue?.values?.map((a=>ve(a.doubleValue)));return new ki(i)}convertGeoPoint(t){return new Vi(ve(t.latitude),ve(t.longitude))}convertArray(t,i){return(t.values||[]).map((a=>this.convertValue(a,i)))}convertServerTimestamp(t,i){switch(i){case"previous":const a=fh(t);return a==null?null:this.convertValue(a,i);case"estimate":return this.convertTimestamp(xl(t));default:return null}}convertTimestamp(t){const i=or(t);return new re(i.seconds,i.nanos)}convertDocumentKey(t,i){const a=ue.fromString(t);Qt(aT(a),9688,{name:t});const l=new Dl(a.get(1),a.get(3)),c=new gt(a.popFirst(5));return l.isEqual(i)||hs(`Document ${c} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),c}}function MI(r,t,i){let a;return a=r?r.toFirestore(t):t,a}class El{constructor(t,i){this.hasPendingWrites=t,this.fromCache=i}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Qr extends jT{constructor(t,i,a,l,c,d){super(t,i,a,l,d),this._firestore=t,this._firestoreImpl=t,this.metadata=c}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const i=new jc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,i={}){if(this._document){const a=this._document.data.field(BT("DocumentSnapshot.get",t));if(a!==null)return this._userDataWriter.convertValue(a,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ut(Z.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,i={};return i.type=Qr._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}Qr._jsonSchemaVersion="firestore/documentSnapshot/1.0",Qr._jsonSchema={type:xe("string",Qr._jsonSchemaVersion),bundleSource:xe("string","DocumentSnapshot"),bundleName:xe("string"),bundle:xe("string")};class jc extends Qr{data(t={}){return super.data(t)}}class $a{constructor(t,i,a,l){this._firestore=t,this._userDataWriter=i,this._snapshot=l,this.metadata=new El(l.hasPendingWrites,l.fromCache),this.query=a}get docs(){const t=[];return this.forEach((i=>t.push(i))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,i){this._snapshot.docs.forEach((a=>{t.call(i,new jc(this._firestore,this._userDataWriter,a.key,a,new El(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const i=!!t.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new ut(Z.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(l,c){if(l._snapshot.oldDocs.isEmpty()){let d=0;return l._snapshot.docChanges.map((p=>{const _=new jc(l._firestore,l._userDataWriter,p.doc.key,p.doc,new El(l._snapshot.mutatedKeys.has(p.doc.key),l._snapshot.fromCache),l.query.converter);return p.doc,{type:"added",doc:_,oldIndex:-1,newIndex:d++}}))}{let d=l._snapshot.oldDocs;return l._snapshot.docChanges.filter((p=>c||p.type!==3)).map((p=>{const _=new jc(l._firestore,l._userDataWriter,p.doc.key,p.doc,new El(l._snapshot.mutatedKeys.has(p.doc.key),l._snapshot.fromCache),l.query.converter);let y=-1,E=-1;return p.type!==0&&(y=d.indexOf(p.doc.key),d=d.delete(p.doc.key)),p.type!==1&&(d=d.add(p.doc),E=d.indexOf(p.doc.key)),{type:VI(p.type),doc:_,oldIndex:y,newIndex:E}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ut(Z.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=$a._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=km.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],a=[],l=[];return this.docs.forEach((c=>{c._document!==null&&(i.push(c._document),a.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),l.push(c.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function VI(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return yt(61501,{type:r})}}function kI(r){r=ri(r,De);const t=ri(r.firestore,Zr);return _I(og(t),r._key).then((i=>HT(t,r,i)))}$a._jsonSchemaVersion="firestore/querySnapshot/1.0",$a._jsonSchema={type:xe("string",$a._jsonSchemaVersion),bundleSource:xe("string","QuerySnapshot"),bundleName:xe("string"),bundle:xe("string")};class qT extends OI{constructor(t){super(),this.firestore=t}convertBytes(t){return new Fn(t)}convertReference(t){const i=this.convertDocumentKey(t,this.firestore._databaseId);return new De(this.firestore,null,i)}}function UI(r,t,i){r=ri(r,De);const a=ri(r.firestore,Zr),l=MI(r.converter,t);return hg(a,[wI(UT(a),"setDoc",r._key,l,r.converter!==null,i).toMutation(r._key,ai.none())])}function Hn(r,t,i,...a){r=ri(r,De);const l=ri(r.firestore,Zr),c=UT(l);let d;return d=typeof(t=ln(t))=="string"||t instanceof Ah?II(c,"updateDoc",r._key,t,i,a):CI(c,"updateDoc",r._key,t),hg(l,[d.toMutation(r._key,ai.exists(!0))])}function LI(r){return hg(ri(r.firestore,Zr),[new Hm(r._key,ai.none())])}function fv(r,...t){r=ln(r);let i={includeMetadataChanges:!1,source:"default"},a=0;typeof t[a]!="object"||hv(t[a])||(i=t[a++]);const l={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(hv(t[a])){const _=t[a];t[a]=_.next?.bind(_),t[a+1]=_.error?.bind(_),t[a+2]=_.complete?.bind(_)}let c,d,p;if(r instanceof De)d=ri(r.firestore,Zr),p=mh(r._key.path),c={next:_=>{t[a]&&t[a](HT(d,r,_))},error:t[a+1],complete:t[a+2]};else{const _=ri(r,Sh);d=ri(_.firestore,Zr),p=_._query;const y=new qT(d);c={next:E=>{t[a]&&t[a](new $a(d,y,_,E))},error:t[a+1],complete:t[a+2]},DI(r._query)}return(function(y,E,w,M){const Q=new xT(M),tt=new TT(E,Q,w);return y.asyncQueue.enqueueAndForget((async()=>vT(await _m(y),tt))),()=>{Q.Nu(),y.asyncQueue.enqueueAndForget((async()=>ET(await _m(y),tt)))}})(og(d),p,l,c)}function hg(r,t){return(function(a,l){const c=new sr;return a.asyncQueue.enqueueAndForget((async()=>aI(await yI(a),l,c))),c.promise})(og(r),t)}function HT(r,t,i){const a=i.docs.get(t._key),l=new qT(r);return new Qr(r,l,t._key,a,new El(i.hasPendingWrites,i.fromCache),t.converter)}function Nc(...r){return new lg("arrayUnion",r)}(function(t,i=!0){(function(l){lo=l})(ao),Za(new Kr("firestore",((a,{instanceIdentifier:l,options:c})=>{const d=a.getProvider("app").getImmediate(),p=new Zr(new A2(a.getProvider("auth-internal")),new C2(d,a.getProvider("app-check-internal")),(function(y,E){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new ut(Z.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Dl(y.options.projectId,E)})(d,l),d);return c={useFetchStreams:i,...c},p._setSettings(c),p}),"PUBLIC").setMultipleInstances(!0)),nr(y0,_0,t),nr(y0,_0,"esm2020")})();const PI=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),zI=r=>r.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,i,a)=>a?a.toUpperCase():i.toLowerCase()),dv=r=>{const t=zI(r);return t.charAt(0).toUpperCase()+t.slice(1)},GT=(...r)=>r.filter((t,i,a)=>!!t&&t.trim()!==""&&a.indexOf(t)===i).join(" ").trim(),jI=r=>{for(const t in r)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};var BI={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const qI=le.forwardRef(({color:r="currentColor",size:t=24,strokeWidth:i=2,absoluteStrokeWidth:a,className:l="",children:c,iconNode:d,...p},_)=>le.createElement("svg",{ref:_,...BI,width:t,height:t,stroke:r,strokeWidth:a?Number(i)*24/Number(t):i,className:GT("lucide",l),...!c&&!jI(p)&&{"aria-hidden":"true"},...p},[...d.map(([y,E])=>le.createElement(y,E)),...Array.isArray(c)?c:[c]]));const he=(r,t)=>{const i=le.forwardRef(({className:a,...l},c)=>le.createElement(qI,{ref:c,iconNode:t,className:GT(`lucide-${PI(dv(r))}`,`lucide-${r}`,a),...l}));return i.displayName=dv(r),i};const HI=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],Em=he("book-open",HI);const GI=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],FI=he("check",GI);const QI=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Fd=he("circle-check-big",QI);const KI=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],YI=he("circle-x",KI);const XI=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],mv=he("crown",XI);const $I=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],ZI=he("eye",$I);const JI=[["path",{d:"m15 12-9.373 9.373a1 1 0 0 1-3.001-3L12 9",key:"1hayfq"}],["path",{d:"m18 15 4-4",key:"16gjal"}],["path",{d:"m21.5 11.5-1.914-1.914A2 2 0 0 1 19 8.172v-.344a2 2 0 0 0-.586-1.414l-1.657-1.657A6 6 0 0 0 12.516 3H9l1.243 1.243A6 6 0 0 1 12 8.485V10l2 2h1.172a2 2 0 0 1 1.414.586L18.5 14.5",key:"15ts47"}]],WI=he("hammer",JI);const tN=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],FT=he("history",tN);const eN=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],QT=he("house",eN);const nN=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],Tm=he("log-out",nN);const iN=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],sN=he("rotate-ccw",iN);const rN=[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]],aN=he("server",rN);const oN=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],lN=he("shield",oN);const uN=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],gv=he("sparkles",uN);const cN=[["path",{d:"M12 19h8",key:"baeox8"}],["path",{d:"m4 17 6-6-6-6",key:"1yngyt"}]],hN=he("terminal",cN);const fN=[["path",{d:"M9 18.12 10 14H4.17a2 2 0 0 1-1.92-2.56l2.33-8A2 2 0 0 1 6.5 2H20a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2h-2.76a2 2 0 0 0-1.79 1.11L12 22a3.13 3.13 0 0 1-3-3.88Z",key:"m61m77"}],["path",{d:"M17 14V2",key:"8ymqnk"}]],pv=he("thumbs-down",fN);const dN=[["path",{d:"M15 5.88 14 10h5.83a2 2 0 0 1 1.92 2.56l-2.33 8A2 2 0 0 1 17.5 22H4a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h2.76a2 2 0 0 0 1.79-1.11L12 2a3.13 3.13 0 0 1 3 3.88Z",key:"emmmcr"}],["path",{d:"M7 10v12",key:"1qc93n"}]],yv=he("thumbs-up",dN);const mN=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],gN=he("trash-2",mN);const pN=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],_v=he("triangle-alert",pN);const yN=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],vv=he("user",yN);const _N=[["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}],["path",{d:"M5 7c0-1.1.9-2 2-2h10a2 2 0 0 1 2 2v12H5V7Z",key:"1ezoue"}],["path",{d:"M22 19H2",key:"nuriw5"}]],vN=he("vote",_N);const EN=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],KT=he("x",EN);const TN=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],bN=he("zap",TN),SN={apiKey:"AIzaSyBjIjK53vVJW1y5RaqEFGSFp0ECVDBEe1o",authDomain:"game-hub-ff8aa.firebaseapp.com",projectId:"game-hub-ff8aa",storageBucket:"game-hub-ff8aa.firebasestorage.app",messagingSenderId:"586559578902",appId:"1:586559578902:web:60e89977cb71a22a6aa637"},YT=Mv(SN),Qd=E2(YT),on=EI(YT),pn=typeof __app_id<"u"?__app_id:"protocol-game",AN="8",xc={5:[2,3,2,3,3],6:[2,3,4,3,4],7:[2,3,3,4,4],8:[3,4,4,5,5],9:[3,4,4,5,5],10:[3,4,4,5,5]},wN={5:2,6:2,7:3,8:3,9:3,10:4},Kd=()=>N.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none z-0",children:[N.jsx("div",{className:"absolute top-0 left-0 w-full h-full bg-[radial-gradient(circle_at_center,_var(--tw-gradient-stops))] from-gray-900 via-gray-950 to-black"}),N.jsx("div",{className:"absolute top-0 left-0 w-full h-full bg-cyan-900/10 mix-blend-overlay"}),N.jsx("div",{className:"absolute inset-0 opacity-10",style:{backgroundImage:'url("https://www.transparenttextures.com/patterns/black-scales.png")'}})]}),Ev=()=>N.jsxs("div",{className:"flex items-center justify-center gap-1 opacity-40 mt-auto pb-2 pt-2 relative z-10",children:[N.jsx(hN,{size:12,className:"text-cyan-500"}),N.jsx("span",{className:"text-[10px] font-black tracking-widest text-cyan-500 uppercase",children:"PROTOCOL"})]}),Tv=({onConfirmLeave:r,onConfirmLobby:t,onCancel:i,isHost:a,inGame:l})=>N.jsx("div",{className:"fixed inset-0 bg-black/90 z-[200] flex items-center justify-center p-4 animate-in fade-in",children:N.jsxs("div",{className:"bg-gray-800 rounded-xl border border-gray-700 p-6 max-w-sm w-full text-center shadow-2xl",children:[N.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"Abort Protocol?"}),N.jsx("p",{className:"text-gray-400 mb-6 text-sm",children:a?"WARNING: As Admin, terminating connection will shut down the server for all agents.":l?"Leaving now will compromise the mission for everyone!":"Disconnecting from the secure server."}),N.jsxs("div",{className:"flex flex-col gap-3",children:[N.jsx("button",{onClick:i,className:"bg-gray-700 hover:bg-gray-600 text-white py-3 rounded font-bold transition-colors",children:"Stay Connected"}),l&&a&&N.jsxs("button",{onClick:t,className:"py-3 rounded font-bold transition-colors flex items-center justify-center gap-2 bg-blue-600 hover:bg-blue-500 text-white",children:[N.jsx(QT,{size:18})," Return Unit to Lobby"]}),N.jsxs("button",{onClick:r,className:"bg-red-600 hover:bg-red-500 text-white py-3 rounded font-bold transition-colors flex items-center justify-center gap-2",children:[N.jsx(Tm,{size:18})," ",a?"Shut Down Server":"Disconnect"]})]})]})}),RN=({logs:r,onClose:t})=>N.jsx("div",{className:"fixed inset-0 bg-black/90 z-[60] flex items-center justify-center p-0 md:p-4",children:N.jsxs("div",{className:"bg-gray-800 w-full md:max-w-md h-full md:h-[70vh] rounded-none md:rounded-xl flex flex-col border-none md:border border-gray-700 shadow-2xl",children:[N.jsxs("div",{className:"p-4 border-b border-gray-700 flex justify-between items-center bg-gray-800",children:[N.jsxs("h3",{className:"text-white font-bold text-lg flex items-center gap-2",children:[N.jsx(FT,{size:18,className:"text-cyan-400"})," Server Logs"]}),N.jsx("button",{onClick:t,className:"p-2 bg-gray-700 rounded-full hover:bg-gray-600",children:N.jsx(KT,{className:"text-gray-400"})})]}),N.jsx("div",{className:"flex-1 overflow-y-auto p-4 space-y-2",children:[...r].reverse().map((i,a)=>N.jsxs("div",{className:`text-xs md:text-sm p-3 rounded border-l-2 ${i.type==="danger"?"bg-red-900/20 border-red-500 text-red-200":i.type==="success"?"bg-green-900/20 border-green-500 text-green-200":i.type==="warning"?"bg-yellow-900/20 border-yellow-500 text-yellow-200":"bg-gray-700/50 border-gray-500 text-gray-300"}`,children:[N.jsxs("span",{className:"opacity-50 mr-2 font-mono",children:["[",new Date(parseInt(i.id)).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit",second:"2-digit"}),"]"]}),i.text]},a))})]})}),bv=({onClose:r})=>N.jsx("div",{className:"fixed inset-0 bg-black/95 z-[100] flex items-center justify-center p-0 md:p-4 animate-in fade-in",children:N.jsxs("div",{className:"bg-gray-900 md:rounded-2xl w-full max-w-4xl h-full md:h-auto md:max-h-[90vh] overflow-hidden border-none md:border border-cyan-500/30 flex flex-col",children:[N.jsxs("div",{className:"p-6 border-b border-gray-800 flex justify-between items-center bg-gray-950",children:[N.jsxs("h2",{className:"text-2xl font-bold text-white flex items-center gap-2 tracking-wider",children:[N.jsx(Em,{className:"text-cyan-400"})," Field Manual"]}),N.jsx("button",{onClick:r,className:"p-2 hover:bg-gray-800 rounded-full text-gray-400",children:N.jsx(KT,{})})]}),N.jsxs("div",{className:"p-6 overflow-y-auto text-gray-300 space-y-6",children:[N.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[N.jsxs("div",{className:"bg-cyan-900/10 p-4 rounded-lg border border-cyan-500/20",children:[N.jsx("h3",{className:"text-xl font-bold text-cyan-400 mb-2",children:"Operatives (Good)"}),N.jsxs("ul",{className:"list-disc pl-5 space-y-2 text-sm",children:[N.jsx("li",{children:"You do NOT know who is who."}),N.jsxs("li",{children:["Goal: Successfully complete ",N.jsx("strong",{children:"3 Missions"}),"."]}),N.jsx("li",{children:"Always vote to Approve trustworthy teams."}),N.jsxs("li",{children:["If on a mission, you MUST play ",N.jsx("strong",{children:"SUCCESS"}),"."]})]})]}),N.jsxs("div",{className:"bg-red-900/10 p-4 rounded-lg border border-red-500/20",children:[N.jsx("h3",{className:"text-xl font-bold text-red-400 mb-2",children:"Moles (Bad)"}),N.jsxs("ul",{className:"list-disc pl-5 space-y-2 text-sm",children:[N.jsx("li",{children:"You know who the other Moles are."}),N.jsxs("li",{children:["Goal: Fail ",N.jsx("strong",{children:"3 Missions"}),"."]}),N.jsx("li",{children:"Deceive Operatives to get on mission teams."}),N.jsxs("li",{children:["If on a mission, you can choose ",N.jsx("strong",{children:"SUCCESS"})," or"," ",N.jsx("strong",{children:"SABOTAGE"}),"."]})]})]})]}),N.jsxs("div",{children:[N.jsx("h3",{className:"font-bold text-white mb-2",children:"Game Flow"}),N.jsxs("div",{className:"space-y-2 text-sm",children:[N.jsxs("p",{children:[N.jsx("strong",{children:"1. Proposal:"})," The Leader proposes a team for the current mission."]}),N.jsxs("p",{children:[N.jsx("strong",{children:"2. Voting:"})," Everyone votes to Approve or Reject the team. Majority rules."]}),N.jsxs("p",{children:[N.jsx("strong",{children:"3. Mission:"})," If approved, the team secretly executes the mission. One Sabotage usually fails the mission."]}),N.jsx("p",{className:"text-gray-500 italic",children:"5 failed votes in a row = Immediate Mole Victory."})]})]})]})]})}),CN=({type:r,message:t,subtext:i,icon:a})=>N.jsx("div",{className:"fixed inset-0 z-[160] flex items-center justify-center pointer-events-none",children:N.jsxs("div",{className:`
      flex flex-col items-center justify-center p-8 md:p-12 rounded-3xl border-4 shadow-[0_0_50px_rgba(0,0,0,0.8)] 
      transform transition-all animate-in fade-in zoom-in slide-in-from-bottom-10 duration-300
      backdrop-blur-md
      ${r==="success"?"bg-cyan-900/90 border-cyan-500 text-cyan-100":""}
      ${r==="failure"?"bg-red-900/90 border-red-500 text-red-100":""}
      ${r==="neutral"?"bg-gray-800/90 border-gray-500 text-white":""}
    `,children:[a&&N.jsx("div",{className:"mb-4 p-4 bg-black/30 rounded-full border-2 border-white/20",children:N.jsx(a,{size:64,className:"animate-bounce"})}),N.jsx("h2",{className:"text-3xl md:text-5xl font-black uppercase tracking-widest text-center drop-shadow-lg mb-2",children:t}),i&&N.jsx("p",{className:"text-lg md:text-xl font-bold opacity-90 tracking-wide text-center",children:i})]})});function IN(){const[r,t]=le.useState(null),[i,a]=le.useState("menu"),[l,c]=le.useState(""),[d,p]=le.useState(""),[_,y]=le.useState(""),[E,w]=le.useState(null),[M,Q]=le.useState(!1),[tt,it]=le.useState(""),[W,dt]=le.useState(!1),[vt,mt]=le.useState(!1),[Ht,zt]=le.useState(!1),[Ut,x]=le.useState(!1),[A,I]=le.useState(null);le.useEffect(()=>{(async()=>typeof __initial_auth_token<"u"&&__initial_auth_token?await aw(Qd,__initial_auth_token):await ew(Qd))();const L=uw(Qd,t);return()=>L()},[]),le.useEffect(()=>{const S=localStorage.getItem("protocol_roomId");S&&p(S)},[]),le.useEffect(()=>{if(!d||!r)return;const S=fv(an(on,"artifacts",pn,"public","data","rooms",d),L=>{if(L.exists()){const $=L.data();if(!$.players.some(J=>J.id===r.uid)){p(""),a("menu"),localStorage.removeItem("protocol_roomId"),it("Connection Terminated by Host.");return}w($),$.status==="lobby"?a("lobby"):a("game"),$.feedbackTrigger&&$.feedbackTrigger.id!==E?.feedbackTrigger?.id&&(I($.feedbackTrigger),setTimeout(()=>I(null),2500))}else p(""),a("menu"),localStorage.removeItem("protocol_roomId"),it("Room Closed (Host Disconnected).")});return()=>S()},[d,r,E?.feedbackTrigger?.id]),le.useEffect(()=>{const S=fv(an(on,"game_hub_settings","config"),L=>{L.exists()&&L.data()[AN]?.maintenance?dt(!0):dt(!1)});return()=>S()},[]);const V=async()=>{if(!l.trim())return it("Codename required.");Q(!0);const S=Math.random().toString(36).substring(2,7).toUpperCase(),L={roomId:S,hostId:r.uid,status:"lobby",players:[{id:r.uid,name:l,role:null,isLeader:!1,ready:!0}],logs:[],missionHistory:[null,null,null,null,null],currentMissionIndex:0,failedVoteCount:0,leaderIndex:0,turnState:"IDLE",proposedTeam:[],votes:{},missionMoves:{},feedbackTrigger:null};try{await UI(an(on,"artifacts",pn,"public","data","rooms",S),L),localStorage.setItem("protocol_roomId",S),p(S),a("lobby")}catch{it("Network error.")}Q(!1)},O=async()=>{if(!_||!l)return it("Code and Name required.");Q(!0);try{const S=an(on,"artifacts",pn,"public","data","rooms",_),L=await kI(S);if(!L.exists())throw new Error("Room not found.");const $=L.data();if($.status!=="lobby")throw new Error("Protocol already initiated.");if($.players.length>=10)throw new Error("Lobby full.");$.players.find(J=>J.id===r.uid)||await Hn(S,{players:Nc({id:r.uid,name:l,role:null,isLeader:!1,ready:!0})}),localStorage.setItem("protocol_roomId",_),p(_)}catch(S){it(S.message)}Q(!1)},U=async()=>{if(!d)return;const S=an(on,"artifacts",pn,"public","data","rooms",d);try{if(E.hostId===r.uid)await LI(S);else{const L=E.players.filter($=>$.id!==r.uid);await Hn(S,{players:L})}}catch(L){console.error(L)}localStorage.removeItem("protocol_roomId"),p(""),a("menu"),zt(!1)},R=async S=>{if(E.hostId!==r.uid)return;const L=E.players.filter($=>$.id!==S);await Hn(an(on,"artifacts",pn,"public","data","rooms",d),{players:L})},ee=async()=>{if(!E)return;const S=E.players.map(L=>L.id===r.uid?{...L,ready:!L.ready}:L);await Hn(an(on,"artifacts",pn,"public","data","rooms",d),{players:S})},fe=async()=>{if(E.players.length<5)return it("Need 5+ Agents.");const S=[...E.players].sort(()=>Math.random()-.5),L=S.length,$=wN[L]||2,J=Array(L).fill("OPERATIVE");for(let nt=0;nt<$;nt++)J[nt]="MOLE";const ct=J.sort(()=>Math.random()-.5),at=S.map((nt,Rt)=>({...nt,role:ct[Rt],isLeader:Rt===0,ready:!1}));await Hn(an(on,"artifacts",pn,"public","data","rooms",d),{status:"game",players:at,leaderIndex:0,currentMissionIndex:0,failedVoteCount:0,turnState:"PICKING",proposedTeam:[],votes:{},missionMoves:{},missionHistory:[null,null,null,null,null],logs:[{id:Date.now().toString(),text:"Protocol Initiated. Roles Assigned.",type:"neutral"}]})},G=async S=>{if(E.turnState!=="PICKING")return;const L=E.proposedTeam||[],$=xc[E.players.length][E.currentMissionIndex];let J;if(L.includes(S))J=L.filter(ct=>ct!==S);else{if(L.length>=$)return;J=[...L,S]}await Hn(an(on,"artifacts",pn,"public","data","rooms",d),{proposedTeam:J})},st=async()=>{const S=xc[E.players.length][E.currentMissionIndex];E.proposedTeam.length===S&&await Hn(an(on,"artifacts",pn,"public","data","rooms",d),{turnState:"VOTING",votes:{},logs:Nc({id:Date.now().toString(),text:"Team proposed. Voting initiated.",type:"neutral"})})},ht=async S=>{const L={...E.votes,[r.uid]:S};if(Object.keys(L).length===E.players.length){const $=Object.values(L).filter(Rt=>Rt).length,J=Object.values(L).filter(Rt=>!Rt).length,ct=$>J;let at={votes:L},nt=[{id:Date.now().toString(),text:`Vote Result: ${$} Approves, ${J} Rejects.`,type:ct?"success":"danger"}];if(ct)at.turnState="MISSION",at.missionMoves={},at.failedVoteCount=0,at.feedbackTrigger={id:Date.now(),type:"success",message:"APPROVED",subtext:"Mission Team is Go"},nt.push({id:Date.now()+1,text:"Mission started. Operatives must act.",type:"neutral"});else{const Rt=E.failedVoteCount+1;if(Rt>=5)at.status="finished",at.winner="MOLES",at.feedbackTrigger={id:Date.now(),type:"failure",message:"CHAOS",subtext:"Moles Win via Chaos"},nt.push({id:Date.now()+1,text:"5 Failed Votes. System Collapse. Moles Win.",type:"danger"});else{const Ct=(E.leaderIndex+1)%E.players.length,Oe=E.players[Ct].id,$t=E.players.map(vn=>({...vn,isLeader:vn.id===Oe}));at.turnState="PICKING",at.proposedTeam=[],at.failedVoteCount=Rt,at.leaderIndex=Ct,at.players=$t,at.feedbackTrigger={id:Date.now(),type:"failure",message:"REJECTED",subtext:"Leadership Rotates"}}}at.logs=Nc(...nt),await Hn(an(on,"artifacts",pn,"public","data","rooms",d),at)}else await Hn(an(on,"artifacts",pn,"public","data","rooms",d),{votes:L})},xt=async S=>{const L={...E.missionMoves,[r.uid]:S},$=E.proposedTeam.length;if(Object.keys(L).length===$){const J=Object.values(L).filter(Me=>Me==="SABOTAGE").length,ct=E.players.length,at=E.currentMissionIndex,Rt=ct>=7&&at===3?J<2:J===0,Ct=[...E.missionHistory];Ct[at]=Rt;let Oe=[{id:Date.now().toString(),text:`Mission ${at+1} Report: ${J} Sabotage(s). result: ${Rt?"SUCCESS":"FAILURE"}`,type:Rt?"success":"danger"}],$t={missionHistory:Ct,missionMoves:L};const vn=Ct.filter(Me=>Me===!0).length,oi=Ct.filter(Me=>Me===!1).length;if(vn>=3)$t.status="finished",$t.winner="OPERATIVES",$t.feedbackTrigger={id:Date.now(),type:"success",message:"VICTORY",subtext:"Operatives secured the Protocol"},Oe.push({id:Date.now()+1,text:"Operatives Win!",type:"success"});else if(oi>=3)$t.status="finished",$t.winner="MOLES",$t.feedbackTrigger={id:Date.now(),type:"failure",message:"DEFEAT",subtext:"Moles corrupted the Protocol"},Oe.push({id:Date.now()+1,text:"Moles Win!",type:"danger"});else{const Me=(E.leaderIndex+1)%E.players.length,mr=E.players[Me].id,Pi=E.players.map(ms=>({...ms,isLeader:ms.id===mr}));$t.currentMissionIndex=E.currentMissionIndex+1,$t.turnState="PICKING",$t.proposedTeam=[],$t.votes={},$t.failedVoteCount=0,$t.leaderIndex=Me,$t.players=Pi,$t.feedbackTrigger||($t.feedbackTrigger=Rt?{id:Date.now(),type:"success",message:"SUCCESS",subtext:`${J} Sabotage detected`}:{id:Date.now(),type:"failure",message:"FAILURE",subtext:`${J} Sabotage detected`})}$t.logs=Nc(...Oe),await Hn(an(on,"artifacts",pn,"public","data","rooms",d),$t)}else await Hn(an(on,"artifacts",pn,"public","data","rooms",d),{missionMoves:L})},jt=async()=>{const S=E.players.map(L=>({...L,role:null,isLeader:!1,ready:!0}));await Hn(an(on,"artifacts",pn,"public","data","rooms",d),{status:"lobby",players:S,logs:[],missionHistory:[null,null,null,null,null],currentMissionIndex:0,failedVoteCount:0,votes:{},missionMoves:{},turnState:"IDLE",feedbackTrigger:null,winner:null})};if(!r)return N.jsx("div",{className:"min-h-screen bg-gray-950 flex items-center justify-center text-cyan-500 animate-pulse",children:"Establishing Secure Connection..."});if(W)return N.jsxs("div",{className:"min-h-screen bg-gray-950 flex flex-col items-center justify-center text-white p-4 text-center",children:[N.jsxs("div",{className:"bg-orange-500/10 p-8 rounded-2xl border border-orange-500/30",children:[N.jsx(WI,{size:64,className:"text-orange-500 mx-auto mb-4 animate-bounce"}),N.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Under Maintenance"}),N.jsx("p",{className:"text-gray-400",children:"System Reboot Initiated. Access denied to all personnel."})]}),N.jsx("div",{className:"h-8"}),N.jsx("a",{href:"https://rawfidkshuvo.github.io/gamehub/",children:N.jsx("div",{className:"flex items-center justify-center gap-3 mb-2",children:N.jsx("div",{className:"text-center pb-12 animate-pulse",children:N.jsxs("div",{className:"inline-flex items-center gap-3 px-8 py-4 bg-slate-900/50 rounded-full border border-indigo-500/20 text-indigo-300 font-bold tracking-widest text-sm uppercase backdrop-blur-sm",children:[N.jsx(gv,{size:16})," Visit Gamehub...Try our other releases..."," ",N.jsx(gv,{size:16})]})})})})]});if(i==="menu")return N.jsxs("div",{className:"min-h-screen bg-gray-950 text-white flex flex-col items-center justify-center p-4 relative overflow-hidden font-sans",children:[N.jsx(Kd,{}),vt&&N.jsx(bv,{onClose:()=>mt(!1)}),N.jsxs("div",{className:"z-10 text-center mb-10 animate-in fade-in zoom-in duration-700",children:[N.jsx(aN,{size:64,className:"text-cyan-500 mx-auto mb-4 animate-pulse drop-shadow-[0_0_15px_rgba(6,182,212,0.5)]"}),N.jsx("h1",{className:"text-5xl md:text-7xl font-black text-transparent bg-clip-text bg-gradient-to-b from-cyan-400 to-blue-600 font-serif tracking-widest drop-shadow-md",children:"PROTOCOL"}),N.jsx("p",{className:"text-white-400/60 tracking-[0.3em] uppercase mt-2",children:"Trust No One"})]}),N.jsxs("div",{className:"bg-gray-900/80 backdrop-blur border border-cyan-500/30 p-8 rounded-2xl w-full max-w-md shadow-2xl z-10 animate-in slide-in-from-bottom-10 duration-700 delay-100",children:[tt&&N.jsx("div",{className:"bg-red-900/50 text-red-200 p-2 mb-4 rounded text-center text-sm border border-red-800",children:tt}),N.jsx("input",{className:"w-full bg-black/50 border border-gray-600 p-3 rounded mb-4 text-white placeholder-gray-500 focus:border-cyan-500 outline-none transition-colors font-mono",placeholder:"CODENAME",value:l,onChange:S=>c(S.target.value)}),N.jsxs("button",{onClick:V,disabled:M,className:"w-full bg-gradient-to-r from-cyan-700 to-blue-600 hover:from-cyan-600 hover:to-blue-500 p-4 rounded font-bold mb-4 flex items-center justify-center gap-2 border border-cyan-500/30 shadow-[0_0_15px_rgba(6,182,212,0.2)] transition-all",children:[N.jsx(bN,{size:20})," Initialize Protocol"]}),N.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 mb-4",children:[N.jsx("input",{className:"w-full sm:flex-1 bg-black/50 border border-gray-600 p-3 rounded text-white placeholder-gray-500 uppercase font-mono tracking-wider focus:border-cyan-500 outline-none",placeholder:"ACCESS CODE",value:_,onChange:S=>y(S.target.value.toUpperCase())}),N.jsx("button",{onClick:O,disabled:M,className:"w-full sm:w-auto bg-gray-800 hover:bg-gray-700 border border-gray-600 px-6 py-3 rounded font-bold transition-colors",children:"Enter"})]}),N.jsxs("button",{onClick:()=>mt(!0),className:"w-full text-sm text-gray-400 hover:text-white flex items-center justify-center gap-2 py-2",children:[N.jsx(Em,{size:16})," Field Manual"]})]}),N.jsxs("div",{className:"absolute bottom-4 text-slate-600 text-xs text-center",children:["Inspired by The Resistance: Avalon. A tribute game.",N.jsx("br",{}),"Developed by ",N.jsx("strong",{children:"RAWFID K SHUVO"}),". Visit"," ",N.jsx("a",{href:"https://rawfidkshuvo.github.io/gamehub/",target:"_blank",rel:"noopener noreferrer",className:"text-cyan-500 underline hover:text-cyan-600",children:"GAMEHUB"})," ","for more games."]})]});if(i==="lobby"&&E){const S=E.hostId===r.uid;return N.jsxs("div",{className:"min-h-screen bg-gray-950 text-white flex flex-col items-center justify-center p-6 relative",children:[N.jsx(Kd,{}),Ht&&N.jsx(Tv,{onConfirmLeave:U,onCancel:()=>zt(!1),isHost:S,inGame:!1}),N.jsxs("div",{className:"z-10 w-full max-w-lg bg-gray-900/90 backdrop-blur p-8 rounded-2xl border border-cyan-900/50 shadow-2xl mb-4",children:[N.jsxs("div",{className:"flex justify-between items-center mb-8 border-b border-gray-700 pb-4",children:[N.jsxs("h2",{className:"text-2xl font-serif text-cyan-400",children:["Net: ",N.jsx("span",{className:"text-white font-mono",children:d})]}),N.jsx("button",{onClick:()=>zt(!0),className:"p-2 bg-red-900/30 hover:bg-red-900/50 rounded text-red-300",children:N.jsx(Tm,{size:16})})]}),N.jsxs("div",{className:"bg-black/20 rounded-xl p-4 mb-8 border border-gray-800",children:[N.jsx("h3",{className:"text-gray-500 text-xs uppercase tracking-wider mb-4 flex justify-between",children:N.jsxs("span",{children:["Units (",E.players.length,")"]})}),N.jsxs("div",{className:"space-y-2",children:[E.players.map(L=>N.jsxs("div",{className:"flex items-center justify-between bg-gray-800/50 p-3 rounded border border-gray-700/50",children:[N.jsxs("span",{className:`font-bold flex items-center gap-2 ${L.id===r.uid?"text-cyan-400":"text-gray-300"}`,children:[N.jsx(vv,{size:14})," ",L.name," ",L.id===E.hostId&&N.jsx(mv,{size:14,className:"text-yellow-500"})]}),N.jsxs("div",{className:"flex items-center gap-3",children:[N.jsxs("span",{className:"text-green-500 text-xs flex items-center gap-1",children:[N.jsx(Fd,{size:12})," Connected"]}),S&&L.id!==r.uid&&N.jsx("button",{onClick:()=>R(L.id),className:"text-gray-500 hover:text-red-500 transition-colors",title:"Kick Unit",children:N.jsx(gN,{size:14})})]})]},L.id)),E.players.length<5&&N.jsx("div",{className:"text-center text-gray-500 italic text-sm py-2",children:"Waiting for 5+ units..."})]})]}),S?N.jsx("button",{onClick:fe,disabled:E.players.length<5,className:`w-full py-4 rounded-xl font-bold text-lg shadow-lg transition-all flex items-center justify-center gap-2 ${E.players.length>=5?"bg-green-700 hover:bg-green-600 text-white shadow-green-900/20":"bg-gray-800 cursor-not-allowed text-gray-500"}`,children:E.players.length<5?"Need more Agents...":"Execute Protocol"}):N.jsx("div",{className:"text-center text-cyan-400/60 animate-pulse font-serif italic",children:"Waiting for Admin command..."})]}),N.jsx(Ev,{})]})}if(i==="game"&&E){const S=E.players.find(nt=>nt.id===r.uid),L=S.isLeader,$=S.role,J=xc[E.players.length]?.[E.currentMissionIndex]||0;5-E.failedVoteCount;const ct=E.players.filter(nt=>nt.role==="MOLE"),at=$==="MOLE";return N.jsxs("div",{className:"min-h-screen bg-gray-950 text-white flex flex-col relative overflow-hidden font-sans",children:[N.jsx(Kd,{}),A&&N.jsx(CN,{type:A.type,message:A.message,subtext:A.subtext,icon:A.type==="success"?Fd:_v}),vt&&N.jsx(bv,{onClose:()=>mt(!1)}),Ut&&N.jsx(RN,{logs:E.logs,onClose:()=>x(!1)}),Ht&&N.jsx(Tv,{onConfirmLeave:U,onCancel:()=>zt(!1),isHost:E.hostId===r.uid,onConfirmLobby:()=>{jt(),zt(!1)},inGame:!0}),N.jsxs("div",{className:"h-14 bg-gray-900/80 border-b border-gray-800 flex items-center justify-between px-4 z-50 backdrop-blur-md sticky top-0",children:[N.jsxs("div",{className:"flex items-center gap-2",children:[N.jsx("span",{className:"font-serif text-cyan-500 font-bold tracking-wider hidden md:block",children:"PROTOCOL"}),N.jsxs("span",{className:"text-xs text-gray-500 bg-black/50 px-2 py-1 rounded",children:["Net ",E.roomId]})]}),N.jsxs("div",{className:"flex gap-2",children:[N.jsx("button",{onClick:()=>mt(!0),className:"p-2 hover:bg-gray-800 rounded text-gray-400",children:N.jsx(Em,{size:18})}),N.jsx("button",{onClick:()=>x(!0),className:"p-2 hover:bg-gray-800 rounded text-gray-400",children:N.jsx(FT,{size:18})}),N.jsx("button",{onClick:()=>zt(!0),className:"p-2 hover:bg-red-900/50 rounded text-red-400",children:N.jsx(Tm,{size:18})})]})]}),N.jsxs("div",{className:"flex-1 p-2 md:p-4 flex flex-col items-center relative z-10 max-w-6xl mx-auto w-full gap-4",children:[N.jsx("div",{className:"w-full max-w-2xl bg-gray-900/80 p-3 rounded-xl border border-gray-700 flex justify-between items-center gap-2",children:E.missionHistory.map((nt,Rt)=>{const Ct=xc[E.players.length]?.[Rt]||"?",Oe=Rt===E.currentMissionIndex;return N.jsx("div",{className:`
                                flex-1 h-16 rounded-lg flex flex-col items-center justify-center border-2 transition-all
                                ${Oe?"border-yellow-400 bg-yellow-900/20 scale-105":"border-gray-700 bg-gray-800"}
                                ${nt===!0?"bg-cyan-600 border-cyan-400":""}
                                ${nt===!1?"bg-red-600 border-red-400":""}
                            `,children:nt===null?N.jsxs(N.Fragment,{children:[N.jsx("span",{className:`text-lg font-bold ${Oe?"text-yellow-400":"text-gray-500"}`,children:Ct}),N.jsx("span",{className:"text-[9px] text-gray-500 uppercase",children:"Agents"})]}):nt?N.jsx(Fd,{className:"text-white"}):N.jsx(YI,{className:"text-white"})},Rt)})}),N.jsx("div",{className:"flex gap-4 text-xs font-bold uppercase tracking-widest text-gray-400",children:N.jsxs("div",{className:"flex items-center gap-1",children:[N.jsx(vN,{size:14,className:E.failedVoteCount>3?"text-red-500":"text-gray-500"}),"Fails:"," ",N.jsxs("span",{className:"text-white",children:[E.failedVoteCount,"/5"]})]})}),N.jsx("div",{className:"flex gap-3 justify-center flex-wrap w-full my-4",children:E.players.map(nt=>{const Rt=E.proposedTeam?.includes(nt.id),Ct=nt.isLeader,Oe=E.votes&&E.votes[nt.id]!==void 0,$t=E.votes?.[nt.id],vn=E.turnState!=="VOTING"&&Oe,oi=at&&nt.role==="MOLE"&&nt.id!==r.uid;return N.jsxs("div",{onClick:()=>L&&E.turnState==="PICKING"?G(nt.id):null,className:`
                                    relative bg-gray-900/90 p-3 rounded-xl border-2 w-32 md:w-40 transition-all cursor-pointer flex flex-col items-center
                                    ${Ct?"border-yellow-500 shadow-yellow-900/20 shadow-lg":"border-gray-700"}
                                    ${Rt?"ring-2 ring-cyan-400 bg-cyan-900/30":""}
                                `,children:[N.jsxs("div",{className:"absolute top-1 right-1",children:[Ct&&N.jsx(mv,{size:12,className:"text-yellow-500"}),oi&&N.jsx(ZI,{size:12,className:"text-red-500"})]}),N.jsx(vv,{size:24,className:nt.id===r.uid?"text-cyan-400":"text-gray-500"}),N.jsx("span",{className:`font-bold text-sm truncate w-full text-center mt-1 ${nt.id===r.uid?"text-cyan-200":"text-gray-300"}`,children:nt.name}),N.jsxs("div",{className:"mt-2 h-4 flex items-center justify-center w-full",children:[E.turnState==="VOTING"&&Oe&&N.jsx("div",{className:"w-2 h-2 bg-gray-500 rounded-full animate-pulse"}),vn&&($t?N.jsx(yv,{size:12,className:"text-green-400"}):N.jsx(pv,{size:12,className:"text-red-400"})),E.turnState==="MISSION"&&E.proposedTeam.includes(nt.id)&&(E.missionMoves[nt.id]?N.jsx(FI,{size:12,className:"text-cyan-400"}):N.jsx("div",{className:"w-2 h-2 bg-yellow-500 rounded-full animate-bounce"}))]})]},nt.id)})}),N.jsxs("div",{className:"w-full max-w-2xl bg-gray-900/95 p-4 rounded-t-3xl border-t border-cyan-500/30 backdrop-blur-md mt-auto shadow-2xl z-20",children:[N.jsxs("div",{className:"flex justify-between items-center mb-4 pb-4 border-b border-gray-700",children:[N.jsxs("div",{className:"flex items-center gap-2",children:[N.jsx("div",{className:`p-2 rounded-lg ${$==="MOLE"?"bg-red-900/20 border border-red-500":"bg-cyan-900/20 border border-cyan-500"}`,children:$==="MOLE"?N.jsx(_v,{size:20,className:"text-red-400"}):N.jsx(lN,{size:20,className:"text-cyan-400"})}),N.jsxs("div",{children:[N.jsx("div",{className:"text-[10px] text-gray-500 uppercase tracking-wider",children:"Your Role"}),N.jsx("div",{className:`font-black text-xl ${$==="MOLE"?"text-red-400":"text-cyan-400"}`,children:$})]})]}),$==="MOLE"&&N.jsxs("div",{className:"text-right",children:[N.jsx("div",{className:"text-[10px] text-gray-500 uppercase tracking-wider",children:"Fellow Moles"}),N.jsx("div",{className:"text-red-300 text-xs font-bold",children:ct.map(nt=>nt.name).join(", ")})]})]}),N.jsx("div",{className:"min-h-[80px] flex items-center justify-center",children:E.status==="finished"?N.jsxs("div",{className:"w-full text-center",children:[N.jsxs("h3",{className:`text-2xl font-black mb-4 ${E.winner==="OPERATIVES"?"text-cyan-400":"text-red-500"}`,children:[E.winner," WIN"]}),N.jsx("div",{className:"flex flex-wrap justify-center gap-2 mb-6",children:E.players.map(nt=>N.jsxs("div",{className:`px-3 py-1 rounded-full text-[10px] uppercase font-bold border ${nt.ready?"bg-green-900/30 border-green-500 text-green-400":"bg-gray-800 border-gray-600 text-gray-500"}`,children:[nt.name," ",nt.ready&&""]},nt.id))}),E.hostId===r.uid?N.jsxs("div",{className:"flex flex-col gap-2",children:[N.jsxs("div",{className:"flex gap-3 justify-center",children:[N.jsxs("button",{onClick:fe,disabled:!E.players.every(nt=>nt.ready),className:"bg-cyan-600 hover:bg-cyan-500 disabled:opacity-50 disabled:cursor-not-allowed px-6 py-3 rounded-xl font-bold text-white flex gap-2 items-center",children:[N.jsx(sN,{size:18})," Restart"]}),N.jsxs("button",{onClick:jt,disabled:!E.players.every(nt=>nt.ready),className:"bg-gray-700 hover:bg-gray-600 disabled:opacity-50 disabled:cursor-not-allowed px-6 py-3 rounded-xl font-bold text-white flex gap-2 items-center",children:[N.jsx(QT,{size:18})," Lobby"]})]}),!E.players.every(nt=>nt.ready)&&N.jsx("span",{className:"text-xs text-gray-500 animate-pulse mt-2",children:"Waiting for all agents to report ready..."}),!S.ready&&N.jsx("button",{onClick:ee,className:"mt-2 text-xs text-cyan-400 hover:text-cyan-300 underline",children:"Mark Self Ready"})]}):N.jsxs("div",{className:"w-full",children:[N.jsx("button",{onClick:ee,className:`w-full py-3 rounded-xl font-bold text-lg shadow-lg transition-all mb-2 ${S.ready?"bg-green-600/20 border border-green-500 text-green-400":"bg-cyan-700 hover:bg-cyan-600 text-white"}`,children:S.ready?"READY - STANDING BY":"MARK READY"}),N.jsx("div",{className:"text-gray-500 italic text-xs",children:"Waiting for Host command..."})]})]}):N.jsxs(N.Fragment,{children:[E.turnState==="PICKING"&&(L?N.jsxs("div",{className:"w-full",children:[N.jsxs("div",{className:"text-center text-gray-400 text-sm mb-2",children:["Select ",J," Agents for the Mission"]}),N.jsx("button",{onClick:st,disabled:E.proposedTeam?.length!==J,className:"w-full bg-yellow-600 hover:bg-yellow-500 disabled:opacity-30 disabled:cursor-not-allowed text-black py-4 rounded-xl font-bold text-lg shadow-lg",children:"PROPOSE TEAM"})]}):N.jsx("div",{className:"text-center text-gray-500 animate-pulse",children:"Leader is selecting a team..."})),E.turnState==="VOTING"&&(E.votes[r.uid]===void 0?N.jsxs("div",{className:"flex gap-4 w-full",children:[N.jsxs("button",{onClick:()=>ht(!0),className:"flex-1 bg-gray-800 hover:bg-gray-700 border-2 border-green-500/50 py-4 rounded-xl text-green-400 font-bold flex flex-col items-center gap-1",children:[N.jsx(yv,{})," APPROVE"]}),N.jsxs("button",{onClick:()=>ht(!1),className:"flex-1 bg-gray-800 hover:bg-gray-700 border-2 border-red-500/50 py-4 rounded-xl text-red-400 font-bold flex flex-col items-center gap-1",children:[N.jsx(pv,{})," REJECT"]})]}):N.jsx("div",{className:"text-center text-gray-500",children:"Vote Registered. Waiting for others..."})),E.turnState==="MISSION"&&(E.proposedTeam.includes(r.uid)?E.missionMoves[r.uid]?N.jsx("div",{className:"text-center text-cyan-400 font-bold",children:"Mission Move Locked In."}):N.jsxs("div",{className:"flex gap-4 w-full",children:[N.jsx("button",{onClick:()=>xt("SUCCESS"),className:"flex-1 bg-gradient-to-br from-blue-600 to-cyan-600 hover:from-blue-500 hover:to-cyan-500 text-white py-4 rounded-xl font-bold shadow-lg shadow-cyan-900/20",children:"SUCCESS"}),$==="MOLE"&&N.jsx("button",{onClick:()=>xt("SABOTAGE"),className:"flex-1 bg-gradient-to-br from-red-600 to-orange-600 hover:from-red-500 hover:to-orange-500 text-white py-4 rounded-xl font-bold shadow-lg shadow-red-900/20",children:"SABOTAGE"})]}):N.jsx("div",{className:"text-center text-gray-500 animate-pulse",children:"Mission in progress..."}))]})})]})]}),N.jsx(Ev,{})]})}return null}Vb.createRoot(document.getElementById("root")).render(N.jsx(le.StrictMode,{children:N.jsx(IN,{})}));
